{"version":3,"file":"sanity-ui.modern.js","sources":["../src/constants.ts","../src/styles/helpers.ts","../src/styles/font/responsiveFont.ts","../src/styles/font/codeFontStyle.ts","../src/styles/font/headingFontStyle.ts","../src/styles/font/labelFontStyle.ts","../src/styles/font/textAlignStyle.ts","../src/styles/font/textFontStyle.ts","../src/hooks/useArrayProp.ts","../src/hooks/useClickOutside.ts","../src/observers/resizeObserver.ts","../src/observers/elementSizeObserver.ts","../src/hooks/useElementSize.ts","../src/hooks/useElementRect/useElementRect.ts","../src/hooks/useGlobalKeyDown.ts","../src/theme/lib/color-fns/blend/multiply.ts","../src/theme/lib/color-fns/blend/screen.ts","../src/theme/lib/color-fns/convert.ts","../src/theme/lib/color-fns/parse.ts","../src/theme/lib/color-fns/helpers/rgba.ts","../src/theme/lib/theme/color/button/createButtonTones.ts","../src/theme/lib/theme/color/button/createButtonModes.ts","../src/theme/lib/theme/color/card/createCardStates.ts","../src/theme/lib/theme/color/defaults.ts","../src/theme/lib/theme/color/input/createInputModes.ts","../src/theme/lib/theme/color/muted/createMuted.ts","../src/theme/lib/theme/color/selectable/createSelectableTones.ts","../src/theme/lib/theme/color/solid/createSolidTones.ts","../src/theme/lib/theme/color/spot/createSpot.ts","../src/theme/lib/theme/color/factory.ts","../src/theme/studioTheme/helpers.ts","../src/theme/studioTheme/color.ts","../src/theme/studioTheme/fonts.ts","../src/theme/studioTheme/theme.ts","../src/theme/defaults.ts","../src/lib/globalScope.ts","../src/theme/themeContext.ts","../src/theme/themeProvider.tsx","../src/lib/isRecord.ts","../src/theme/useRootTheme.ts","../src/theme/themeColorProvider.tsx","../src/theme/useTheme.ts","../src/hooks/useMediaIndex/lib/media.ts","../src/hooks/useMediaIndex/useMediaIndex.ts","../src/hooks/usePrefersDark.ts","../src/hooks/useIsomorphicEffect.ts","../src/hooks/useForwardedRef.ts","../src/hooks/useCustomValidity.ts","../src/styles/border/borderStyle.ts","../src/styles/box/boxStyle.ts","../src/styles/flex/flexStyle.ts","../src/styles/flex/flexItemStyle.ts","../src/styles/focusRing/index.ts","../src/styles/grid/gridStyle.ts","../src/styles/grid/gridItemStyle.ts","../src/styles/input/responsiveInputPaddingStyle.ts","../src/styles/input/textInputStyle.ts","../src/styles/margin/marginStyle.ts","../src/styles/padding/paddingStyle.ts","../src/styles/radius/radiusStyle.ts","../src/styles/shadow/shadowStyle.ts","../src/primitives/text/styles.ts","../src/primitives/text/text.tsx","../src/primitives/avatar/styles.ts","../src/primitives/avatar/avatar.tsx","../src/primitives/avatar/avatarCounter.tsx","../src/primitives/helpers.ts","../src/primitives/avatar/avatarStack.tsx","../src/primitives/box/box.tsx","../src/primitives/label/styles.ts","../src/primitives/label/label.tsx","../src/primitives/badge/styles.ts","../src/primitives/badge/badge.tsx","../src/primitives/flex/flex.tsx","../src/primitives/spinner/spinner.tsx","../src/styles/colorVars/colorVarsStyle.ts","../src/primitives/button/styles.ts","../src/primitives/button/button.tsx","../src/primitives/card/styles.ts","../src/primitives/card/card.tsx","../src/primitives/checkbox/styles.ts","../src/primitives/checkbox/checkbox.tsx","../src/primitives/code/styles.ts","../src/primitives/code/code.tsx","../src/primitives/container/styles.ts","../src/primitives/container/container.tsx","../src/primitives/grid/grid.tsx","../src/primitives/heading/styles.ts","../src/primitives/heading/heading.tsx","../src/primitives/inline/styles.ts","../src/primitives/inline/inline.tsx","../src/primitives/kbd/kbd.tsx","../src/utils/boundaryElement/boundaryElementContext.ts","../src/utils/boundaryElement/boundaryElementProvider.tsx","../src/utils/boundaryElement/useBoundaryElement.ts","../src/utils/elementQuery/helpers.ts","../src/utils/elementQuery/elementQuery.tsx","../src/utils/errorBoundary.tsx","../src/utils/layer/layerContext.ts","../src/utils/layer/useLayer.ts","../src/utils/layer/layerProvider.tsx","../src/utils/layer/layer.tsx","../src/utils/portal/portalContext.ts","../src/utils/portal/usePortal.ts","../src/utils/portal/portal.ts","../src/hooks/_internal/useUnique.ts","../src/utils/portal/portalProvider.tsx","../src/utils/srOnly/srOnly.tsx","../src/helpers/animation.ts","../src/helpers/element.ts","../src/helpers/focus.ts","../src/helpers/scroll.ts","../src/utils/virtualList/virtualList.tsx","../src/primitives/popover/arrow.tsx","../src/primitives/popover/modifiers/getPopoverModifiers.ts","../src/primitives/popover/modifiers/usePopoverModifiers.ts","../src/primitives/popover/popover.tsx","../src/primitives/radio/styles.ts","../src/primitives/radio/radio.tsx","../src/primitives/select/styles.ts","../src/primitives/select/select.tsx","../src/primitives/stack/styles.ts","../src/primitives/stack/stack.tsx","../src/primitives/switch/styles.ts","../src/primitives/switch/switch.tsx","../src/primitives/textArea/textArea.tsx","../src/primitives/textInput/textInput.tsx","../src/primitives/tooltip/tooltipArrow.tsx","../src/primitives/tooltip/tooltip.tsx","../src/components/autocomplete/autocomplete.styles.tsx","../src/components/autocomplete/autocompleteOption.tsx","../src/components/autocomplete/autocompleteReducer.ts","../src/components/autocomplete/constants.ts","../src/components/autocomplete/autocomplete.tsx","../src/components/breadcrumbs/breadcrumbs.styles.ts","../src/components/breadcrumbs/breadcrumbs.tsx","../src/components/dialog/styles.ts","../src/components/dialog/dialogContext.ts","../src/components/dialog/useDialog.ts","../src/components/dialog/dialog.tsx","../src/components/dialog/dialogProvider.tsx","../src/components/hotkeys/hotkeys.tsx","../src/components/menu/menuContext.ts","../src/components/menu/helpers.ts","../src/components/menu/useMenuController.ts","../src/components/menu/menu.tsx","../src/components/menu/menuButton.tsx","../src/components/menu/menuDivider.ts","../src/primitives/_selectable/style.ts","../src/primitives/_selectable/selectable.tsx","../src/components/menu/useMenu.ts","../src/components/menu/menuGroup.tsx","../src/components/menu/menuItem.tsx","../src/components/skeleton/styles.ts","../src/components/skeleton/skeleton.tsx","../src/components/skeleton/textSkeleton.tsx","../src/components/tab/tab.tsx","../src/components/tab/tabList.tsx","../src/components/tab/tabPanel.tsx","../src/components/toast/toast.tsx","../src/components/toast/toastContext.ts","../src/components/toast/toastProvider.tsx","../src/components/toast/useToast.ts","../src/components/tree/helpers.ts","../src/components/tree/treeContext.ts","../src/components/tree/tree.tsx","../src/components/tree/style.ts","../src/components/tree/useTree.ts","../src/components/tree/treeGroup.tsx","../src/components/tree/treeItem.tsx"],"sourcesContent":["export const EMPTY_ARRAY: any[] = []\nexport const EMPTY_RECORD: Record<string, any> = {}\n","import {CSSObject} from 'styled-components'\nimport {EMPTY_ARRAY} from '../constants'\nimport {Theme} from '../theme'\n\n/**\n * @internal\n */\nexport function _fillCSSObject(keys: string[], value: string | number | CSSObject): CSSObject {\n  return keys.reduce<CSSObject>((style, key) => {\n    style[key] = value\n\n    return style\n  }, {})\n}\n\n/**\n * @public\n */\nexport function rem(pixelValue: number): string | 0 {\n  if (pixelValue === 0) return 0\n\n  return `${pixelValue / 16}rem`\n}\n\n/**\n * @internal\n */\nexport function _responsive<T>(\n  media: number[],\n  values: T[],\n  callback: (value: T, index: number, array: T[]) => CSSObject\n): CSSObject[] {\n  const statements = values.map(callback)\n\n  return statements.map((statement, mediaIndex) => {\n    if (mediaIndex === 0) return statement\n\n    return {[`@media screen and (min-width: ${media[mediaIndex - 1]}px)`]: statement}\n  })\n}\n\n/**\n * @internal\n */\nexport function _getArrayProp<T = number>(val: T | T[] | undefined, defaultVal?: T[]): T[] {\n  if (val === undefined) return defaultVal || EMPTY_ARRAY\n\n  return Array.isArray(val) ? val : [val]\n}\n\n/**\n * @internal\n */\nexport function _getResponsiveSpace(\n  theme: Theme,\n  props: string[],\n  spaceIndexes: number[] = EMPTY_ARRAY\n): CSSObject[] | null {\n  if (!Array.isArray(spaceIndexes)) {\n    throw new Error('the property must be array of numbers')\n  }\n\n  if (spaceIndexes.length === 0) {\n    return null\n  }\n\n  return _responsive(theme.sanity.media, spaceIndexes, (spaceIndex) =>\n    _fillCSSObject(props, rem(theme.sanity.space[spaceIndex]))\n  )\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeFontSize, ThemeFontKey} from '../../theme'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * A utility function getting responsive font styles.\n * @internal\n */\nexport function responsiveFont(\n  fontKey: ThemeFontKey,\n  props: ResponsiveFontStyleProps & ThemeProps\n): CSSObject[] {\n  const {$size, $weight, theme} = props\n  const {fonts, media} = theme.sanity\n  const {family, sizes, weights} = fonts[fontKey]\n  const fontWeight = ($weight && weights[$weight]) || weights.regular\n\n  // @todo: make this configurable\n  const defaultSize = sizes[2]\n\n  const base: CSSObject = {\n    position: 'relative',\n    fontFamily: family,\n    fontWeight,\n    padding: '1px 0',\n    margin: 0,\n\n    '&:before': {\n      content: '\"\"',\n      display: 'block',\n      height: 0,\n    },\n\n    '&:after': {\n      content: '\"\"',\n      display: 'block',\n      height: 0,\n    },\n\n    '& > code, & > span': {\n      display: 'block',\n    },\n\n    '&:not([hidden])': {\n      display: 'block',\n    },\n  }\n\n  const resp = _responsive(media, $size, (sizeIndex) => fontSize(sizes[sizeIndex] || defaultSize))\n\n  return [base, ...resp]\n}\n\nexport function fontSize(size: ThemeFontSize): CSSObject {\n  const {ascenderHeight, descenderHeight, fontSize, iconSize, letterSpacing, lineHeight} = size\n  const negHeight = ascenderHeight + descenderHeight\n  const capHeight = lineHeight - negHeight\n  const iconOffset = (capHeight - iconSize) / 2\n  const customIconSize = Math.floor((fontSize * 1.125) / 2) * 2 + 1\n  const customIconOffset = (capHeight - customIconSize) / 2\n\n  return {\n    fontSize: rem(fontSize),\n    lineHeight: `calc(${lineHeight} / ${fontSize})`,\n    letterSpacing: rem(letterSpacing),\n    transform: `translateY(${rem(descenderHeight)})`,\n\n    '&:before': {\n      marginTop: `calc(${rem(0 - negHeight)} - 1px)`,\n    },\n\n    '&:after': {\n      marginBottom: '-1px',\n    },\n\n    '& svg:not([data-sanity-icon])': {\n      fontSize: `calc(${customIconSize} / 16 * 1rem)`,\n      margin: rem(customIconOffset),\n    },\n\n    '& [data-sanity-icon]': {\n      fontSize: `calc(${iconSize} / 16 * 1rem)`,\n      margin: rem(iconOffset),\n    },\n  }\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `code` font style.\n * @internal\n */\nexport function responsiveCodeFontStyle(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('code', props)\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `heading` font style.\n * @internal\n */\nexport function responsiveHeadingFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('heading', props)\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `label` font style.\n * @internal\n */\nexport function responsiveLabelFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('label', props)\n}\n","import {CSSObject} from 'styled-components'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveTextAlignStyleProps} from './types'\n\n/**\n * Get responsive text align styles.\n * @internal\n */\nexport function responsiveTextAlignStyle(\n  props: ResponsiveTextAlignStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n\n  return _responsive(theme.sanity.media, props.$align, (textAlign) => {\n    return {textAlign}\n  })\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `text` font style.\n * @internal\n */\nexport function responsiveTextFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('text', props)\n}\n","import {useMemo} from 'react'\nimport {_getArrayProp} from '../styles'\n\nexport type Primitive = string | number | boolean | undefined | null\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useArrayProp<T extends Primitive = Primitive>(\n  val: T | T[] | undefined,\n  defaultVal?: T[]\n): T[] {\n  const __perf_hash__ = JSON.stringify(val ?? defaultVal)\n\n  return useMemo(\n    () => _getArrayProp(val, defaultVal),\n\n    // Improve performance: Keep object identify for a given hash of the value\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [__perf_hash__]\n  )\n}\n","import {useEffect, useRef, useState} from 'react'\nimport {EMPTY_ARRAY} from '../constants'\n\n/**\n * @public\n */\nexport type ClickOutsideListener = (event: MouseEvent) => void\n\nfunction _getElements(\n  element: HTMLElement | null,\n  elementsArg: Array<HTMLElement | HTMLElement[] | null>\n): HTMLElement[] {\n  const ret = [element]\n\n  for (const el of elementsArg) {\n    if (Array.isArray(el)) {\n      ret.push(...el)\n    } else {\n      ret.push(el)\n    }\n  }\n\n  return ret.filter(Boolean) as HTMLElement[]\n}\n\n/**\n * @public\n */\nexport function useClickOutside(\n  listener: ClickOutsideListener,\n  elementsArg: Array<HTMLElement | HTMLElement[] | null> = EMPTY_ARRAY,\n  boundaryElement?: HTMLElement | null\n): (el: HTMLElement | null) => void {\n  const [element, setElement] = useState<HTMLElement | null>(null)\n  const [elements, setElements] = useState(() => _getElements(element, elementsArg))\n  const elementsRef = useRef(elements)\n\n  useEffect(() => {\n    const prevElements = elementsRef.current\n    const nextElements = _getElements(element, elementsArg)\n\n    if (prevElements.length !== nextElements.length) {\n      setElements(nextElements)\n      elementsRef.current = nextElements\n\n      return\n    }\n\n    for (const el of prevElements) {\n      if (!nextElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n\n    for (const el of nextElements) {\n      if (!prevElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n  }, [element, elementsArg])\n\n  useEffect(() => {\n    if (!listener) return undefined\n\n    const handleWindowMouseDown = (evt: MouseEvent) => {\n      const target = evt.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (boundaryElement && !boundaryElement.contains(target)) {\n        return\n      }\n\n      for (const el of elements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      listener(evt)\n    }\n\n    window.addEventListener('mousedown', handleWindowMouseDown)\n\n    return () => {\n      window.removeEventListener('mousedown', handleWindowMouseDown)\n    }\n  }, [boundaryElement, listener, elements])\n\n  return setElement\n}\n","import {ResizeObserver as ResizeObserverPolyfill} from '@juggle/resize-observer'\n\n/**\n * @internal\n */\nexport const _ResizeObserver: typeof ResizeObserver =\n  typeof window !== 'undefined' && window.ResizeObserver\n    ? window.ResizeObserver\n    : ResizeObserverPolyfill\n","import {_ResizeObserver} from './resizeObserver'\n\n/**\n * @beta\n */\nexport interface ElementRectValue {\n  width: number\n  height: number\n}\n\n/**\n * @beta\n */\nexport interface ElementSize {\n  content: ElementRectValue\n  border: ElementRectValue\n\n  /** @deprecated INTERNAL ONLY */\n  _contentRect: DOMRectReadOnly\n}\n\n/**\n * @internal\n */\nexport type _ElementSizeSubscriber = (elementRect: ElementSize) => void\n\n/**\n * @internal\n */\nexport interface _ElementSizeObserver {\n  subscribe: (element: HTMLElement, subscriber: _ElementSizeSubscriber) => () => void\n}\n\n/**\n * @internal\n */\nexport interface _ElementSizeListener {\n  subscribe: (element: HTMLElement, subscriber: _ElementSizeSubscriber) => () => void\n}\n\n// Initialize element size observer\n// NOTE: this should NOT have size effects\n/**\n * @internal\n */\nexport const _elementSizeObserver = _createElementSizeObserver()\n\nfunction _createElementRectValueListener(): _ElementSizeListener {\n  return {\n    subscribe(element, subscriber) {\n      const resizeObserver = new _ResizeObserver(([entry]) => {\n        subscriber({\n          _contentRect: entry.contentRect,\n          border: {\n            width: entry.borderBoxSize[0].inlineSize,\n            height: entry.borderBoxSize[0].blockSize,\n          },\n          content: {\n            width: entry.contentRect.width,\n            height: entry.contentRect.height,\n          },\n        })\n      })\n\n      resizeObserver.observe(element)\n\n      return () => {\n        resizeObserver.unobserve(element)\n        resizeObserver.disconnect()\n      }\n    },\n  }\n}\n\nfunction _createElementSizeObserver(): _ElementSizeObserver {\n  const disposeCache = new WeakMap<HTMLElement, () => void>()\n  const subscribersCache = new WeakMap<HTMLElement, _ElementSizeSubscriber[]>()\n\n  return {\n    subscribe(element, subscriber) {\n      const subscribers = subscribersCache.get(element) || []\n\n      let dispose = disposeCache.get(element)\n\n      if (!subscribersCache.has(element)) {\n        subscribersCache.set(element, subscribers)\n\n        const listener = _createElementRectValueListener()\n\n        // listen\n        dispose = listener.subscribe(element, (elementRect) => {\n          for (const sub of subscribers) {\n            sub(elementRect)\n          }\n        })\n      }\n\n      subscribers.push(subscriber)\n\n      return () => {\n        // dispose\n\n        const idx = subscribers.indexOf(subscriber)\n\n        if (idx > -1) {\n          subscribers.splice(idx, 1)\n        }\n\n        if (subscribers.length === 0) {\n          // unlisten\n          if (dispose) dispose()\n        }\n      }\n    },\n  }\n}\n","import {useEffect, useState} from 'react'\nimport {ElementSize, _elementSizeObserver} from '../observers/elementSizeObserver'\n\n/**\n * Subscribe to the size of a DOM element.\n * @beta\n */\nexport function useElementSize(element: HTMLElement | null): ElementSize | null {\n  const [size, setSize] = useState<ElementSize | null>(null)\n\n  useEffect(() => {\n    if (!element) return undefined\n\n    return _elementSizeObserver.subscribe(element, setSize)\n  }, [element])\n\n  return size\n}\n","import {useElementSize} from '../useElementSize'\n\n/**\n * Subscribe to the rect of a DOM element.\n * @deprecated Use `useElementSize` instead\n */\nexport function useElementRect(element: HTMLElement | null): DOMRectReadOnly | null {\n  const elementSize = useElementSize(element)\n\n  return elementSize?._contentRect || null\n}\n","import {useEffect} from 'react'\n\n/**\n * @beta\n */\nexport function useGlobalKeyDown(onKeyDown: (event: KeyboardEvent) => void): void {\n  return useEffect(() => {\n    addEventListener('keydown', onKeyDown)\n\n    return () => removeEventListener('keydown', onKeyDown)\n  }, [onKeyDown])\n}\n","import {RGB} from '../types'\n\nfunction multiplyChannel(b: number, s: number) {\n  return b * s\n}\n\n/**\n * Apply the \\`multiply\\` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingmultiply\n * @internal\n */\nexport function multiply(b: RGB, s: RGB): RGB {\n  return {\n    r: Math.round(clamp(multiplyChannel(b.r / 255, s.r / 255) * 255)),\n    g: Math.round(clamp(multiplyChannel(b.g / 255, s.g / 255) * 255)),\n    b: Math.round(clamp(multiplyChannel(b.b / 255, s.b / 255) * 255)),\n  }\n}\n\nfunction clamp(num: number) {\n  return Math.max(Math.min(num, 255), 0)\n}\n","import {RGB} from '../types'\n\nfunction screenChannel(b: number, s: number) {\n  return b + s - b * s\n}\n\n/**\n * Apply the \\`screen\\` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingscreen\n * @internal\n */\nexport function screen(b: RGB, s: RGB): RGB {\n  return {\n    r: Math.round(clamp(screenChannel(b.r / 255, s.r / 255) * 255)),\n    g: Math.round(clamp(screenChannel(b.g / 255, s.g / 255) * 255)),\n    b: Math.round(clamp(screenChannel(b.b / 255, s.b / 255) * 255)),\n  }\n}\n\nfunction clamp(num: number) {\n  return Math.max(Math.min(num, 255), 0)\n}\n","import {HSL, RGB} from './types'\n\n/**\n * @internal\n */\nexport function hexToRgb(hex: string): RGB {\n  if (hex.length === 4) {\n    const hexR = hex.slice(1, 2)\n    const hexG = hex.slice(2, 3)\n    const hexB = hex.slice(3, 4)\n\n    return {\n      r: parseInt(hexR + hexR, 16),\n      g: parseInt(hexG + hexG, 16),\n      b: parseInt(hexB + hexB, 16),\n    }\n  }\n\n  return {\n    r: parseInt(hex.slice(1, 3), 16),\n    g: parseInt(hex.slice(3, 5), 16),\n    b: parseInt(hex.slice(5, 7), 16),\n  }\n}\n\n/**\n * @internal\n */\nexport function rgbToHex({r, g, b}: RGB): string {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)\n}\n\n/**\n * @internal\n * @see https://css-tricks.com/converting-color-spaces-in-javascript/\n */\nexport function rgbToHsl({r, g, b}: RGB): HSL {\n  // Make r, g, and b fractions of 1\n  r /= 255\n  g /= 255\n  b /= 255\n\n  // Find greatest and smallest channel values\n  const cmin = Math.min(r, g, b)\n  const cmax = Math.max(r, g, b)\n  const delta = cmax - cmin\n\n  let h = 0\n  let s = 0\n  let l = 0\n\n  // Calculate hue\n  // No difference\n  if (delta == 0) h = 0\n  // Red is max\n  else if (cmax == r) h = ((g - b) / delta) % 6\n  // Green is max\n  else if (cmax == g) h = (b - r) / delta + 2\n  // Blue is max\n  else h = (r - g) / delta + 4\n\n  h = Math.round(h * 60)\n\n  // Make negative hues positive behind 360°\n  if (h < 0) h += 360\n\n  // Calculate lightness\n  l = (cmax + cmin) / 2\n\n  // Calculate saturation\n  s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1)\n  l = +(l * 100).toFixed(1)\n\n  return {h, s, l}\n}\n\n/**\n * @internal\n */\nexport function hslToRgb(hsl: HSL): RGB {\n  // Must be fractions of 1\n  const s = hsl.s / 100\n  const l = hsl.l / 100\n\n  const c = (1 - Math.abs(2 * l - 1)) * s\n  const x = c * (1 - Math.abs(((hsl.h / 60) % 2) - 1))\n  const m = l - c / 2\n\n  let r = 0\n  let g = 0\n  let b = 0\n\n  if (0 <= hsl.h && hsl.h < 60) {\n    r = c\n    g = x\n    b = 0\n  } else if (60 <= hsl.h && hsl.h < 120) {\n    r = x\n    g = c\n    b = 0\n  } else if (120 <= hsl.h && hsl.h < 180) {\n    r = 0\n    g = c\n    b = x\n  } else if (180 <= hsl.h && hsl.h < 240) {\n    r = 0\n    g = x\n    b = c\n  } else if (240 <= hsl.h && hsl.h < 300) {\n    r = x\n    g = 0\n    b = c\n  } else if (300 <= hsl.h && hsl.h < 360) {\n    r = c\n    g = 0\n    b = x\n  }\n\n  return {\n    r: Math.round((r + m) * 255),\n    g: Math.round((g + m) * 255),\n    b: Math.round((b + m) * 255),\n  }\n}\n","import {hexToRgb, hslToRgb} from './convert'\nimport {HSL, RGB} from './types'\n\nconst HEX_CHARS = '0123456789ABCDEFabcdef'\n\nconst HSL_RE = /hsl\\(\\s*(\\d+)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*\\)/i\n\nfunction isHexChars(str: string) {\n  for (const c of str) {\n    if (HEX_CHARS.indexOf(c) === -1) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction isHex(str: string) {\n  if (str[0] !== '#') return false\n\n  // Accept both #000 and #000000\n  if (!(str.length === 4 || str.length === 7)) return false\n\n  return isHexChars(str.slice(1))\n}\n\nfunction parseHsl(str: string): HSL {\n  const res = HSL_RE.exec(str)\n\n  if (!res) {\n    throw new Error(`parseHsl: string is not a HSL color: \"${str}\"`)\n  }\n\n  return {h: parseInt(res[1]), s: parseFloat(res[3]), l: parseFloat(res[5])}\n}\n\n/**\n * @internal\n */\nexport function parseColor(color: unknown): RGB {\n  if (!color) return {r: 0, g: 0, b: 0}\n\n  if (typeof color !== 'string') {\n    throw new Error('parseColor: expected a string')\n  }\n\n  if (isHex(color)) {\n    return hexToRgb(color)\n  }\n\n  if (color.startsWith('hsl(')) {\n    return hslToRgb(parseHsl(color))\n  }\n\n  throw new Error(`parseColor: unexpected color format: \"${color}\"`)\n}\n","import {parseColor} from '../parse'\n\n/**\n * @internal\n */\nexport function rgba(color: unknown, a: number): string {\n  const rgb = parseColor(color)\n\n  return `rgba(${rgb.r},${rgb.g},${rgb.b},${a})`\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorButtonModeKey, ThemeColorButtonTones} from './types'\n\nexport function createButtonTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n  mode: ThemeColorButtonModeKey\n): ThemeColorButtonTones {\n  return {\n    default: opts.button({\n      base,\n      dark,\n      solid: solid.default,\n      muted: muted.default,\n      mode,\n    }),\n    primary: opts.button({\n      base,\n      dark,\n      solid: solid.primary,\n      muted: muted.primary,\n      mode,\n    }),\n    positive: opts.button({\n      base,\n      dark,\n      solid: solid.positive,\n      muted: muted.positive,\n      mode,\n    }),\n    caution: opts.button({\n      base,\n      dark,\n      solid: solid.caution,\n      muted: muted.caution,\n      mode,\n    }),\n    critical: opts.button({\n      base,\n      dark,\n      solid: solid.critical,\n      muted: muted.critical,\n      mode,\n    }),\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {createButtonTones} from './createButtonTones'\nimport {ThemeColorButton} from './types'\n\nexport function createButtonModes(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorButton {\n  return {\n    default: createButtonTones(opts, base, dark, solid, muted, 'default'),\n    ghost: createButtonTones(opts, base, dark, solid, muted, 'ghost'),\n    bleed: createButtonTones(opts, base, dark, solid, muted, 'bleed'),\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorCard} from './types'\n\nexport function createCardStates(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorCard {\n  return {\n    enabled: opts.card({\n      base,\n      dark,\n      name,\n      state: 'enabled',\n      solid,\n      muted,\n    }),\n    disabled: opts.card({\n      base,\n      dark,\n      name,\n      state: 'disabled',\n      solid,\n      muted,\n    }),\n    hovered: opts.card({\n      base,\n      dark,\n      name,\n      state: 'hovered',\n      solid,\n      muted,\n    }),\n    pressed: opts.card({\n      base,\n      dark,\n      name,\n      state: 'pressed',\n      solid,\n      muted,\n    }),\n    selected: opts.card({\n      base,\n      dark,\n      name,\n      state: 'selected',\n      solid,\n      muted,\n    }),\n  }\n}\n","import {ThemeColorBuilderOpts} from './factory'\n\nconst black = 'hsl(0, 0%, 0%)'\nconst white = 'hsl(0, 0%, 100%)'\n\nconst colors = {\n  default: {\n    lightest: 'hsl(0, 0%, 95%)',\n    lighter: 'hsl(0, 0%, 70%)',\n    light: 'hsl(0, 0%, 65%)',\n    base: 'hsl(0, 0%, 50%)',\n    dark: 'hsl(0, 0%, 35%)',\n    darker: 'hsl(0, 0%, 20%)',\n    darkest: 'hsl(0, 0%, 5%)',\n  },\n  transparent: {\n    lightest: 'hsl(240, 100%, 95%)',\n    lighter: 'hsl(240, 100%, 70%)',\n    light: 'hsl(240, 100%, 65%)',\n    base: 'hsl(240, 100%, 50%)',\n    dark: 'hsl(240, 100%, 35%)',\n    darker: 'hsl(240, 100%, 20%)',\n    darkest: 'hsl(240, 100%, 5%)',\n  },\n  primary: {\n    lightest: 'hsl(240, 100%, 95%)',\n    lighter: 'hsl(240, 100%, 70%)',\n    light: 'hsl(240, 100%, 65%)',\n    base: 'hsl(240, 100%, 50%)',\n    dark: 'hsl(240, 100%, 35%)',\n    darker: 'hsl(240, 100%, 20%)',\n    darkest: 'hsl(240, 100%, 5%)',\n  },\n  positive: {\n    lightest: 'hsl(120, 100%, 95%)',\n    lighter: 'hsl(120, 100%, 70%)',\n    light: 'hsl(120, 100%, 65%)',\n    base: 'hsl(120, 100%, 50%)',\n    dark: 'hsl(120, 100%, 35%)',\n    darker: 'hsl(120, 100%, 20%)',\n    darkest: 'hsl(120, 100%, 5%)',\n  },\n  caution: {\n    lightest: 'hsl(60, 100%, 95%)',\n    lighter: 'hsl(60, 100%, 70%)',\n    light: 'hsl(60, 100%, 65%)',\n    base: 'hsl(60, 100%, 50%)',\n    dark: 'hsl(60, 100%, 35%)',\n    darker: 'hsl(60, 100%, 20%)',\n    darkest: 'hsl(60, 100%, 5%)',\n  },\n  critical: {\n    lightest: 'hsl(0, 100%, 95%)',\n    lighter: 'hsl(0, 100%, 70%)',\n    light: 'hsl(0, 100%, 65%)',\n    base: 'hsl(0, 100%, 50%)',\n    dark: 'hsl(0, 100%, 35%)',\n    darker: 'hsl(0, 100%, 20%)',\n    darkest: 'hsl(0, 100%, 5%)',\n  },\n}\n\nconst spots = {\n  gray: 'hsl(0, 0%, 50%)',\n  red: 'hsl(0, 100%, 50%)',\n  orange: 'hsl(30, 100%, 50%)',\n  yellow: 'hsl(60, 100%, 50%)',\n  green: 'hsl(120, 100%, 50%)',\n  cyan: 'hsl(180, 100%, 50%)',\n  blue: 'hsl(240, 100%, 50%)',\n  purple: 'hsl(270, 100%, 50%)',\n  magenta: 'hsl(300, 100%, 50%)',\n}\n\nconst tones = {\n  transparent: {\n    bg: [colors.transparent.darkest, colors.transparent.lightest],\n    fg: [colors.transparent.lightest, colors.transparent.darkest],\n    border: [colors.transparent.darker, colors.transparent.lighter],\n    focusRing: [colors.transparent.base, colors.transparent.base],\n  },\n  primary: {\n    bg: [colors.primary.darkest, colors.primary.lightest],\n    fg: [colors.primary.lightest, colors.primary.darkest],\n    border: [colors.primary.darker, colors.primary.lighter],\n    focusRing: [colors.primary.base, colors.primary.base],\n  },\n  positive: {\n    bg: [colors.positive.darkest, colors.positive.lightest],\n    fg: [colors.positive.lightest, colors.positive.darkest],\n    border: [colors.positive.darker, colors.positive.lighter],\n    focusRing: [colors.positive.base, colors.positive.base],\n  },\n  caution: {\n    bg: [colors.caution.darkest, colors.caution.lightest],\n    fg: [colors.caution.lightest, colors.caution.darkest],\n    border: [colors.caution.darker, colors.caution.lighter],\n    focusRing: [colors.caution.base, colors.caution.base],\n  },\n  critical: {\n    bg: [colors.critical.darkest, colors.critical.lightest],\n    fg: [colors.critical.lightest, colors.critical.darkest],\n    border: [colors.critical.darker, colors.critical.lighter],\n    focusRing: [colors.critical.base, colors.critical.base],\n  },\n}\n\nexport const defaultOpts: ThemeColorBuilderOpts = {\n  base: ({dark, name}) => {\n    if (name === 'default') {\n      return {\n        bg: dark ? black : white,\n        fg: dark ? white : black,\n        border: dark ? colors.default.darkest : colors.default.lightest,\n        focusRing: colors.primary.base,\n        shadow: {\n          outline: black,\n          umbra: black,\n          penumbra: black,\n          ambient: black,\n        },\n        skeleton: {\n          from: dark ? white : black,\n          to: dark ? white : black,\n        },\n      }\n    }\n\n    // Variants:\n    // - primary\n    // - positive\n    // - caution\n    // - critical\n    return {\n      bg: tones[name].bg[dark ? 0 : 1],\n      fg: tones[name].fg[dark ? 0 : 1],\n      border: tones[name].border[dark ? 0 : 1],\n      focusRing: tones[name].focusRing[dark ? 0 : 1],\n      shadow: {\n        outline: black,\n        umbra: black,\n        penumbra: black,\n        ambient: black,\n      },\n      skeleton: {\n        from: dark ? white : black,\n        to: dark ? white : black,\n      },\n    }\n  },\n\n  solid: ({base, dark, state, tone}) => {\n    const color = colors[tone]\n\n    if (state === 'hovered') {\n      return {\n        bg: dark ? color.light : color.dark,\n        bg2: dark ? color.light : color.dark,\n        border: dark ? color.lighter : color.darker,\n        fg: dark ? color.darkest : color.lightest,\n        muted: {\n          fg: black,\n        },\n        accent: {\n          fg: black,\n        },\n        link: {\n          fg: black,\n        },\n        code: {\n          bg: black,\n          fg: black,\n        },\n        skeleton: base.skeleton,\n      }\n    }\n\n    return {\n      bg: color.base,\n      bg2: color.base,\n      border: dark ? color.light : color.dark,\n      fg: dark ? color.darkest : color.lightest,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  muted: ({base, dark, state, tone}) => {\n    const color = colors[tone]\n\n    if (state === 'hovered') {\n      return {\n        bg: dark ? color.darker : color.lighter,\n        bg2: dark ? color.darker : color.lighter,\n        border: dark ? color.lighter : color.darker,\n        fg: dark ? color.lightest : color.darkest,\n        muted: {\n          fg: black,\n        },\n        accent: {\n          fg: black,\n        },\n        link: {\n          fg: black,\n        },\n        code: {\n          bg: black,\n          fg: black,\n        },\n        skeleton: base.skeleton,\n      }\n    }\n\n    return {\n      bg: dark ? color.darkest : color.lightest,\n      bg2: dark ? color.darkest : color.lightest,\n      border: dark ? color.darker : color.lighter,\n      fg: dark ? color.lighter : color.darker,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  button: ({base, mode, muted, solid}) => {\n    if (mode === 'bleed') {\n      return {\n        ...muted,\n        enabled: {\n          bg: 'transparent',\n          bg2: 'transparent',\n          fg: muted.enabled.fg,\n          border: 'transparent',\n          muted: {\n            fg: black,\n          },\n          accent: {\n            fg: black,\n          },\n          link: {\n            fg: black,\n          },\n          code: {\n            bg: black,\n            fg: black,\n          },\n          skeleton: base.skeleton,\n        },\n        hovered: {\n          bg: muted.enabled.bg,\n          bg2: muted.enabled.bg,\n          fg: muted.hovered.fg,\n          border: 'transparent',\n          muted: {\n            fg: black,\n          },\n          accent: {\n            fg: black,\n          },\n          link: {\n            fg: black,\n          },\n          code: {\n            bg: black,\n            fg: black,\n          },\n          skeleton: base.skeleton,\n        },\n      }\n    }\n\n    if (mode === 'ghost')\n      return {\n        ...solid,\n        enabled: muted.enabled,\n      }\n\n    return solid\n  },\n\n  card: ({base}) => {\n    return {\n      bg: black,\n      bg2: black,\n      fg: black,\n      border: black,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  input: () => {\n    return {\n      bg: black,\n      fg: black,\n      border: black,\n      placeholder: black,\n    }\n  },\n\n  selectable: ({muted, state, tone}) => {\n    return muted[tone][state]\n  },\n\n  spot: ({key}) => {\n    return spots[key]\n  },\n\n  syntax: () => ({\n    atrule: black,\n    attrName: black,\n    attrValue: black,\n    attribute: black,\n    boolean: black,\n    builtin: black,\n    cdata: black,\n    char: black,\n    class: black,\n    className: black,\n    comment: black,\n    constant: black,\n    deleted: black,\n    doctype: black,\n    entity: black,\n    function: black,\n    hexcode: black,\n    id: black,\n    important: black,\n    inserted: black,\n    keyword: black,\n    number: black,\n    operator: black,\n    prolog: black,\n    property: black,\n    pseudoClass: black,\n    pseudoElement: black,\n    punctuation: black,\n    regex: black,\n    selector: black,\n    string: black,\n    symbol: black,\n    tag: black,\n    unit: black,\n    url: black,\n    variable: black,\n  }),\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorInput} from './types'\n\nexport function createInputModes(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorInput {\n  return {\n    default: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'enabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'disabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'hovered',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'readOnly',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n    },\n    invalid: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'enabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'disabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'hovered',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'readOnly',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n    },\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorMuted} from './types'\n\nexport function createMutedTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName\n): ThemeColorMuted {\n  return {\n    default: {\n      enabled: opts.muted({base, dark, tone: 'default', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'default', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'default', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'default', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'default', name, state: 'selected'}),\n    },\n    transparent: {\n      enabled: opts.muted({base, dark, tone: 'transparent', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'transparent', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'transparent', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'transparent', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'transparent', name, state: 'selected'}),\n    },\n    primary: {\n      enabled: opts.muted({base, dark, tone: 'primary', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'primary', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'primary', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'primary', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'primary', name, state: 'selected'}),\n    },\n    positive: {\n      enabled: opts.muted({base, dark, tone: 'positive', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'positive', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'positive', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'positive', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'positive', name, state: 'selected'}),\n    },\n    caution: {\n      enabled: opts.muted({base, dark, tone: 'caution', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'caution', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'caution', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'caution', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'caution', name, state: 'selected'}),\n    },\n    critical: {\n      enabled: opts.muted({base, dark, tone: 'critical', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'critical', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'critical', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'critical', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'critical', name, state: 'selected'}),\n    },\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorSelectable, ThemeColorSelectableStates} from './types'\n\nexport function createSelectableTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorSelectable {\n  return {\n    default: _createSelectableStates(opts, base, dark, solid, muted, 'default'),\n    primary: _createSelectableStates(opts, base, dark, solid, muted, 'primary'),\n    positive: _createSelectableStates(opts, base, dark, solid, muted, 'positive'),\n    caution: _createSelectableStates(opts, base, dark, solid, muted, 'caution'),\n    critical: _createSelectableStates(opts, base, dark, solid, muted, 'critical'),\n  }\n}\n\nfunction _createSelectableStates(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n  tone: 'default' | 'primary' | 'positive' | 'caution' | 'critical'\n): ThemeColorSelectableStates {\n  return {\n    enabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'enabled',\n      tone,\n    }),\n    hovered: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'hovered',\n      tone,\n    }),\n    pressed: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'pressed',\n      tone,\n    }),\n    selected: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'selected',\n      tone,\n    }),\n    disabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'disabled',\n      tone,\n    }),\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorSolid} from './types'\n\nexport function createSolidTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName\n): ThemeColorSolid {\n  return {\n    default: {\n      enabled: opts.solid({base, dark, tone: 'default', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'default', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'default', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'default', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'default', name, state: 'selected'}),\n    },\n    transparent: {\n      enabled: opts.solid({base, dark, tone: 'transparent', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'transparent', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'transparent', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'transparent', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'transparent', name, state: 'selected'}),\n    },\n    primary: {\n      enabled: opts.solid({base, dark, tone: 'primary', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'primary', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'primary', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'primary', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'primary', name, state: 'selected'}),\n    },\n    positive: {\n      enabled: opts.solid({base, dark, tone: 'positive', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'positive', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'positive', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'positive', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'positive', name, state: 'selected'}),\n    },\n    caution: {\n      enabled: opts.solid({base, dark, tone: 'caution', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'caution', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'caution', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'caution', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'caution', name, state: 'selected'}),\n    },\n    critical: {\n      enabled: opts.solid({base, dark, tone: 'critical', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'critical', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'critical', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'critical', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'critical', name, state: 'selected'}),\n    },\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorSpot} from './types'\n\nexport function createSpot(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean\n): ThemeColorSpot {\n  return {\n    gray: opts.spot({base, dark, key: 'gray'}),\n    blue: opts.spot({base, dark, key: 'blue'}),\n    purple: opts.spot({base, dark, key: 'purple'}),\n    magenta: opts.spot({base, dark, key: 'magenta'}),\n    red: opts.spot({base, dark, key: 'red'}),\n    orange: opts.spot({base, dark, key: 'orange'}),\n    yellow: opts.spot({base, dark, key: 'yellow'}),\n    green: opts.spot({base, dark, key: 'green'}),\n    cyan: opts.spot({base, dark, key: 'cyan'}),\n  }\n}\n","import {ThemeColorGenericState} from './_generic'\nimport {ThemeColorBase} from './base'\nimport {ThemeColorButtonModeKey, ThemeColorButtonStates} from './button'\nimport {createButtonModes} from './button/createButtonModes'\nimport {ThemeColorCardState} from './card'\nimport {createCardStates} from './card/createCardStates'\nimport {defaultOpts} from './defaults'\nimport {ThemeColorInputState} from './input'\nimport {createInputModes} from './input/createInputModes'\nimport {ThemeColorMuted, ThemeColorMutedTone} from './muted'\nimport {createMutedTones} from './muted/createMuted'\nimport {ThemeColorSelectableState} from './selectable'\nimport {createSelectableTones} from './selectable/createSelectableTones'\nimport {ThemeColorSolid, ThemeColorSolidTone} from './solid'\nimport {createSolidTones} from './solid/createSolidTones'\nimport {ThemeColorSpotKey} from './spot'\nimport {createSpot} from './spot/createSpot'\nimport {ThemeColorSyntax} from './syntax'\nimport {\n  ThemeColorName,\n  ThemeColorScheme,\n  ThemeColorSchemes,\n  ThemeColor,\n  ThemeColorToneKey,\n} from './types'\n\n/**\n * @public\n */\nexport interface ThemeColorBuilderOpts {\n  base: (opts: {dark: boolean; name: ThemeColorName}) => ThemeColorBase\n  solid: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    tone: ThemeColorToneKey\n    name: ThemeColorName\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorGenericState\n  muted: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    tone: ThemeColorToneKey\n    name: ThemeColorName\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorGenericState\n  card: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    muted: ThemeColorMuted\n    name: ThemeColorName\n    solid: ThemeColorSolid\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorCardState\n  button: (opts: {\n    dark: boolean\n    mode: ThemeColorButtonModeKey\n    base: ThemeColorBase\n    solid: ThemeColorSolidTone\n    muted: ThemeColorMutedTone\n  }) => ThemeColorButtonStates\n  input: (opts: {\n    base: ThemeColorBase\n    solid: ThemeColorSolidTone\n    muted: ThemeColorMutedTone\n    dark: boolean\n    mode: 'default' | 'invalid'\n    state: 'enabled' | 'disabled' | 'hovered' | 'readOnly'\n  }) => ThemeColorInputState\n  selectable: (opts: {\n    dark: boolean\n    base: ThemeColorBase\n    solid: ThemeColorSolid\n    muted: ThemeColorMuted\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n    tone: 'default' | 'primary' | 'positive' | 'caution' | 'critical'\n  }) => ThemeColorSelectableState\n  syntax: (opts: {base: ThemeColorBase; dark: boolean}) => ThemeColorSyntax\n  spot: (opts: {base: ThemeColorBase; dark: boolean; key: ThemeColorSpotKey}) => string\n}\n\n/**\n * @public\n */\nexport type PartialThemeColorBuilderOpts = Partial<ThemeColorBuilderOpts>\n\n/**\n * @public\n */\nexport function createColorTheme(\n  partialOpts: PartialThemeColorBuilderOpts = {}\n): ThemeColorSchemes {\n  const builders: ThemeColorBuilderOpts = {...defaultOpts, ...partialOpts}\n\n  return {\n    light: _createColorScheme(builders, false),\n    dark: _createColorScheme(builders, true),\n  }\n}\n\n/**\n * @internal\n */\nfunction _createColorScheme(opts: ThemeColorBuilderOpts, dark: boolean): ThemeColorScheme {\n  return {\n    default: _createColor(opts, dark, 'default'),\n    transparent: _createColor(opts, dark, 'transparent'),\n    primary: _createColor(opts, dark, 'primary'),\n    positive: _createColor(opts, dark, 'positive'),\n    caution: _createColor(opts, dark, 'caution'),\n    critical: _createColor(opts, dark, 'critical'),\n  }\n}\n\n/**\n * @internal\n */\nfunction _createColor(\n  opts: ThemeColorBuilderOpts,\n  dark: boolean,\n  name: ThemeColorName\n): ThemeColor {\n  const base = opts.base({dark, name})\n  const solid = createSolidTones(opts, base, dark, name)\n  const muted = createMutedTones(opts, base, dark, name)\n\n  return {\n    base,\n    button: createButtonModes(opts, base, dark, solid, muted),\n    card: createCardStates(opts, base, dark, name, solid, muted),\n    dark,\n    input: createInputModes(opts, base, dark, solid, muted),\n    selectable: createSelectableTones(opts, base, dark, solid, muted),\n    spot: createSpot(opts, base, dark),\n    syntax: opts.syntax({base, dark}),\n    solid,\n    muted,\n  }\n}\n","import {parseColor, rgbToHex, screen as _screen, multiply as _multiply} from '../lib/color-fns'\n\nexport function multiply(bg: string, fg: string): string {\n  const b = parseColor(bg)\n  const s = parseColor(fg)\n  const hex = rgbToHex(_multiply(b, s))\n\n  return hex\n}\n\nexport function screen(bg: string, fg: string): string {\n  const b = parseColor(bg)\n  const s = parseColor(fg)\n  const hex = rgbToHex(_screen(b, s))\n\n  return hex\n}\n","import {black, ColorTints, hues, white} from '@sanity/color'\nimport {rgba} from '../lib/color-fns'\nimport {createColorTheme} from '../lib/theme'\nimport {multiply, screen} from './helpers'\n\nconst tones: {[key: string]: ColorTints} = {\n  default: hues.gray,\n  transparent: hues.gray,\n  primary: hues.blue,\n  positive: hues.green,\n  caution: hues.yellow,\n  critical: hues.red,\n}\n\nconst NEUTRAL_TONES = ['default', 'transparent']\n\nexport const color = createColorTheme({\n  base: ({dark, name}) => {\n    if (name === 'default') {\n      const tints = hues.gray\n      const skeletonFrom = dark ? tints[900].hex : tints[100].hex\n\n      return {\n        fg: dark ? white.hex : black.hex,\n        bg: dark ? black.hex : white.hex,\n        border: tints[dark ? 800 : 200].hex,\n        focusRing: hues.blue[dark ? 500 : 500].hex,\n        shadow: {\n          outline: rgba(tints[500].hex, 0.4),\n          umbra: dark ? rgba(tints[950].hex, 0.4) : rgba(tints[500].hex, 0.2),\n          penumbra: dark ? rgba(tints[950].hex, 0.28) : rgba(tints[500].hex, 0.14),\n          ambient: dark ? rgba(tints[950].hex, 0.24) : rgba(tints[500].hex, 0.12),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (name === 'transparent') {\n      const tints = tones.default\n      const skeletonFrom = tints[dark ? 800 : 200].hex\n\n      return {\n        fg: tints[dark ? 100 : 900].hex,\n        bg: tints[dark ? 950 : 50].hex,\n        border: tints[dark ? 800 : 300].hex,\n        focusRing: hues.blue[500].hex,\n        shadow: {\n          outline: rgba(tints[500].hex, 0.4),\n          umbra: dark ? rgba(tints[900].hex, 0.4) : rgba(tints[500].hex, 0.2),\n          penumbra: dark ? rgba(tints[900].hex, 0.28) : rgba(tints[500].hex, 0.14),\n          ambient: dark ? rgba(tints[900].hex, 0.24) : rgba(tints[500].hex, 0.12),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    const tints = tones[name] || tones.default\n    const skeletonFrom = tints[dark ? 800 : 200].hex\n\n    return {\n      fg: tints[dark ? 100 : 900].hex,\n      bg: tints[dark ? 950 : 50].hex,\n      border: tints[dark ? 800 : 200].hex,\n      focusRing: tints[500].hex,\n      shadow: {\n        outline: rgba(tints[500].hex, 0.4),\n        umbra: dark ? rgba(tints[900].hex, 0.4) : rgba(tints[500].hex, 0.2),\n        penumbra: dark ? rgba(tints[900].hex, 0.28) : rgba(tints[500].hex, 0.14),\n        ambient: dark ? rgba(tints[900].hex, 0.24) : rgba(tints[500].hex, 0.12),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  solid: ({base, dark, name, state, tone}) => {\n    const mix = dark ? screen : multiply\n    const mix2 = dark ? multiply : screen\n    const defaultTints = tones[name] || tones.default\n    const isNeutral = NEUTRAL_TONES.includes(name) && NEUTRAL_TONES.includes(tone)\n\n    let tints = tones[tone === 'default' ? name : tone] || defaultTints\n\n    if (state === 'disabled') {\n      tints = defaultTints\n\n      const bg = mix(base.bg, tints[dark ? 800 : 200].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 800 : 200].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        accent: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        link: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        code: {\n          bg,\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'hovered') {\n      const bg = mix(base.bg, tints[dark ? 300 : 600].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 300 : 600].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'pressed') {\n      const bg = mix(base.bg, tints[dark ? 200 : 800].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 200 : 800].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 200 : 800].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 200 : 800].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    // state: \"enabled\" | unknown\n    const bg = mix(base.bg, tints[dark ? 400 : 500].hex)\n    const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n    return {\n      bg,\n      bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n      border: mix(base.bg, tints[dark ? 400 : 500].hex),\n      fg: mix(base.bg, dark ? black.hex : white.hex),\n      muted: {\n        fg: mix(base.bg, tints[dark ? 900 : 100].hex),\n      },\n      accent: {\n        fg: mix2(bg, hues.red[dark ? 900 : 100].hex),\n      },\n      link: {\n        fg: mix2(bg, hues.blue[dark ? 900 : 100].hex),\n      },\n      code: {\n        bg: mix(bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 900 : 100].hex),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  muted: ({base, dark, name, state, tone}) => {\n    const mix = dark ? screen : multiply\n    const defaultTints = tones[name] || tones.default\n    const isNeutral = NEUTRAL_TONES.includes(name) && NEUTRAL_TONES.includes(tone)\n\n    let tints = tones[tone === 'default' ? name : tone] || defaultTints\n\n    if (state === 'disabled') {\n      tints = defaultTints\n\n      const bg = base.bg\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 950 : 50].hex),\n        fg: mix(bg, tints[dark ? 800 : 200].hex),\n        muted: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        accent: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        link: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        code: {\n          bg,\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        skeleton: {\n          from: rgba(skeletonFrom, 0.5),\n          to: rgba(skeletonFrom, 0.25),\n        },\n      }\n    }\n\n    if (state === 'hovered') {\n      // if (isNeutral) {\n      //   tints = tones.primary\n      // }\n\n      const bg = mix(base.bg, tints[dark ? 950 : 50].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'pressed') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 900 : 100].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 900 : 100].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    const bg = base.bg\n    const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n    return {\n      bg,\n      bg2: mix(bg, tints[dark ? 950 : 50].hex),\n      border: mix(bg, tints[dark ? 900 : 100].hex),\n      fg: mix(base.bg, tints[dark ? 300 : 700].hex),\n      muted: {\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      accent: {\n        fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n      },\n      link: {\n        fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n      },\n      code: {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  button: ({base, mode, muted, solid}) => {\n    if (mode === 'bleed') {\n      return {\n        enabled: {\n          ...muted.enabled,\n          border: muted.enabled.bg,\n        },\n        hovered: {\n          ...muted.hovered,\n          border: muted.hovered.bg,\n        },\n        pressed: {\n          ...muted.pressed,\n          border: muted.pressed.bg,\n        },\n        selected: {\n          ...muted.selected,\n          border: muted.selected.bg,\n        },\n        disabled: {\n          ...muted.disabled,\n          border: muted.disabled.bg,\n        },\n      }\n    }\n\n    if (mode === 'ghost') {\n      return {\n        ...solid,\n        enabled: {\n          ...muted.enabled,\n          border: base.border,\n        },\n        disabled: muted.disabled,\n      }\n    }\n\n    return solid\n  },\n\n  card: ({base, dark, muted, name, solid, state}) => {\n    if (state === 'hovered') {\n      return muted[name].hovered\n    }\n\n    if (state === 'disabled') {\n      return muted[name].disabled\n    }\n\n    const isNeutral = NEUTRAL_TONES.includes(name)\n    const tints = tones[name] || tones.default\n    const mix = dark ? screen : multiply\n\n    if (state === 'pressed') {\n      if (isNeutral) {\n        return muted.primary.pressed\n      }\n\n      return muted[name].pressed\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        return solid.primary.enabled\n      }\n\n      return solid[name].enabled\n    }\n\n    const bg = base.bg\n    const skeletonFrom = mix(base.bg, tints[dark ? 900 : 100].hex)\n\n    return {\n      bg,\n      bg2: mix(bg, tints[dark ? 950 : 50].hex),\n      fg: base.fg,\n      border: base.border,\n      muted: {\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      accent: {\n        fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n      },\n      link: {\n        fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n      },\n      code: {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: tints[dark ? 400 : 600].hex,\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  input: ({base, dark, mode, state}) => {\n    const mix = dark ? screen : multiply\n\n    if (mode === 'invalid') {\n      const tints = tones.critical\n\n      return {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        border: mix(base.bg, tints[dark ? 800 : 200].hex),\n        placeholder: mix(base.bg, tints[dark ? 600 : 400].hex),\n      }\n    }\n\n    if (state === 'hovered') {\n      return {\n        bg: base.bg,\n        fg: base.fg,\n        border: mix(base.bg, hues.gray[dark ? 700 : 300].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n      }\n    }\n\n    if (state === 'disabled') {\n      return {\n        bg: mix(base.bg, hues.gray[dark ? 950 : 50].hex),\n        fg: mix(base.bg, hues.gray[dark ? 700 : 300].hex),\n        border: mix(base.bg, hues.gray[dark ? 900 : 100].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 800 : 200].hex),\n      }\n    }\n\n    if (state === 'readOnly') {\n      return {\n        bg: mix(base.bg, hues.gray[dark ? 950 : 50].hex),\n        fg: mix(base.bg, hues.gray[dark ? 200 : 800].hex),\n        border: mix(base.bg, hues.gray[dark ? 800 : 200].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n      }\n    }\n\n    return {\n      bg: base.bg,\n      fg: base.fg,\n      border: base.border,\n      placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n    }\n  },\n\n  selectable: ({base, muted, tone, solid, state}) => {\n    if (state === 'enabled') {\n      return {\n        ...muted[tone].enabled,\n        bg: base.bg,\n      }\n    }\n\n    if (state === 'pressed') {\n      if (tone === 'default') {\n        return muted.primary.pressed\n      }\n\n      return muted[tone].pressed\n    }\n\n    if (state === 'selected') {\n      if (tone === 'default') {\n        return solid.primary.enabled\n      }\n\n      return solid[tone].enabled\n    }\n\n    if (state === 'disabled') {\n      return {\n        ...muted[tone].disabled,\n        bg: base.bg,\n      }\n    }\n\n    return muted[tone][state]\n  },\n\n  spot: ({base, dark, key}) => {\n    const mix = dark ? screen : multiply\n\n    return mix(base.bg, hues[key][dark ? 400 : 500].hex)\n  },\n\n  syntax: ({base, dark}) => {\n    const mix = dark ? screen : multiply\n    const mainShade = dark ? 400 : 600\n    const secondaryShade = dark ? 600 : 400\n\n    return {\n      atrule: mix(base.bg, hues.purple[mainShade].hex),\n      attrName: mix(base.bg, hues.green[mainShade].hex),\n      attrValue: mix(base.bg, hues.yellow[mainShade].hex),\n      attribute: mix(base.bg, hues.yellow[mainShade].hex),\n      boolean: mix(base.bg, hues.purple[mainShade].hex),\n      builtin: mix(base.bg, hues.purple[mainShade].hex),\n      cdata: mix(base.bg, hues.yellow[mainShade].hex),\n      char: mix(base.bg, hues.yellow[mainShade].hex),\n      class: mix(base.bg, hues.orange[mainShade].hex),\n      className: mix(base.bg, hues.cyan[mainShade].hex),\n      comment: mix(base.bg, hues.gray[secondaryShade].hex),\n      constant: mix(base.bg, hues.purple[mainShade].hex),\n      deleted: mix(base.bg, hues.red[mainShade].hex),\n      doctype: mix(base.bg, hues.gray[secondaryShade].hex),\n      entity: mix(base.bg, hues.red[mainShade].hex),\n      function: mix(base.bg, hues.green[mainShade].hex),\n      hexcode: mix(base.bg, hues.blue[mainShade].hex),\n      id: mix(base.bg, hues.purple[mainShade].hex),\n      important: mix(base.bg, hues.purple[mainShade].hex),\n      inserted: mix(base.bg, hues.yellow[mainShade].hex),\n      keyword: mix(base.bg, hues.magenta[mainShade].hex),\n      number: mix(base.bg, hues.purple[mainShade].hex),\n      operator: mix(base.bg, hues.magenta[mainShade].hex),\n      prolog: mix(base.bg, hues.gray[secondaryShade].hex),\n      property: mix(base.bg, hues.blue[mainShade].hex),\n      pseudoClass: mix(base.bg, hues.yellow[mainShade].hex),\n      pseudoElement: mix(base.bg, hues.yellow[mainShade].hex),\n      punctuation: mix(base.bg, hues.gray[mainShade].hex),\n      regex: mix(base.bg, hues.blue[mainShade].hex),\n      selector: mix(base.bg, hues.red[mainShade].hex),\n      string: mix(base.bg, hues.yellow[mainShade].hex),\n      symbol: mix(base.bg, hues.purple[mainShade].hex),\n      tag: mix(base.bg, hues.red[mainShade].hex),\n      unit: mix(base.bg, hues.orange[mainShade].hex),\n      url: mix(base.bg, hues.red[mainShade].hex),\n      variable: mix(base.bg, hues.red[mainShade].hex),\n    }\n  },\n})\n","import {ThemeFonts} from '../lib/theme'\n\nexport const fonts: ThemeFonts = {\n  code: {\n    family: 'ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace',\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n    sizes: [\n      {\n        ascenderHeight: 3,\n        descenderHeight: 3,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 13,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 25,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0,\n      },\n    ],\n  },\n  heading: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", Helvetica, Arial, system-ui, sans-serif',\n    weights: {\n      regular: 700,\n      medium: 800,\n      semibold: 900,\n      bold: 900,\n    },\n    sizes: [\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 12,\n        iconSize: 17,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 21,\n        iconSize: 33,\n        lineHeight: 27,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 27,\n        iconSize: 41,\n        lineHeight: 33,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 8,\n        descenderHeight: 8,\n        fontSize: 33,\n        iconSize: 49,\n        lineHeight: 39,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 9,\n        descenderHeight: 9,\n        fontSize: 38,\n        iconSize: 53,\n        lineHeight: 45,\n        letterSpacing: 0,\n      },\n    ],\n  },\n  label: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", system-ui, sans-serif',\n    weights: {\n      regular: 600,\n      medium: 700,\n      semibold: 800,\n      bold: 900,\n    },\n    sizes: [\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 9.8,\n        iconSize: 15,\n        lineHeight: 11,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 11.25,\n        iconSize: 17,\n        lineHeight: 12,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 12.75,\n        iconSize: 19,\n        lineHeight: 13,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 14,\n        iconSize: 21,\n        lineHeight: 14,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 15.5,\n        iconSize: 23,\n        lineHeight: 15,\n        letterSpacing: 0.5,\n      },\n    ],\n  },\n  text: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", Helvetica, Arial, system-ui, sans-serif',\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n    sizes: [\n      {\n        ascenderHeight: 3,\n        descenderHeight: 3,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 13,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 25,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0,\n      },\n    ],\n  },\n}\n","import {RootTheme} from '../types'\nimport {color} from './color'\nimport {fonts} from './fonts'\n\n/**\n * @public\n */\nexport const studioTheme: RootTheme = {\n  avatar: {\n    sizes: [\n      {distance: -3, size: 25},\n      {distance: -6, size: 35},\n      {distance: -9, size: 55},\n    ],\n  },\n  button: {\n    textWeight: 'medium',\n  },\n  color,\n  container: [320, 640, 960, 1280, 1600, 1920],\n  focusRing: {\n    offset: 1,\n    width: 2,\n  },\n  fonts,\n  media: [360, 600, 900, 1200, 1800, 2400],\n  radius: [0, 1, 3, 6, 9, 12, 21],\n  shadows: [\n    null,\n    {umbra: [0, 0, 0, 0], penumbra: [0, 0, 0, 0], ambient: [0, 0, 0, 0]},\n    {umbra: [0, 3, 5, -1], penumbra: [0, 6, 10, 0], ambient: [0, 1, 18, 0]},\n    {umbra: [0, 7, 8, -4], penumbra: [0, 12, 17, 2], ambient: [0, 5, 22, 4]},\n    {umbra: [0, 9, 11, -5], penumbra: [0, 18, 28, 2], ambient: [0, 7, 34, 6]},\n    {umbra: [0, 11, 15, -7], penumbra: [0, 24, 38, 3], ambient: [0, 9, 46, 8]},\n  ],\n  space: [0, 4, 8, 12, 20, 32, 52, 84, 136, 220],\n  input: {\n    checkbox: {\n      size: 17,\n    },\n    radio: {\n      size: 17,\n      markSize: 9,\n    },\n    switch: {\n      width: 33,\n      height: 17,\n      padding: 4,\n      transitionDurationMs: 150,\n      transitionTimingFunction: 'ease-out',\n    },\n    border: {\n      width: 1,\n    },\n  },\n  // styles: {\n  //   button: {\n  //     root: {\n  //       transition: 'background-color 100ms,border-color 100ms,color 100ms',\n  //     },\n  //   },\n  //   card: {\n  //     root: {\n  //       transition: 'background-color 100ms,border-color 100ms,color 100ms',\n  //     },\n  //   },\n  // },\n}\n","import {ThemeLayer} from './lib/theme/layer'\n\nexport const DEFAULT_THEME_LAYER: ThemeLayer = {\n  dialog: {zOffset: 600},\n  popover: {zOffset: 400},\n  tooltip: {zOffset: 200},\n}\n","/**\n * Gets the global scope instance in a given environment.\n *\n * The strategy is to return the most modern, and if not, the most common:\n * - The `globalThis` variable is the modern approach to accessing the global scope\n * - The `window` variable is the global scope in a web browser\n * - The `self` variable is the global scope in workers and others\n * - The `global` variable is the global scope in Node.js\n */\nfunction getGlobalScope() {\n  if (typeof globalThis !== 'undefined') return globalThis\n  if (typeof window !== 'undefined') return window\n  if (typeof self !== 'undefined') return self\n  if (typeof global !== 'undefined') return global\n\n  throw new Error('@sanity/ui: could not locate global scope')\n}\n\nexport const globalScope = getGlobalScope() as any\n","import {createContext} from 'react'\nimport {globalScope} from '../lib/globalScope'\nimport {ThemeContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/theme')\n\nglobalScope[key] = globalScope[key] || createContext<ThemeContextValue | null>(null)\n\n/**\n * @internal\n */\nexport const ThemeContext: React.Context<ThemeContextValue | null> = globalScope[key]\n","import React, {useContext, useMemo} from 'react'\nimport {ThemeProvider as StyledThemeProvider} from 'styled-components'\nimport {DEFAULT_THEME_LAYER} from './defaults'\nimport {ThemeColorSchemeKey, ThemeColorName} from './lib/theme'\nimport {ThemeContext} from './themeContext'\nimport {RootTheme, Theme, ThemeContextValue} from './types'\n\n/**\n * @public\n */\nexport interface ThemeProviderProps {\n  children?: React.ReactNode\n  scheme?: ThemeColorSchemeKey\n  theme?: RootTheme\n  tone?: ThemeColorName\n}\n\n/**\n * @public\n */\nexport function ThemeProvider(props: ThemeProviderProps): React.ReactElement {\n  const parentTheme = useContext(ThemeContext)\n  const {\n    children,\n    scheme = parentTheme?.scheme || 'light',\n    theme: themeProp = parentTheme?.theme || null,\n    tone = parentTheme?.tone || 'default',\n  } = props\n\n  const theme: Theme | null = useMemo(() => {\n    if (!themeProp) return null\n\n    const {color: rootColor, layer: rootLayer, ...restTheme} = themeProp\n    const colorScheme = rootColor[scheme] || rootColor.light\n    const color = colorScheme[tone] || colorScheme.default\n    const layer = rootLayer || DEFAULT_THEME_LAYER\n\n    return {sanity: {...restTheme, color, layer}}\n  }, [scheme, themeProp, tone])\n\n  const value: ThemeContextValue | null = useMemo(\n    () =>\n      themeProp && {\n        version: 0.0,\n        theme: themeProp,\n        scheme,\n        tone,\n      },\n    [themeProp, scheme, tone]\n  )\n\n  if (!theme) {\n    return <pre>ThemeProvider: no \"theme\" property provided</pre>\n  }\n\n  return (\n    <ThemeContext.Provider value={value}>\n      <StyledThemeProvider theme={theme}>{children}</StyledThemeProvider>\n    </ThemeContext.Provider>\n  )\n}\n","export function isRecord(value: unknown): value is Record<string, unknown> {\n  return Boolean(value && typeof value === 'object')\n}\n","import {useContext} from 'react'\nimport {isRecord} from '../lib/isRecord'\nimport {ThemeContext} from './themeContext'\nimport {ThemeContextValue} from './types'\n\n/**\n * @public\n */\nexport function useRootTheme(): ThemeContextValue {\n  const value: unknown = useContext(ThemeContext)\n\n  if (!value) {\n    throw new Error('useRootTheme(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useRootTheme(): the context value is not compatible')\n  }\n\n  return value as any as ThemeContextValue\n}\n","import React from 'react'\nimport {ThemeColorName, ThemeColorSchemeKey} from './lib/theme'\nimport {ThemeProvider} from './themeProvider'\nimport {useRootTheme} from './useRootTheme'\n\n/**\n * @public\n */\nexport interface ThemeColorProviderProps {\n  children?: React.ReactNode\n  scheme?: ThemeColorSchemeKey\n  tone?: ThemeColorName\n}\n\n/**\n * @public\n */\nexport function ThemeColorProvider(props: ThemeColorProviderProps): React.ReactElement {\n  const {children, scheme, tone} = props\n  const root = useRootTheme()\n\n  return (\n    <ThemeProvider scheme={scheme || root.scheme} theme={root.theme} tone={tone}>\n      {children}\n    </ThemeProvider>\n  )\n}\n","import {useTheme as useStyledTheme} from 'styled-components'\n\nimport {Theme} from './types'\n\n/**\n * @public\n */\nexport function useTheme(): Theme {\n  return useStyledTheme() as Theme\n}\n","/**\n * @internal\n */\nexport interface _MediaManager {\n  getCurrentIndex: () => number\n  subscribe: (subscriber: (index: number) => void) => () => void\n}\n\nconst MEDIA_MANAGER_CACHE = new WeakMap<number[], _MediaManager>()\n\nfunction _getMediaQuery(media: number[], index: number) {\n  if (index === 0) {\n    return `screen and (max-width: ${media[index] - 1}px)`\n  }\n\n  if (index === media.length) {\n    return `screen and (min-width: ${media[index - 1]}px)`\n  }\n\n  return `screen and (min-width: ${media[index - 1]}px) and (max-width: ${media[index] - 1}px)`\n}\n\nfunction _createMediaManager(media: number[]): _MediaManager {\n  const mediaLen = media.length\n  const sizes: {mq: MediaQueryList; index: number}[] = []\n\n  if (typeof window !== 'undefined') {\n    for (let index = mediaLen; index > -1; index -= 1) {\n      const mediaQuery = _getMediaQuery(media, index)\n\n      sizes.push({index, mq: window.matchMedia(mediaQuery)})\n    }\n  }\n\n  const getCurrentIndex = () => {\n    for (const {index, mq} of sizes) {\n      if (mq.matches) return index\n    }\n\n    return 0\n  }\n\n  const subscribe = (subscriber: (index: number) => void) => {\n    const disposeFns: (() => void)[] = []\n\n    for (const {index, mq} of sizes) {\n      const handleChange = () => {\n        if (mq.matches) subscriber(index)\n      }\n\n      if (mq.addEventListener) {\n        mq.addEventListener('change', handleChange)\n      } else {\n        mq.addListener(handleChange)\n      }\n\n      disposeFns.push(() => {\n        if (mq.removeEventListener) {\n          mq.removeEventListener('change', handleChange)\n        } else {\n          mq.removeListener(handleChange)\n        }\n      })\n    }\n\n    return () => {\n      for (const disposeFn of disposeFns) {\n        disposeFn()\n      }\n    }\n  }\n\n  return {getCurrentIndex, subscribe}\n}\n\n/**\n * @internal\n */\nexport function _getMediaManager(media: number[]): _MediaManager {\n  let manager = MEDIA_MANAGER_CACHE.get(media)\n\n  if (!manager) {\n    manager = _createMediaManager(media)\n    MEDIA_MANAGER_CACHE.set(media, manager)\n  }\n\n  return manager\n}\n","import {useEffect, useMemo, useState} from 'react'\nimport {useTheme} from '../../theme'\nimport {_getMediaManager} from './lib/media'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useMediaIndex(): number {\n  const theme = useTheme()\n  const {media} = theme.sanity\n  const manager = useMemo(() => _getMediaManager(media), [media])\n  const [index, setIndex] = useState(manager.getCurrentIndex)\n\n  useEffect(() => manager.subscribe(setIndex), [manager])\n\n  return index\n}\n","import {useEffect, useMemo, useState} from 'react'\n\n/**\n * @public\n */\nexport function usePrefersDark(): boolean {\n  const mq = useMemo(() => {\n    if (typeof window === 'undefined') return undefined\n\n    return window.matchMedia('(prefers-color-scheme: dark)')\n  }, [])\n\n  const [dark, setDark] = useState(mq?.matches || false)\n\n  useEffect(() => {\n    if (!mq) return undefined\n\n    setDark(mq.matches)\n\n    const handleChange = () => setDark(mq.matches)\n\n    mq.addEventListener('change', handleChange)\n\n    return () => mq.removeEventListener('change', handleChange)\n  }, [mq])\n\n  return dark\n}\n","import {useEffect, useLayoutEffect} from 'react'\n\n/**\n * @beta\n */\nexport const useIsomorphicEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect\n","import React, {useRef} from 'react'\nimport {useIsomorphicEffect} from './useIsomorphicEffect'\n\n/**\n * @beta\n */\nexport function useForwardedRef<T>(ref: React.ForwardedRef<T>): React.MutableRefObject<T | null> {\n  const innerRef = useRef<T | null>(null)\n\n  useIsomorphicEffect(() => {\n    if (!ref) return\n\n    if (typeof ref === 'function') {\n      ref(innerRef.current)\n    } else {\n      ref.current = innerRef.current\n    }\n  })\n\n  return innerRef\n}\n","import {useEffect} from 'react'\n\n/**\n * @beta\n */\nexport function useCustomValidity(\n  ref: {current: null | {setCustomValidity: (validity: string) => void}},\n  customValidity: string | undefined\n): void {\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.setCustomValidity(customValidity || '')\n    }\n  }, [customValidity, ref])\n}\n","import {CSSObject} from 'styled-components'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveBorderStyleProps} from './types'\n\nconst BORDER_VALUE = '1px solid var(--card-border-color)'\n\nexport function responsiveBorderStyle(): Array<\n  (props: ResponsiveBorderStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [border, borderTop, borderRight, borderBottom, borderLeft]\n}\n\nfunction border(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$border, (value) =>\n    value ? {'&&': {border: BORDER_VALUE}} : {'&&': {border: 0}}\n  )\n}\n\nfunction borderTop(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderTop, (value) =>\n    value ? {'&&': {borderTop: BORDER_VALUE}} : {'&&': {borderTop: 0}}\n  )\n}\n\nfunction borderRight(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderRight, (value) =>\n    value ? {'&&': {borderRight: BORDER_VALUE}} : {'&&': {borderRight: 0}}\n  )\n}\n\nfunction borderBottom(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderBottom, (value) =>\n    value ? {'&&': {borderBottom: BORDER_VALUE}} : {'&&': {borderBottom: 0}}\n  )\n}\n\nfunction borderLeft(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderLeft, (value) =>\n    value ? {'&&': {borderLeft: BORDER_VALUE}} : {'&&': {borderLeft: 0}}\n  )\n}\n","import {Property} from 'csstype'\nimport {CSSObject} from 'styled-components'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveBoxStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n}\n\nconst BOX_SIZING: {[key: string]: Property.BoxSizing} = {\n  content: 'content-box',\n  border: 'border-box',\n}\n\nconst BOX_HEIGHT = {\n  stretch: 'stretch',\n  fill: '100%',\n}\n\nexport function boxStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveBoxStyle(): Array<\n  (props: ResponsiveBoxStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [\n    responsiveBoxSizingStyle,\n    responsiveBoxHeightStyle,\n    responsiveBoxOverflowStyle,\n    responsiveBoxDisplayStyle,\n  ]\n}\n\nfunction responsiveBoxDisplayStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$display, (display) => ({\n    '&:not([hidden])': {display},\n  }))\n}\n\nfunction responsiveBoxSizingStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$sizing, (sizing) => ({\n    boxSizing: BOX_SIZING[sizing],\n  }))\n}\n\nfunction responsiveBoxHeightStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$height, (height) => ({\n    height: BOX_HEIGHT[height],\n  }))\n}\n\nfunction responsiveBoxOverflowStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$overflow, (overflow) => ({\n    overflow,\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFlexStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  '&&:not([hidden])': {\n    display: 'flex',\n  },\n}\n\nexport function responsiveFlexStyle(): Array<\n  CSSObject | ((props: ResponsiveFlexStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [\n    BASE_STYLE,\n    responsiveFlexAlignStyle,\n    responsiveFlexGapStyle,\n    responsiveFlexWrapStyle,\n    responsiveFlexJustifyStyle,\n    responsiveFlexDirectionStyle,\n  ]\n}\n\nexport function responsiveFlexAlignStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$align, (align) => {\n    return {alignItems: align}\n  })\n}\n\nfunction responsiveFlexGapStyle(props: ResponsiveFlexStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gap, (gap) => ({\n    gap: gap ? rem(space[gap]) : undefined,\n  }))\n}\n\nexport function responsiveFlexWrapStyle(props: ResponsiveFlexStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$wrap, (wrap) => {\n    return {flexWrap: wrap}\n  })\n}\n\nexport function responsiveFlexJustifyStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$justify, (justify) => {\n    return {justifyContent: justify}\n  })\n}\n\nexport function responsiveFlexDirectionStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$direction, (direction) => {\n    return {flexDirection: direction}\n  })\n}\n","import {CSSObject} from 'styled-components'\nimport {EMPTY_ARRAY} from '../../constants'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFlexItemStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  minWidth: 0,\n  minHeight: 0,\n}\n\nexport function flexItemStyle(): Array<\n  CSSObject | ((props: ResponsiveFlexItemStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [BASE_STYLE, responsiveFlexItemStyle]\n}\n\nexport function responsiveFlexItemStyle(\n  props: ResponsiveFlexItemStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  if (!props.$flex) return EMPTY_ARRAY\n\n  return _responsive(media, props.$flex, (flex) => ({flex}))\n}\n","export function focusRingBorderStyle(border: {color: string; width: number}): string {\n  return `inset 0 0 0 ${border.width}px ${border.color}`\n}\n\nexport function focusRingStyle(opts: {\n  base?: {bg: string}\n  border?: {color: string; width: number}\n  focusRing: {offset: number; width: number}\n}): string {\n  const {base, border, focusRing} = opts\n  const focusRingOutsetWidth = focusRing.offset + focusRing.width\n  const focusRingInsetWidth = 0 - focusRing.offset\n  const bgColor = base ? base.bg : 'var(--card-bg-color)'\n\n  return [\n    focusRingInsetWidth > 0 && `inset 0 0 0 ${focusRingInsetWidth}px var(--card-focus-ring-color)`,\n    border && focusRingBorderStyle(border),\n    focusRingInsetWidth < 0 && `0 0 0 ${0 - focusRingInsetWidth}px ${bgColor}`,\n    focusRingOutsetWidth > 0 && `0 0 0 ${focusRingOutsetWidth}px var(--card-focus-ring-color)`,\n  ]\n    .filter(Boolean)\n    .join(',')\n}\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveGridStyleProps} from './types'\n\nconst GRID_CSS = {\n  '&&:not([hidden])': {\n    display: 'grid',\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n}\n\nconst GRID_AUTO_COLUMS = {\n  auto: 'auto',\n  min: 'min-content',\n  max: 'max-content',\n  fr: 'minmax(0, 1fr)',\n}\n\nconst GRID_AUTO_ROWS = {\n  auto: 'auto',\n  min: 'min-content',\n  max: 'max-content',\n  fr: 'minmax(0, 1fr)',\n}\n\nexport function responsiveGridStyle(): Array<\n  CSSObject | ((props: ResponsiveGridStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [\n    GRID_CSS,\n    responsiveGridAutoFlowStyle,\n    responsiveGridAutoRowsStyle,\n    responsiveGridAutoColsStyle,\n    responsiveGridColumnsStyle,\n    responsiveGridRowsStyle,\n    responsiveGridGapStyle,\n    responsiveGridGapXStyle,\n    responsiveGridGapYStyle,\n  ]\n}\n\nfunction responsiveGridAutoFlowStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$autoFlow, (autoFlow) => ({\n    gridAutoFlow: autoFlow,\n  }))\n}\n\nfunction responsiveGridAutoRowsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$autoRows, (autoRows) => ({\n    gridAutoRows: autoRows && GRID_AUTO_ROWS[autoRows],\n  }))\n}\n\nfunction responsiveGridAutoColsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$autoCols, (autoCols) => ({\n    gridAutoColumns: autoCols && GRID_AUTO_COLUMS[autoCols],\n  }))\n}\n\nfunction responsiveGridColumnsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$columns, (columns) => ({\n    gridTemplateColumns: columns && `repeat(${columns},minmax(0,1fr));`,\n  }))\n}\n\nfunction responsiveGridRowsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$rows, (rows) => ({\n    gridTemplateRows: rows && `repeat(${rows},minmax(0,1fr));`,\n  }))\n}\n\nfunction responsiveGridGapStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gap, (gap) => ({\n    gridGap: gap ? rem(space[gap]) : undefined,\n  }))\n}\n\nfunction responsiveGridGapXStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gapX, (gapX) => ({\n    columnGap: gapX ? rem(space[gapX]) : undefined,\n  }))\n}\n\nfunction responsiveGridGapYStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gapY, (gapY) => ({\n    rowGap: gapY ? rem(space[gapY]) : undefined,\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveGridItemStyleProps} from './types'\n\nexport function responsiveGridItemStyle(): Array<\n  (props: ResponsiveGridItemStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [\n    responsiveGridItemRowStyle,\n    responsiveGridItemRowStartStyle,\n    responsiveGridItemRowEndStyle,\n    responsiveGridItemColumnStyle,\n    responsiveGridItemColumnStartStyle,\n    responsiveGridItemColumnEndStyle,\n  ]\n}\n\nconst GRID_ITEM_ROW = {\n  auto: 'auto',\n  full: '1 / -1',\n}\n\nconst GRID_ITEM_COLUMN = {\n  auto: 'auto',\n  full: '1 / -1',\n}\n\nfunction responsiveGridItemRowStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$row, (row) => {\n    if (typeof row === 'number') {\n      return {gridRow: `span ${row} / span ${row}`}\n    }\n\n    return {gridRow: GRID_ITEM_ROW[row]}\n  })\n}\n\nfunction responsiveGridItemRowStartStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$rowStart, (rowStart) => ({\n    gridRowStart: rowStart,\n  }))\n}\n\nfunction responsiveGridItemRowEndStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$rowEnd, (rowEnd) => ({gridRowEnd: rowEnd}))\n}\n\nfunction responsiveGridItemColumnStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$column, (column) => {\n    if (typeof column === 'number') {\n      return {gridColumn: `span ${column} / span ${column}`}\n    }\n\n    return {gridColumn: GRID_ITEM_COLUMN[column]}\n  })\n}\n\nfunction responsiveGridItemColumnStartStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$columnStart, (columnStart) => ({\n    gridColumnStart: columnStart,\n  }))\n}\n\nfunction responsiveGridItemColumnEndStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$columnEnd, (columnEnd) => ({\n    gridColumnEnd: columnEnd,\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\n\nexport interface TextInputResponsivePaddingStyleProps {\n  $fontSize: number[]\n  $iconLeft?: boolean\n  $iconRight?: boolean\n  $padding: number[]\n  $space: number[]\n}\n\nexport function responsiveInputPaddingStyle(\n  props: TextInputResponsivePaddingStyleProps & ThemeProps\n): CSSObject[] {\n  const {$fontSize, $iconLeft, $iconRight, $padding, $space, theme} = props\n  const {fonts, media, space: spaceScale} = theme.sanity\n  const len = Math.max($padding.length, $space.length, $fontSize.length)\n  const _padding: number[] = []\n  const _space: number[] = []\n  const _fontSize: number[] = []\n\n  for (let i = 0; i < len; i += 1) {\n    _fontSize[i] = $fontSize[i] === undefined ? _fontSize[i - 1] : $fontSize[i]\n    _padding[i] = $padding[i] === undefined ? _padding[i - 1] : $padding[i]\n    _space[i] = $space[i] === undefined ? _space[i - 1] : $space[i]\n  }\n\n  return _responsive(media, _padding, (_, i) => {\n    const size = fonts.text.sizes[_fontSize[i]] || fonts.text.sizes[2]\n    const emSize = size.lineHeight - size.ascenderHeight - size.descenderHeight\n    const p = spaceScale[_padding[i]]\n    const s = spaceScale[_space[i]]\n\n    const styles = {\n      paddingTop: rem(p - size.ascenderHeight),\n      paddingRight: rem(p),\n      paddingBottom: rem(p - size.descenderHeight),\n      paddingLeft: rem(p),\n    }\n\n    if ($iconRight) styles.paddingRight = rem(p + emSize + s)\n    if ($iconLeft) styles.paddingLeft = rem(p + emSize + s)\n\n    return styles\n  })\n}\n\nexport function responsiveInputPaddingIconsStyle(\n  props: {\n    $fontSize: number[]\n    $padding: number[]\n    $space: number[]\n  } & ThemeProps\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconLeft: true, $iconRight: true})\n}\n\nexport function responsiveInputPaddingIconLeftStyle(\n  props: {\n    $fontSize: number[]\n    $padding: number[]\n    $space: number[]\n  } & ThemeProps\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconLeft: true})\n}\n\nexport function responsiveInputPaddingIconRightStyle(\n  props: {\n    $fontSize: number[]\n    $padding: number[]\n    $space: number[]\n  } & ThemeProps\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconRight: true})\n}\n","import {css, CSSObject, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeColorSchemeKey, ThemeFontWeightKey} from '../../theme'\nimport {CardTone} from '../../types'\nimport {focusRingBorderStyle, focusRingStyle} from '../focusRing'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\n\n/**\n * @internal\n */\nexport interface TextInputInputStyleProps {\n  $fontSize: number[]\n  $scheme: ThemeColorSchemeKey\n  $tone: CardTone\n  $weight?: ThemeFontWeightKey\n}\n\n/**\n * @internal\n */\nexport interface TextInputRepresentationStyleProps {\n  $border?: boolean\n  $hasPrefix?: boolean\n  $hasSuffix?: boolean\n  $scheme: ThemeColorSchemeKey\n  $tone: CardTone\n}\n\nconst ROOT_STYLE = css`\n  &:not([hidden]) {\n    display: flex;\n  }\n\n  align-items: center;\n`\n\nexport function textInputRootStyle(): FlattenSimpleInterpolation {\n  return ROOT_STYLE\n}\n\nexport function textInputBaseStyle(\n  props: TextInputInputStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {theme, $scheme, $tone, $weight} = props\n  const font = theme.sanity.fonts.text\n  const color = theme.sanity.color.input\n\n  return css`\n    appearance: none;\n    background: none;\n    border: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ${font.family};\n    font-weight: ${($weight && font.weights[$weight]) || font.weights.regular};\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    /* &:is(textarea) */\n    &[data-as='textarea'] {\n      resize: none;\n    }\n\n    color: var(--input-fg-color);\n\n    &::placeholder {\n      color: var(--input-placeholder-color);\n    }\n\n    &[data-scheme='${$scheme}'][data-tone='${$tone}'] {\n      --input-fg-color: ${color.default.enabled.fg};\n      --input-placeholder-color: ${color.default.enabled.placeholder};\n\n      /* enabled */\n      &:not(:invalid):not(:disabled):not(:read-only) {\n        --input-fg-color: ${color.default.enabled.fg};\n        --input-placeholder-color: ${color.default.enabled.placeholder};\n      }\n\n      /* disabled */\n      &:not(:invalid):disabled {\n        --input-fg-color: ${color.default.disabled.fg};\n        --input-placeholder-color: ${color.default.disabled.placeholder};\n      }\n\n      /* invalid */\n      &:invalid {\n        --input-fg-color: ${color.invalid.enabled.fg};\n        --input-placeholder-color: ${color.invalid.enabled.placeholder};\n      }\n\n      /* readOnly */\n      &:read-only {\n        --input-fg-color: ${color.default.readOnly.fg};\n        --input-placeholder-color: ${color.default.readOnly.placeholder};\n      }\n    }\n  `\n}\n\nexport function textInputFontSizeStyle(props: TextInputInputStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {fonts, media} = theme.sanity\n\n  return _responsive(media, props.$fontSize, (sizeIndex) => {\n    const size = fonts.text.sizes[sizeIndex] || fonts.text.sizes[2]\n\n    return {\n      fontSize: rem(size.fontSize),\n      lineHeight: size.lineHeight / size.fontSize,\n    }\n  })\n}\n\nexport function textInputRepresentationStyle(\n  props: TextInputRepresentationStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$border, $hasPrefix, $hasSuffix, $scheme, $tone, theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n\n  return css`\n    --input-box-shadow: none;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n    pointer-events: none;\n    z-index: 0;\n\n    background-color: var(--card-bg-color);\n    box-shadow: var(--input-box-shadow);\n\n    border-top-left-radius: ${$hasPrefix ? 0 : undefined};\n    border-bottom-left-radius: ${$hasPrefix ? 0 : undefined};\n    border-top-right-radius: ${$hasSuffix ? 0 : undefined};\n    border-bottom-right-radius: ${$hasSuffix ? 0 : undefined};\n\n    &[data-scheme='${$scheme}'][data-tone='${$tone}'] {\n      --card-bg-color: ${color.default.enabled.bg};\n      --card-fg-color: ${color.default.enabled.fg};\n\n      /* enabled */\n      *:not(:disabled) + & {\n        --input-box-shadow: ${$border\n          ? focusRingBorderStyle({color: color.default.enabled.border, width: input.border.width})\n          : undefined};\n      }\n\n      /* invalid */\n      *:not(:disabled):invalid + & {\n        --card-bg-color: ${color.invalid.enabled.bg};\n        --card-fg-color: ${color.invalid.enabled.fg};\n        --input-box-shadow: ${$border\n          ? focusRingBorderStyle({color: color.invalid.enabled.border, width: input.border.width})\n          : 'none'};\n      }\n\n      /* focused */\n      *:not(:disabled):focus + & {\n        --input-box-shadow: ${focusRingStyle({\n          border: $border\n            ? {color: color.default.enabled.border, width: input.border.width}\n            : undefined,\n          focusRing,\n        })};\n      }\n\n      /* disabled */\n      *:disabled + & {\n        --card-bg-color: ${color.default.disabled.bg} !important;\n        --card-fg-color: ${color.default.disabled.fg} !important;\n        --input-box-shadow: ${$border\n          ? focusRingBorderStyle({\n              color: color.default.disabled.border,\n              width: input.border.width,\n            })\n          : 'none'};\n      }\n\n      /* readOnly */\n      *:read-only + & {\n        --card-bg-color: ${color.default.readOnly.bg} !important;\n        --card-fg-color: ${color.default.readOnly.fg} !important;\n      }\n\n      /* hovered */\n      @media (hover: hover) {\n        *:not(:disabled):not(:read-only):not(:invalid):hover + & {\n          --card-bg-color: ${color.default.hovered.bg};\n          --card-fg-color: ${color.default.hovered.fg};\n        }\n\n        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + & {\n          --input-box-shadow: ${$border\n            ? focusRingBorderStyle({\n                color: color.default.hovered.border,\n                width: input.border.width,\n              })\n            : 'none'};\n        }\n      }\n    }\n  `\n}\n","import {CSSObject} from 'styled-components'\nimport {_getResponsiveSpace} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveMarginStyleProps} from './types'\n\nexport function responsiveMarginStyle(\n  props: ResponsiveMarginStyleProps & ThemeProps\n): CSSObject[][] {\n  const {theme} = props\n\n  return [\n    _getResponsiveSpace(theme, ['margin'], props.$margin),\n    _getResponsiveSpace(theme, ['marginLeft', 'marginRight'], props.$marginX),\n    _getResponsiveSpace(theme, ['marginTop', 'marginBottom'], props.$marginY),\n    _getResponsiveSpace(theme, ['marginTop'], props.$marginTop),\n    _getResponsiveSpace(theme, ['marginRight'], props.$marginRight),\n    _getResponsiveSpace(theme, ['marginBottom'], props.$marginBottom),\n    _getResponsiveSpace(theme, ['marginLeft'], props.$marginLeft),\n  ].filter(Boolean) as CSSObject[][]\n}\n","import {CSSObject} from 'styled-components'\nimport {_getResponsiveSpace} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsivePaddingStyleProps} from './types'\n\nexport function responsivePaddingStyle(\n  props: ResponsivePaddingStyleProps & ThemeProps\n): CSSObject[][] {\n  const {theme} = props\n\n  return [\n    _getResponsiveSpace(theme, ['padding'], props.$padding),\n    _getResponsiveSpace(theme, ['paddingLeft', 'paddingRight'], props.$paddingX),\n    _getResponsiveSpace(theme, ['paddingTop', 'paddingBottom'], props.$paddingY),\n    _getResponsiveSpace(theme, ['paddingTop'], props.$paddingTop),\n    _getResponsiveSpace(theme, ['paddingRight'], props.$paddingRight),\n    _getResponsiveSpace(theme, ['paddingBottom'], props.$paddingBottom),\n    _getResponsiveSpace(theme, ['paddingLeft'], props.$paddingLeft),\n  ].filter(Boolean) as CSSObject[][]\n}\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveRadiusStyleProps} from './types'\n\nexport function responsiveRadiusStyle(props: ResponsiveRadiusStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media, radius} = theme.sanity\n\n  return _responsive(media, props.$radius, (radiusIndex) => ({\n    borderRadius: rem(radius[radiusIndex]),\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {BoxShadow, ThemeShadow} from '../../theme'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveShadowStyleProps} from './types'\n\nfunction toBoxShadow(shadow: BoxShadow, color: string) {\n  return `${shadow.map(rem).join(' ')} ${color}`\n}\n\nfunction shadowStyle(shadow: ThemeShadow | null): CSSObject {\n  if (!shadow) return EMPTY_RECORD\n\n  const outline = `0 0 0 ${rem(1)} var(--card-shadow-outline-color)`\n  const umbra = toBoxShadow(shadow.umbra, 'var(--card-shadow-umbra-color)')\n  const penumbra = toBoxShadow(shadow.penumbra, 'var(--card-shadow-penumbra-color)')\n  const ambient = toBoxShadow(shadow.ambient, 'var(--card-shadow-ambient-color)')\n\n  return {boxShadow: `${outline}, ${umbra}, ${penumbra}, ${ambient}`}\n}\n\nexport function responsiveShadowStyle(props: ResponsiveShadowStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media, shadows} = theme.sanity\n\n  return _responsive(media, props.$shadow, (shadow) => shadowStyle(shadows[shadow]))\n}\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\n\nexport function textBaseStyle(\n  props: {$accent?: boolean; $muted?: boolean} & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$accent, $muted, theme} = props\n  const {weights} = theme.sanity.fonts.text\n\n  return css`\n    color: var(--card-fg-color);\n\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${theme.sanity.fonts.code.family};\n      border-radius: 1px;\n      background-color: var(--card-code-bg-color);\n      color: var(--card-code-fg-color);\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px var(--card-bg-color), 0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & strong {\n      font-weight: ${weights.bold};\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  ResponsiveFontStyleProps,\n  responsiveTextAlignStyle,\n  responsiveTextFont,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {textBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface TextProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<ResponsiveFontStyleProps>(\n  responsiveTextFont,\n  responsiveTextAlignStyle,\n  textBaseStyle\n)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const Text = forwardRef(function Text(\n  props: TextProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    accent = false,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  }\n\n  return (\n    <Root\n      data-ui=\"Text\"\n      {...restProps}\n      $accent={accent}\n      $align={useArrayProp(align)}\n      $muted={muted}\n      ref={ref}\n      $size={useArrayProp(size)}\n      $weight={weight}\n    >\n      <span>{children}</span>\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {focusRingStyle} from '../../styles/internal'\nimport {AvatarRootStyleProps, ResponsiveAvatarSizeStyleProps} from './types'\n\nexport const avatarStyle = {\n  root: avatarRootStyle,\n  arrow: avatarArrowStyle,\n  bgStroke: avatarBgStrokeStyle,\n  stroke: avatarStrokeStyle,\n  initials: avatarInitialsStyle,\n}\n\nfunction avatarArrowStyle(): CSSObject {\n  return {\n    position: 'absolute',\n    boxSizing: 'border-box',\n    zIndex: 0,\n    opacity: 0,\n    transition: 'all 0.2s linear',\n    transform: 'rotate(-90deg) translate3d(0, 6px, 0)',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n\n    '& > svg': {\n      width: '11px',\n      height: '7px',\n      position: 'absolute',\n      top: '-5px',\n      left: '50%',\n      transform: 'translateX(-6px)',\n\n      '&:not([hidden])': {\n        display: 'block',\n      },\n    },\n\n    \"[data-arrow-position='inside'] > &\": {\n      transform: 'rotate(-90deg) translate3d(0, 6px, 0)',\n      opacity: 0,\n    },\n\n    \"[data-arrow-position='top'] > &\": {\n      opacity: 1,\n      transform: 'rotate(0deg)',\n    },\n\n    \"[data-arrow-position='bottom'] > &\": {\n      opacity: 1,\n      transform: 'rotate(-180deg)',\n    },\n  }\n}\n\nexport function avatarRootStyle(props: AvatarRootStyleProps & ThemeProps): CSSObject {\n  const {$color, theme} = props\n  const {focusRing} = theme.sanity\n\n  return {\n    backgroundColor: $color,\n    position: 'relative',\n    boxSizing: 'border-box',\n    userSelect: 'none',\n    boxShadow: '0 0 0 1px var(--card-bg-color)',\n\n    '&[data-status=\"inactive\"]': {\n      opacity: 0.5,\n    },\n\n    '&>svg': {\n      '&:not([hidden])': {\n        display: 'block',\n      },\n    },\n\n    /* &:is(button) */\n    '&[data-as=\"button\"]': {\n      '-webkit-font-smoothing': 'inherit',\n      appearance: 'none',\n      margin: 0,\n      padding: 0,\n      border: 0,\n      font: 'inherit',\n      color: 'inherit',\n      outline: 'none',\n\n      '&:focus': {\n        boxShadow: focusRingStyle({focusRing}),\n      },\n\n      '&:focus:not(:focus-visible)': {\n        boxShadow: 'none',\n      },\n    },\n  }\n}\n\nexport function responsiveAvatarSizeStyle(\n  props: ResponsiveAvatarSizeStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return _responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size] || avatar.sizes[0]\n\n    return {\n      width: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n      borderRadius: rem(avatarSize.size / 2),\n\n      '&>svg': {\n        width: rem(avatarSize.size),\n        height: rem(avatarSize.size),\n        borderRadius: rem(avatarSize.size / 2),\n      },\n    }\n  })\n}\n\nexport function avatarInitialsStyle(props: ThemeProps): CSSObject {\n  const {theme} = props\n  const {base} = theme.sanity.color\n\n  return {\n    width: '100%',\n    height: '100%',\n    color: base.fg,\n    alignItems: 'center',\n    justifyContent: 'center',\n    textTransform: 'uppercase',\n    textAlign: 'center',\n    borderRadius: '50%',\n\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n  }\n}\n\nfunction avatarBgStrokeStyle(): CSSObject {\n  return {\n    strokeWidth: '4px',\n    stroke: 'var(--card-bg-color)',\n  }\n}\n\nfunction avatarStrokeStyle(): CSSObject {\n  return {\n    strokeWidth: '3px',\n\n    '[data-status=\"editing\"] &': {\n      strokeSasharray: '2 4',\n      strokeLinecap: 'round',\n    },\n  }\n}\n","import {useId} from '@reach/auto-id'\nimport React, {forwardRef, useCallback, useEffect, useMemo, useState} from 'react'\nimport ReactIs from 'react-is'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {ThemeColorSpotKey, useTheme} from '../../theme'\nimport {AvatarPosition, AvatarSize, AvatarStatus} from '../../types'\nimport {Text} from '../text'\nimport {avatarStyle, responsiveAvatarSizeStyle} from './styles'\n\n/**\n * @public\n */\nexport interface AvatarProps {\n  animateArrowFrom?: AvatarPosition\n  arrowPosition?: AvatarPosition\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  color?: ThemeColorSpotKey\n  initials?: string\n  onImageLoadError?: (event: Error) => void\n  size?: AvatarSize | AvatarSize[]\n  src?: string\n  /**\n   * The status of the entity this Avatar represents.\n   * @alpha\n   */\n  status?: AvatarStatus\n  title?: string\n}\n\nconst Root = styled.div<{$color: string; $size: AvatarSize[]}>(\n  responsiveAvatarSizeStyle,\n  avatarStyle.root\n)\n\nconst Arrow = styled.div(avatarStyle.arrow)\n\nconst BgStroke = styled.ellipse(avatarStyle.bgStroke)\n\nconst Stroke = styled.ellipse(avatarStyle.stroke)\n\nconst Initials = styled.div(avatarStyle.initials)\n\n/**\n * @public\n */\nexport const Avatar = forwardRef(function Avatar(\n  props: AvatarProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    as: asProp,\n    color: colorKey = 'gray',\n    src,\n    title,\n    initials,\n    onImageLoadError,\n    arrowPosition: arrowPositionProp,\n    animateArrowFrom,\n    status = 'online',\n    size: sizeProp = 0,\n    ...restProps\n  } = props\n  const as = ReactIs.isValidElementType(asProp) ? asProp : 'div'\n  const size = useArrayProp(sizeProp)\n  const theme = useTheme()\n  const color = theme.sanity.color.spot[colorKey] || theme.sanity.color.spot.gray\n\n  // @todo: remove this\n  const avatarSize = theme.sanity.avatar.sizes[size[0]] || theme.sanity.avatar.sizes[0]\n  const _sizeRem = avatarSize.size\n  const _radius = _sizeRem / 2\n\n  const elementId = useId() || ''\n  const [arrowPosition, setArrowPosition] = useState<AvatarPosition | undefined>(\n    animateArrowFrom || arrowPositionProp || 'inside'\n  )\n\n  const [imageFailed, setImageFailed] = useState<boolean>(false)\n\n  const imageId = `avatar-image-${elementId}`\n\n  useEffect(() => {\n    if (arrowPosition === arrowPositionProp) return undefined\n\n    // Start animation in the next frame\n    const raf = requestAnimationFrame(() => setArrowPosition(arrowPositionProp))\n\n    return () => cancelAnimationFrame(raf)\n  }, [arrowPosition, arrowPositionProp])\n\n  useEffect(() => {\n    if (src) setImageFailed(false)\n  }, [src])\n\n  const handleImageError = useCallback(() => {\n    setImageFailed(true)\n\n    if (onImageLoadError) {\n      onImageLoadError(new Error('Avatar: the image failed to load'))\n    }\n  }, [onImageLoadError])\n\n  const initialsSize = useMemo(() => size.map((s) => (s === 0 ? 0 : s + 1)), [size])\n\n  return (\n    <Root\n      as={as}\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Avatar\"\n      {...restProps}\n      $size={size}\n      $color={color}\n      aria-label={title}\n      data-arrow-position={arrowPosition}\n      data-status={status}\n      ref={ref}\n      title={title}\n    >\n      <Arrow>\n        <svg width=\"11\" height=\"7\" viewBox=\"0 0 11 7\" fill=\"none\">\n          <path\n            d=\"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z\"\n            fill={color}\n          />\n        </svg>\n      </Arrow>\n\n      {!imageFailed && src && (\n        <svg viewBox={`0 0 ${_sizeRem} ${_sizeRem}`} fill=\"none\">\n          <defs>\n            <pattern id={imageId} patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\n              <image href={src} width=\"1\" height=\"1\" onError={handleImageError} />\n            </pattern>\n          </defs>\n\n          <circle cx={_radius} cy={_radius} r={_radius} fill={`url(#${imageId})`} />\n          <BgStroke\n            cx={_radius}\n            cy={_radius}\n            rx={_radius}\n            ry={_radius}\n            vectorEffect=\"non-scaling-stroke\"\n          />\n          <Stroke\n            cx={_radius}\n            cy={_radius}\n            rx={_radius}\n            ry={_radius}\n            stroke={color}\n            vectorEffect=\"non-scaling-stroke\"\n          />\n        </svg>\n      )}\n\n      {(imageFailed || !src) && initials && (\n        <>\n          <Initials>\n            <Text as=\"span\" size={initialsSize}>\n              <strong>{initials}</strong>\n            </Text>\n          </Initials>\n        </>\n      )}\n    </Root>\n  )\n})\n","import React, {forwardRef, useMemo} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp} from '../../hooks'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {AvatarSize} from '../../types'\nimport {Text} from '../text'\n\nfunction _responsiveAvatarCounterSizeStyle(props: {$size: AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return _responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      borderRadius: rem(avatarSize.size / 2),\n      minWidth: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n    }\n  })\n}\n\nfunction _avatarCounterBaseStyle(props: ThemeProps) {\n  const {theme} = props\n\n  return css`\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    user-select: none;\n    color: inherit;\n    color: var(--card-fg-color);\n    background: var(--card-bg-color);\n    box-shadow: 0 0 0 1px var(--card-bg-color), inset 0 0 0 1.5px var(--card-hairline-hard-color);\n    padding: 0 ${rem(theme.sanity.space[2])};\n\n    &:not([hidden]) {\n      display: flex;\n    }\n  `\n}\n\nconst Root = styled.div<{$size: AvatarSize[]}>(\n  _responsiveAvatarCounterSizeStyle,\n  _avatarCounterBaseStyle\n)\n\n/**\n * @public\n */\nexport interface AvatarCounterProps {\n  count: number\n  size?: AvatarSize | AvatarSize[]\n  /** @deprecated No longer supported. */\n  tone?: 'navbar'\n}\n\n/**\n * @public\n */\nexport const AvatarCounter = forwardRef(function AvatarCounter(\n  props: AvatarCounterProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {count, size: sizeProp = 0} = props\n  const size = useArrayProp(sizeProp)\n  const counterSize = useMemo(() => size.map((s) => (s === 0 ? 0 : s + 1)), [size])\n\n  return (\n    <Root $size={size} data-ui=\"AvatarCounter\" ref={ref}>\n      <Text as=\"span\" size={counterSize}>\n        <strong>{count}</strong>\n      </Text>\n    </Root>\n  )\n})\n","import {isElement, isFragment} from 'react-is'\n\nexport function childrenToElementArray(\n  children: React.ReactNode\n): Array<React.ReactElement | string> {\n  const childrenArray = Array.isArray(children) ? children : [children]\n\n  return childrenArray.filter(\n    (node) => isElement(node) || isFragment(node) || typeof node === 'string'\n  ) as Array<React.ReactElement | string>\n}\n","import React, {cloneElement, forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp} from '../../hooks'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {AvatarSize} from '../../types'\nimport {childrenToElementArray} from '../helpers'\nimport {AvatarCounter} from './avatarCounter'\n\nconst BASE_STYLES = css`\n  white-space: nowrap;\n\n  & > div {\n    vertical-align: top;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  }\n`\n\nfunction avatarStackStyle() {\n  return BASE_STYLES\n}\n\nfunction responsiveAvatarStackSizeStyle(props: {$size: AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return _responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      '& > div + div': {\n        marginLeft: rem(avatarSize.distance),\n      },\n    }\n  })\n}\n\nconst Root = styled.div<{$size: AvatarSize[]}>(responsiveAvatarStackSizeStyle, avatarStackStyle)\n\n/**\n * @public\n */\nexport interface AvatarStackProps {\n  children: React.ReactNode\n  maxLength?: number\n  size?: AvatarSize | AvatarSize[]\n  /** @deprecated No longer supported. */\n  tone?: 'navbar'\n}\n\n/**\n * @public\n */\nexport const AvatarStack = forwardRef(function AvatarStack(\n  props: AvatarStackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    children: childrenProp,\n    maxLength: maxLengthProp = 4,\n    size: sizeProp = 0,\n    ...restProps\n  } = props\n  const children = childrenToElementArray(childrenProp).filter(\n    (child) => typeof child !== 'string'\n  ) as React.ReactElement[]\n  const maxLength = Math.max(maxLengthProp, 0)\n  const size = useArrayProp(sizeProp)\n\n  const len = children.length\n  const visibleCount = maxLength - 1\n  const extraCount = len - visibleCount\n  const visibleChildren = extraCount > 1 ? children.slice(extraCount, len) : children\n\n  return (\n    <Root data-ui=\"AvatarStack\" {...restProps} ref={ref} $size={size}>\n      {len === 0 && (\n        <div>\n          <AvatarCounter count={len} />\n        </div>\n      )}\n\n      {len !== 0 && extraCount > 1 && (\n        <div>\n          <AvatarCounter count={extraCount} size={size} />\n        </div>\n      )}\n\n      {visibleChildren.map((child, childIndex) => (\n        <div key={String(childIndex)}>{cloneElement(child, {size})}</div>\n      ))}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  boxStyle,\n  flexItemStyle,\n  FlexItemStyleProps,\n  responsiveBoxStyle,\n  ResponsiveBoxStyleProps,\n  responsiveGridItemStyle,\n  ResponsiveGridItemStyleProps,\n  responsivePaddingStyle,\n  ResponsivePaddingStyleProps,\n  responsiveMarginStyle,\n  ResponsiveMarginStyleProps,\n} from '../../styles/internal'\nimport {\n  ResponsiveBoxProps,\n  ResponsiveFlexItemProps,\n  ResponsiveGridItemProps,\n  ResponsiveMarginProps,\n  ResponsivePaddingProps,\n} from '../types'\n\n/**\n * @public\n */\nexport interface BoxProps\n  extends ResponsiveFlexItemProps,\n    ResponsiveBoxProps,\n    ResponsiveGridItemProps,\n    ResponsiveMarginProps,\n    ResponsivePaddingProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n}\n\nconst Root = styled.div<\n  FlexItemStyleProps &\n    ResponsiveBoxStyleProps &\n    ResponsiveGridItemStyleProps &\n    ResponsiveMarginStyleProps &\n    ResponsivePaddingStyleProps\n>(\n  boxStyle,\n  flexItemStyle,\n  responsiveBoxStyle,\n  responsiveGridItemStyle,\n  responsiveMarginStyle,\n  responsivePaddingStyle\n)\n\n/**\n * @public\n */\nexport const Box = forwardRef(function Box(\n  props: BoxProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    as: asProp = 'div',\n    column,\n    columnStart,\n    columnEnd,\n    display = 'block',\n    flex,\n    height,\n    margin = 0,\n    marginX,\n    marginY,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    overflow,\n    padding = 0,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    row,\n    rowStart,\n    rowEnd,\n    sizing,\n    ...restProps\n  } = props\n\n  return (\n    <Root\n      data-as={typeof asProp === 'string' ? asProp : undefined}\n      data-ui=\"Box\"\n      {...restProps}\n      $column={useArrayProp(column)}\n      $columnStart={useArrayProp(columnStart)}\n      $columnEnd={useArrayProp(columnEnd)}\n      $display={useArrayProp(display)}\n      $flex={useArrayProp(flex)}\n      $height={useArrayProp(height)}\n      $margin={useArrayProp(margin)}\n      $marginX={useArrayProp(marginX)}\n      $marginY={useArrayProp(marginY)}\n      $marginTop={useArrayProp(marginTop)}\n      $marginRight={useArrayProp(marginRight)}\n      $marginBottom={useArrayProp(marginBottom)}\n      $marginLeft={useArrayProp(marginLeft)}\n      $overflow={useArrayProp(overflow)}\n      $padding={useArrayProp(padding)}\n      $paddingX={useArrayProp(paddingX)}\n      $paddingY={useArrayProp(paddingY)}\n      $paddingTop={useArrayProp(paddingTop)}\n      $paddingRight={useArrayProp(paddingRight)}\n      $paddingBottom={useArrayProp(paddingBottom)}\n      $paddingLeft={useArrayProp(paddingLeft)}\n      $row={useArrayProp(row)}\n      $rowStart={useArrayProp(rowStart)}\n      $rowEnd={useArrayProp(rowEnd)}\n      $sizing={useArrayProp(sizing)}\n      as={asProp}\n      ref={ref}\n    >\n      {props.children}\n    </Root>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\n\nexport function labelBaseStyle(\n  props: {$accent?: boolean; $muted: boolean} & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$accent, $muted, theme} = props\n  const {fonts} = theme.sanity\n\n  return css`\n    text-transform: uppercase;\n\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${fonts.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveLabelFont, responsiveTextAlignStyle} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {labelBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface LabelProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<{\n  $accent?: boolean\n  $align: TextAlign[]\n  $muted: boolean\n  $size: number[]\n}>(responsiveLabelFont, responsiveTextAlignStyle, labelBaseStyle)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const Label = forwardRef(function Label(\n  props: LabelProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    accent,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  } else {\n    children = <span>{children}</span>\n  }\n\n  return (\n    <Root\n      data-ui=\"Label\"\n      {...restProps}\n      $accent={accent}\n      $align={useArrayProp(align)}\n      $muted={muted}\n      $size={useArrayProp(size)}\n      $weight={weight}\n      ref={ref}\n    >\n      {children}\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {BadgeStyleProps} from './types'\n\nexport function badgeStyle(props: BadgeStyleProps & ThemeProps): CSSObject {\n  const {$mode, $tone, theme} = props\n  const palette = theme.sanity.color[$mode === 'outline' ? 'muted' : 'solid']\n  const color = palette[$tone] || palette.default\n\n  return {\n    backgroundColor: color.enabled.bg,\n    color: color.enabled.fg,\n    boxShadow: `inset 0 0 0 1px ${color.enabled.border}`,\n    cursor: 'default',\n\n    '&:not([hidden])': {\n      display: 'inline-block',\n    },\n  }\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {BadgeMode, BadgeTone} from '../../types'\nimport {Box, BoxProps} from '../box'\nimport {Label} from '../label'\nimport {ResponsiveRadiusProps} from '../types'\nimport {badgeStyle} from './styles'\nimport {BadgeStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface BadgeProps extends BoxProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  mode?: BadgeMode\n  tone?: BadgeTone\n}\n\nconst Root = styled(Box)<BadgeStyleProps & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  badgeStyle\n)\n\n/**\n * @public\n */\nexport const Badge = forwardRef(function Badge(\n  props: BadgeProps & React.HTMLProps<HTMLDivElement>,\n  ref\n) {\n  const {\n    children,\n    fontSize,\n    mode = 'default',\n    padding = 1,\n    radius = 2,\n    tone = 'default',\n    ...restProps\n  } = props\n\n  return (\n    <Root\n      data-ui=\"Badge\"\n      {...restProps}\n      $mode={mode}\n      $tone={tone}\n      $radius={useArrayProp(radius)}\n      padding={useArrayProp(padding)}\n      ref={ref}\n    >\n      <Label size={fontSize}>{children}</Label>\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  flexItemStyle,\n  FlexItemStyleProps,\n  responsiveFlexStyle,\n  ResponsiveFlexStyleProps,\n} from '../../styles/internal'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveFlexProps, ResponsiveFlexItemProps} from '../types'\n\n/**\n * @public\n */\nexport interface FlexProps\n  extends Omit<BoxProps, 'display'>,\n    ResponsiveFlexProps,\n    ResponsiveFlexItemProps {\n  gap?: number | number[]\n}\n\nconst Root = styled(Box)<FlexItemStyleProps & ResponsiveFlexStyleProps>(\n  flexItemStyle,\n  responsiveFlexStyle\n)\n\n/**\n * @public\n */\nexport const Flex = forwardRef(function Flex(\n  props: FlexProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'wrap'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {align, as, direction = 'row', gap, justify, wrap, ...restProps} = props\n\n  return (\n    <Root\n      data-ui=\"Flex\"\n      {...restProps}\n      $align={useArrayProp(align)}\n      $direction={useArrayProp(direction)}\n      $gap={useArrayProp(gap)}\n      $justify={useArrayProp(justify)}\n      $wrap={useArrayProp(wrap)}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n","import {SpinnerIcon} from '@sanity/icons'\nimport React, {forwardRef} from 'react'\nimport styled, {keyframes} from 'styled-components'\nimport {Text} from '../text'\n\n/**\n * @public\n */\nexport interface SpinnerProps {\n  muted?: boolean\n  size?: number | number[]\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst Root = styled(Text)`\n  & > span > svg {\n    animation: ${rotate} 500ms linear infinite;\n  }\n`\n\n/**\n * @public\n */\nexport const Spinner = forwardRef(function Spinner(\n  props: SpinnerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  return (\n    <Root data-ui=\"Spinner\" {...props} ref={ref}>\n      <SpinnerIcon />\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {ThemeColorBase, ThemeColorGenericState} from '../../theme'\n\n/**\n * @internal\n */\nexport function _colorVarsStyle(\n  base: ThemeColorBase,\n  color: ThemeColorGenericState,\n  checkered = false\n): CSSObject {\n  return {\n    // Base\n    // @todo: rename to \"--base-\"?\n    '--card-shadow-outline-color': base.shadow.outline,\n    '--card-shadow-umbra-color': base.shadow.umbra,\n    '--card-shadow-penumbra-color': base.shadow.penumbra,\n    '--card-shadow-ambient-color': base.shadow.ambient,\n    '--card-focus-ring-color': base.focusRing,\n\n    // Card\n    '--card-bg-color': color.bg,\n    '--card-bg-image': checkered\n      ? `repeating-conic-gradient(${color.bg} 0% 25%, ${color.bg2 || color.bg} 0% 50%)`\n      : undefined,\n    '--card-fg-color': color.fg,\n    '--card-border-color': color.border,\n    '--card-muted-fg-color': color.muted?.fg,\n    '--card-accent-fg-color': color.accent?.fg,\n    '--card-link-fg-color': color.link?.fg,\n    '--card-code-bg-color': color.code?.bg,\n    '--card-code-fg-color': color.code?.fg,\n    '--card-skeleton-color-from': color.skeleton?.from,\n    '--card-skeleton-color-to': color.skeleton?.to,\n\n    // @todo: deprecate\n    '--card-link-color': color.link?.fg,\n    '--card-hairline-soft-color': color.border,\n    '--card-hairline-hard-color': color.border,\n  }\n}\n","import {css, CSSObject, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\nimport {ButtonMode, ButtonTone} from '../../types'\n\n/**\n * @internal\n */\nexport function buttonBaseStyles(): FlattenSimpleInterpolation {\n  return css`\n    -webkit-font-smoothing: inherit;\n    appearance: none;\n    display: inline-flex;\n    align-items: center;\n    font: inherit;\n    border: 0;\n    outline: none;\n    user-select: none;\n    text-decoration: none;\n    border: 0;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    white-space: nowrap;\n    text-align: left;\n    position: relative;\n\n    & > span {\n      display: block;\n      flex: 1;\n      min-width: 0;\n      border-radius: inherit;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n      padding: 0;\n    }\n  `\n}\n\nconst buttonTheme = {border: {width: 1}}\n\n/**\n * @internal\n */\nexport function buttonColorStyles(\n  props: {$mode: ButtonMode; $tone: ButtonTone} & ThemeProps\n): CSSObject[] {\n  const {$mode, theme} = props\n  const {focusRing} = theme.sanity\n  const base = theme.sanity.color.base\n  const mode = theme.sanity.color.button[$mode] || theme.sanity.color.button.default\n  const color = mode[props.$tone] || mode.default\n  const border = {width: buttonTheme.border.width, color: 'var(--card-border-color)'}\n\n  return [\n    _colorVarsStyle(base, color.enabled),\n    {\n      backgroundColor: 'var(--card-bg-color)',\n      color: 'var(--card-fg-color)',\n      boxShadow: focusRingBorderStyle(border),\n      '&:disabled, &[data-disabled=\"true\"]': _colorVarsStyle(base, color.disabled),\n      \"&:not([data-disabled='true'])\": {\n        '&:focus': {\n          boxShadow: focusRingStyle({base, border, focusRing}),\n        },\n        '&:focus:not(:focus-visible)': {\n          boxShadow: focusRingBorderStyle(border),\n        },\n        '@media (hover: hover)': {\n          '&:hover': _colorVarsStyle(base, color.hovered),\n          '&:active': _colorVarsStyle(base, color.pressed),\n        },\n        '&[data-selected]': _colorVarsStyle(base, color.pressed),\n      },\n    },\n    theme.sanity.styles?.button?.root,\n  ].filter(Boolean) as CSSObject[]\n}\n","import React, {createElement, forwardRef, isValidElement, useMemo} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {ThemeProps} from '../../styles'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {useTheme} from '../../theme'\nimport {ButtonMode, ButtonTextAlign, ButtonTone, FlexJustify} from '../../types'\nimport {Box} from '../box'\nimport {Flex} from '../flex'\nimport {Spinner} from '../spinner'\nimport {Text} from '../text'\nimport {ResponsivePaddingProps, ResponsiveRadiusProps} from '../types'\nimport {buttonBaseStyles, buttonColorStyles} from './styles'\n\n/**\n * @public\n */\nexport interface ButtonProps extends ResponsivePaddingProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  mode?: ButtonMode\n  icon?: React.ComponentType | React.ReactNode\n  iconRight?: React.ComponentType | React.ReactNode\n  justify?: FlexJustify | FlexJustify[]\n  /**\n   * @beta Do not use in production, as this might change.\n   */\n  loading?: boolean\n  selected?: boolean\n  space?: number | number[]\n  textAlign?: ButtonTextAlign\n  text?: React.ReactNode\n  tone?: ButtonTone\n  type?: 'button' | 'reset' | 'submit'\n}\n\nconst Root = styled.button<\n  {$mode: ButtonMode; $tone: ButtonTone} & ResponsiveRadiusStyleProps & ThemeProps\n>(responsiveRadiusStyle, buttonBaseStyles, buttonColorStyles)\n\nconst LoadingBox = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--card-bg-color);\n  border-radius: inherit;\n  z-index: 1;\n  box-shadow: inherit;\n`\n\n/**\n * @public\n */\nexport const Button = forwardRef(function Button(\n  props: ButtonProps & Omit<React.HTMLProps<HTMLButtonElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLButtonElement>\n) {\n  const {\n    children,\n    disabled,\n    fontSize,\n    icon,\n    iconRight,\n    justify: justifyProp = 'center',\n    loading,\n    mode = 'default',\n    padding: paddingProp = 3,\n    paddingX: paddingXProp,\n    paddingY: paddingYProp,\n    paddingTop: paddingTopProp,\n    paddingBottom: paddingBottomProp,\n    paddingLeft: paddingLeftProp,\n    paddingRight: paddingRightProp,\n    radius: radiusProp = 2,\n    selected,\n    space: spaceProp = 3,\n    text,\n    textAlign,\n    tone = 'default',\n    type = 'button',\n    ...restProps\n  } = props\n\n  const justify = useArrayProp(justifyProp)\n  const padding = useArrayProp(paddingProp)\n  const paddingX = useArrayProp(paddingXProp)\n  const paddingY = useArrayProp(paddingYProp)\n  const paddingTop = useArrayProp(paddingTopProp)\n  const paddingBottom = useArrayProp(paddingBottomProp)\n  const paddingLeft = useArrayProp(paddingLeftProp)\n  const paddingRight = useArrayProp(paddingRightProp)\n  const radius = useArrayProp(radiusProp)\n  const space = useArrayProp(spaceProp)\n\n  const theme = useTheme()\n\n  const boxProps = useMemo(\n    () => ({\n      // flex: 1,\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingBottom,\n      paddingLeft,\n      paddingRight,\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingBottom, paddingLeft, paddingRight]\n  )\n\n  return (\n    <Root\n      data-ui=\"Button\"\n      {...restProps}\n      $mode={mode}\n      $radius={radius}\n      $tone={tone}\n      data-disabled={Boolean(loading || disabled)}\n      data-selected={selected ? '' : undefined}\n      disabled={Boolean(loading || disabled)}\n      ref={ref}\n      type={type}\n    >\n      {Boolean(loading) && (\n        <LoadingBox>\n          <Spinner />\n        </LoadingBox>\n      )}\n\n      {(icon || text || iconRight) && (\n        <Box as=\"span\" {...boxProps}>\n          <Flex as=\"span\" justify={justify}>\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            {text && (\n              <Box\n                flex={iconRight ? 1 : undefined}\n                marginLeft={icon ? space : undefined}\n                marginRight={iconRight ? space : undefined}\n              >\n                <Text\n                  align={textAlign}\n                  size={fontSize}\n                  textOverflow=\"ellipsis\"\n                  weight={theme.sanity.button.textWeight}\n                >\n                  {text}\n                </Text>\n              </Box>\n            )}\n\n            {iconRight && (\n              <Text size={fontSize}>\n                {isValidElement(iconRight) && iconRight}\n                {isValidElementType(iconRight) && createElement(iconRight)}\n              </Text>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {children && (\n        <Box as=\"span\" {...boxProps}>\n          {children}\n        </Box>\n      )}\n    </Root>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/focusRing'\nimport {CardStyleProps} from './types'\n\nexport function cardStyle(\n  props: CardStyleProps & ThemeProps\n): Array<FlattenSimpleInterpolation | (() => FlattenSimpleInterpolation)> {\n  return [cardBaseStyle(props), cardColorStyle(props)]\n}\n\nexport function cardBaseStyle(props: CardStyleProps & ThemeProps): FlattenSimpleInterpolation {\n  const {$checkered, theme} = props\n  const space = theme.sanity.space\n\n  return css`\n    ${$checkered &&\n    css`\n      background-size: ${space[3]}px ${space[3]}px;\n      background-position: 50% 50%;\n      background-image: var(--card-bg-image);\n    `}\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      outline: none;\n      text-decoration: none;\n    }\n\n    /* &:is(pre) */\n    &[data-as='pre'] {\n      font: inherit;\n    }\n  `\n}\n\nexport function cardColorStyle(props: CardStyleProps & ThemeProps): FlattenSimpleInterpolation {\n  const {$checkered, $focusRing, theme} = props\n  const {focusRing} = theme.sanity\n  const {base, card} = theme.sanity.color\n  const border = {width: 0, color: 'var(--card-border-color)'}\n\n  return css`\n    ${_colorVarsStyle(base, card.enabled, $checkered)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      --card-focus-ring-box-shadow: none;\n\n      cursor: default;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &:disabled {\n        ${_colorVarsStyle(base, card.disabled, $checkered)}\n      }\n\n      &:not(:disabled) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, card.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, card.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, card.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, card.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus {\n          --card-focus-ring-box-shadow: ${$focusRing\n            ? focusRingStyle({base, border, focusRing})\n            : undefined};\n        }\n\n        &:focus:not(:focus-visible) {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingBorderStyle(border) : undefined};\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      cursor: pointer;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &[data-disabled] {\n        ${_colorVarsStyle(base, card.disabled, $checkered)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, card.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, card.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, card.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, card.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus {\n          --card-focus-ring-box-shadow: ${$focusRing\n            ? focusRingStyle({base, border, focusRing})\n            : undefined};\n        }\n\n        &:focus:not(:focus-visible) {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingBorderStyle(border) : undefined};\n        }\n      }\n    }\n\n    ${theme.sanity.styles?.card?.root}\n  `\n}\n","import React, {forwardRef} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  responsiveBorderStyle,\n  ResponsiveBorderStyleProps,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  responsiveShadowStyle,\n  ResponsiveShadowStyleProps,\n} from '../../styles/internal'\nimport {ThemeColorProvider, ThemeColorSchemeKey, useRootTheme} from '../../theme'\nimport {CardTone} from '../../types'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveBorderProps, ResponsiveRadiusProps, ResponsiveShadowProps} from '../types'\nimport {cardStyle} from './styles'\nimport {CardStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface CardProps\n  extends BoxProps,\n    ResponsiveBorderProps,\n    ResponsiveRadiusProps,\n    ResponsiveShadowProps {\n  /**\n   * Do not use in production.\n   * @beta\n   */\n  __unstable_checkered?: boolean\n  /**\n   * Do not use in production.\n   * @beta\n   */\n  __unstable_focusRing?: boolean\n  pressed?: boolean\n  scheme?: ThemeColorSchemeKey\n  tone?: CardTone\n}\n\nconst Root = styled(Box)<\n  CardStyleProps &\n    ResponsiveRadiusStyleProps &\n    ResponsiveBorderStyleProps &\n    ResponsiveShadowStyleProps\n>(responsiveBorderStyle, responsiveRadiusStyle, responsiveShadowStyle, cardStyle)\n\n/**\n * @public\n */\nexport const Card = forwardRef(function Card(\n  props: CardProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    __unstable_checkered: checkered = false,\n    __unstable_focusRing: focusRing = false,\n    as: asProp,\n    border,\n    borderTop,\n    borderRight,\n    borderBottom,\n    borderLeft,\n    pressed,\n    radius = 0,\n    scheme,\n    selected,\n    shadow,\n    tone: toneProp = 'default',\n    ...restProps\n  } = props\n\n  const as = isValidElementType(asProp) ? asProp : 'div'\n  const rootTheme = useRootTheme()\n  const tone = toneProp === 'inherit' ? rootTheme.tone : toneProp\n\n  return (\n    <ThemeColorProvider scheme={scheme} tone={tone}>\n      <Root\n        data-as={typeof as === 'string' ? as : undefined}\n        data-scheme={rootTheme.scheme}\n        data-ui=\"Card\"\n        data-tone={tone}\n        {...restProps}\n        $border={useArrayProp(border)}\n        $borderTop={useArrayProp(borderTop)}\n        $borderRight={useArrayProp(borderRight)}\n        $borderBottom={useArrayProp(borderBottom)}\n        $borderLeft={useArrayProp(borderLeft)}\n        $checkered={checkered}\n        $focusRing={focusRing}\n        $radius={useArrayProp(radius)}\n        $shadow={useArrayProp(shadow)}\n        $tone={tone}\n        data-checkered={checkered ? '' : undefined}\n        data-pressed={pressed ? '' : undefined}\n        data-selected={selected ? '' : undefined}\n        forwardedAs={as}\n        ref={ref}\n        selected={selected}\n      />\n    </ThemeColorProvider>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\n\nexport function checkboxBaseStyles(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n    display: inline-block;\n  `\n}\n\nexport function inputElementStyles(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const color = theme.sanity.color.input\n  const {focusRing, input, radius} = theme.sanity\n\n  return css`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    outline: none;\n    opacity: 0;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n\n    & + span {\n      position: relative;\n      display: block;\n      height: ${rem(input.checkbox.size)};\n      width: ${rem(input.checkbox.size)};\n      box-sizing: border-box;\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n      border-radius: ${rem(radius[2])};\n      line-height: 1;\n      background-color: ${color.default.enabled.bg};\n\n      & > svg {\n        display: block;\n        position: absolute;\n        opacity: 0;\n        height: 100%;\n        width: 100%;\n\n        & > path {\n          vector-effect: non-scaling-stroke;\n          stroke-width: 2 !important;\n        }\n      }\n    }\n\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n    }\n\n    &:checked + span > svg:first-child {\n      opacity: 1;\n    }\n\n    &[data-read-only] + span {\n      background-color: ${color.default.readOnly.bg};\n      box-shadow: ${focusRingBorderStyle({\n        width: input.border.width,\n        color: color.default.readOnly.border,\n      })};\n      color: ${color.default.readOnly.fg};\n    }\n\n    &:not([data-read-only]):disabled + span {\n      background-color: ${color.default.disabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n        width: input.border.width,\n        color: color.default.disabled.border,\n      })};\n      color: ${color.default.disabled.fg};\n    }\n\n    &:indeterminate + span > svg:last-child {\n      opacity: 1;\n    }\n  `\n}\n","import {CheckmarkIcon, RemoveIcon} from '@sanity/icons'\nimport React, {forwardRef, useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {checkboxBaseStyles, inputElementStyles} from './styles'\n\n/**\n * @public\n */\nexport interface CheckboxProps {\n  indeterminate?: boolean\n  customValidity?: string\n}\n\nconst Root = styled.div(checkboxBaseStyles)\nconst Input = styled.input(inputElementStyles)\n\n/**\n * @public\n */\nexport const Checkbox = forwardRef(function Checkbox(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & CheckboxProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>\n) {\n  const {\n    checked,\n    className,\n    disabled,\n    indeterminate,\n    customValidity,\n    readOnly,\n    style,\n    ...restProps\n  } = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  useEffect(() => {\n    if (ref.current) {\n      // Set the indeterminate state\n      ref.current.indeterminate = indeterminate || false\n    }\n  }, [indeterminate, ref])\n\n  return (\n    <Root className={className} data-ui=\"Checkbox\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        checked={checked}\n        disabled={disabled || readOnly}\n        type=\"checkbox\"\n        readOnly={readOnly}\n        ref={ref}\n      />\n      <span>\n        <CheckmarkIcon />\n        <RemoveIcon />\n      </span>\n    </Root>\n  )\n})\n","import {css, FlattenInterpolation, ThemeProps as StyledThemeProps} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {Theme} from '../../theme'\n\nfunction codeSyntaxHighlightingStyle({theme}: ThemeProps) {\n  const color = theme.sanity.color.syntax\n\n  return {\n    '&.atrule': {color: color.atrule},\n    '&.attr-name': {color: color.attrName},\n    '&.attr-value': {color: color.attrValue},\n    '&.attribute': {color: color.attribute},\n    '&.boolean': {color: color.boolean},\n    '&.builtin': {color: color.builtin},\n    '&.cdata': {color: color.cdata},\n    '&.char': {color: color.char},\n    '&.class': {color: color.class},\n    '&.class-name': {color: color.className},\n    '&.comment': {color: color.comment},\n    '&.constant': {color: color.constant},\n    '&.deleted': {color: color.deleted},\n    '&.doctype': {color: color.doctype},\n    '&.entity': {color: color.entity},\n    '&.function': {color: color.function},\n    '&.hexcode': {color: color.hexcode},\n    '&.id': {color: color.id},\n    '&.important': {color: color.important},\n    '&.inserted': {color: color.inserted},\n    '&.keyword': {color: color.keyword},\n    '&.number': {color: color.number},\n    '&.operator': {color: color.operator},\n    '&.prolog': {color: color.prolog},\n    '&.property': {color: color.property},\n    '&.pseudo-class': {color: color.pseudoClass},\n    '&.pseudo-element': {color: color.pseudoElement},\n    '&.punctuation': {color: color.punctuation},\n    '&.regex': {color: color.regex},\n    '&.selector': {color: color.selector},\n    '&.string': {color: color.string},\n    '&.symbol': {color: color.symbol},\n    '&.tag': {color: color.tag},\n    '&.unit': {color: color.unit},\n    '&.url': {color: color.url},\n    '&.variable': {color: color.variable},\n  }\n}\n\nexport function codeBaseStyle(): FlattenInterpolation<StyledThemeProps<Theme>> {\n  return css`\n    color: var(--card-code-fg-color);\n\n    & code {\n      font-family: inherit;\n\n      &.refractor .token {\n        ${codeSyntaxHighlightingStyle}\n      }\n    }\n\n    & a {\n      color: inherit;\n      text-decoration: underline;\n      border-radius: 1px;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport Refractor from 'react-refractor'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveCodeFontStyle, ResponsiveFontStyleProps} from '../../styles/internal'\nimport {codeBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface CodeProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  language?: string\n  size?: number | number[]\n  weight?: string\n}\n\nconst Root = styled.pre<ResponsiveFontStyleProps>(codeBaseStyle, responsiveCodeFontStyle)\n\n/**\n * @public\n */\nexport const Code = forwardRef(function Code(\n  props: CodeProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLElement>\n) {\n  const {children, language: languageProp, size = 2, weight, ...restProps} = props\n  const language = typeof languageProp === 'string' ? languageProp : undefined\n  const registered = language ? Refractor.hasLanguage(language as any) : false\n\n  return (\n    <Root data-ui=\"Code\" {...restProps} $size={useArrayProp(size)} $weight={weight} ref={ref}>\n      {!(language && registered) && <code>{children}</code>}\n      {language && registered && <Refractor inline language={language} value={String(children)} />}\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {ResponsiveWidthStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  width: '100%',\n  margin: '0 auto',\n}\n\nexport function containerBaseStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveContainerWidthStyle(\n  props: ResponsiveWidthStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {container, media} = theme.sanity\n\n  return _responsive(media, props.$width, (val) => ({\n    maxWidth: val === 'auto' ? 'none' : rem(container[val]),\n  }))\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveWidthProps} from '../types'\nimport {containerBaseStyle, responsiveContainerWidthStyle} from './styles'\nimport {ResponsiveWidthStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface ContainerProps extends BoxProps, ResponsiveWidthProps {}\n\nconst Root = styled(Box)<ResponsiveWidthStyleProps>(\n  containerBaseStyle,\n  responsiveContainerWidthStyle\n)\n\n/**\n * @public\n */\nexport const Container = forwardRef(function Container(\n  props: ContainerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'width'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {as, width = 2, ...restProps} = props\n\n  return (\n    <Root\n      data-ui=\"Container\"\n      {...restProps}\n      $width={useArrayProp(width)}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveGridStyle, ResponsiveGridStyleProps} from '../../styles/internal'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveGridProps} from '../types'\n\n/**\n * @public\n */\nexport interface GridProps extends Omit<BoxProps, 'display'>, ResponsiveGridProps {}\n\nconst Root = styled(Box)<ResponsiveGridStyleProps>(responsiveGridStyle)\n\n/**\n * @public\n */\nexport const Grid = forwardRef(function Grid(\n  props: GridProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'rows'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {as, autoRows, autoCols, autoFlow, columns, gap, gapX, gapY, rows, children, ...restProps} =\n    props\n\n  return (\n    <Root\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Grid\"\n      {...restProps}\n      $autoRows={useArrayProp(autoRows)}\n      $autoCols={useArrayProp(autoCols)}\n      $autoFlow={useArrayProp(autoFlow)}\n      $columns={useArrayProp(columns)}\n      $gap={useArrayProp(gap)}\n      $gapX={useArrayProp(gapX)}\n      $gapY={useArrayProp(gapY)}\n      $rows={useArrayProp(rows)}\n      forwardedAs={as}\n      ref={ref}\n    >\n      {children}\n    </Root>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {HeadingStyleProps} from './types'\n\nexport function headingBaseStyle(\n  props: HeadingStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$accent, $muted, theme} = props\n\n  return css`\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${theme.sanity.fonts.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px var(--card-bg-color), 0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  ResponsiveFontStyleProps,\n  responsiveHeadingFont,\n  responsiveTextAlignStyle,\n  ResponsiveTextAlignStyleProps,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {headingBaseStyle} from './styles'\nimport {HeadingStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface HeadingProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<\n  HeadingStyleProps & ResponsiveTextAlignStyleProps & ResponsiveFontStyleProps\n>(headingBaseStyle, responsiveTextAlignStyle, responsiveHeadingFont)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const Heading = forwardRef(function Heading(\n  props: HeadingProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLElement>\n) {\n  const {\n    accent = false,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  }\n\n  return (\n    <Root\n      data-ui=\"Heading\"\n      {...restProps}\n      $accent={accent}\n      $align={useArrayProp(align)}\n      $muted={muted}\n      $size={useArrayProp(size)}\n      $weight={weight}\n      ref={ref}\n    >\n      <span>{children}</span>\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {ResponsiveInlineSpaceStyleProps} from './types'\n\nexport function inlineBaseStyle(): CSSObject {\n  return {\n    lineHeight: 0,\n\n    '&&:not([hidden])': {\n      display: 'block',\n    },\n\n    '& > div': {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    },\n  }\n}\n\nexport function inlineSpaceStyle(props: ResponsiveInlineSpaceStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n\n  return _responsive(theme.sanity.media, props.$space, (spaceIndex) => {\n    const space = rem(theme.sanity.space[spaceIndex])\n\n    return {\n      margin: `-${space} 0 0 -${space}`,\n      '& > div': {padding: `${space} 0 0 ${space}`},\n    }\n  })\n}\n","import React, {forwardRef, useMemo} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps} from '../box'\nimport {childrenToElementArray} from '../helpers'\nimport {inlineBaseStyle, inlineSpaceStyle} from './styles'\nimport {ResponsiveInlineSpaceStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface InlineProps extends Omit<BoxProps, 'display'> {\n  space?: number | number[]\n}\n\nconst Root = styled(Box)<ResponsiveInlineSpaceStyleProps>(inlineBaseStyle, inlineSpaceStyle)\n\n/**\n * @public\n */\nexport const Inline = forwardRef(function Inline(\n  props: InlineProps & React.HTMLProps<HTMLDivElement>,\n  ref\n) {\n  const {as, children: childrenProp, space, ...restProps} = props\n\n  const children = useMemo(\n    () =>\n      childrenToElementArray(childrenProp)\n        .filter(Boolean)\n        .map((child, idx) => <div key={idx}>{child}</div>),\n    [childrenProp]\n  )\n\n  return (\n    <Root data-ui=\"Inline\" {...restProps} $space={useArrayProp(space)} forwardedAs={as} ref={ref}>\n      {children}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {Box} from '../box'\nimport {Code} from '../code'\n\n/**\n * @public\n */\nexport interface KBDProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n}\n\nfunction kbdStyle() {\n  return css`\n    background: var(--card-bg-color);\n    font: inherit;\n    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\nconst Root = styled.kbd<ResponsiveRadiusStyleProps>(responsiveRadiusStyle, kbdStyle)\n\n/**\n * @public\n */\nexport const KBD = forwardRef(function KBD(\n  props: KBDProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'ref' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {children, fontSize = 1, padding = 1, radius = 2, ...restProps} = props\n\n  return (\n    <Root data-ui=\"KBD\" {...restProps} $radius={useArrayProp(radius)} ref={ref}>\n      <Box as=\"span\" padding={padding}>\n        <Code as=\"span\" muted size={fontSize}>\n          {children}\n        </Code>\n      </Box>\n    </Root>\n  )\n})\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {BoundaryElementContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/boundaryElement')\n\nglobalScope[key] = globalScope[key] || createContext<BoundaryElementContextValue | null>(null)\n\nexport const BoundaryElementContext: React.Context<BoundaryElementContextValue | null> =\n  globalScope[key]\n","import React, {useMemo} from 'react'\nimport {BoundaryElementContext} from './boundaryElementContext'\nimport {BoundaryElementContextValue} from './types'\n\n/**\n * @public\n */\nexport interface BoundaryElementProviderProps {\n  children: React.ReactNode\n  element: HTMLElement | null\n}\n\n/**\n * @public\n */\nexport function BoundaryElementProvider(props: BoundaryElementProviderProps): React.ReactElement {\n  const {children, element} = props\n  const value: BoundaryElementContextValue = useMemo(() => ({version: 0.0, element}), [element])\n\n  return <BoundaryElementContext.Provider value={value}>{children}</BoundaryElementContext.Provider>\n}\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {BoundaryElementContext} from './boundaryElementContext'\nimport {BoundaryElementContextValue} from './types'\n\nconst DEFAULT_VALUE: BoundaryElementContextValue = {\n  version: 0.0,\n  element: null,\n}\n\n/**\n * @public\n */\nexport function useBoundaryElement(): BoundaryElementContextValue {\n  const value = useContext(BoundaryElementContext)\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (value && (!isRecord(value) || value.version !== 0.0)) {\n    throw new Error('useBoundaryElement(): the context value is not compatible')\n  }\n\n  return value || DEFAULT_VALUE\n}\n","export function findMaxBreakpoints(media: number[], width: number): number[] {\n  const ret: number[] = []\n\n  for (let i = 0; i < media.length; i += 1) {\n    const bp = media[i]\n\n    if (bp > width) {\n      ret.push(i)\n    }\n  }\n\n  return ret\n}\n\nexport function findMinBreakpoints(media: number[], width: number): number[] {\n  const ret: number[] = []\n\n  for (let i = 0; i < media.length; i += 1) {\n    const bp = media[i]\n\n    if (bp <= width) {\n      ret.push(i)\n    }\n  }\n\n  return ret\n}\n","import React, {forwardRef, useCallback, useMemo, useState} from 'react'\nimport {useElementSize, useForwardedRef} from '../../hooks'\nimport {useTheme} from '../../theme'\nimport {findMaxBreakpoints, findMinBreakpoints} from './helpers'\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface MediaQueryProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  media?: number[]\n}\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const ElementQuery = forwardRef(function ElementQuery(\n  props: MediaQueryProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'media'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const theme = useTheme()\n  const {children, media = theme.sanity.media, ...restProps} = props\n\n  const forwardedRef = useForwardedRef(ref)\n  const [element, setElement] = useState<HTMLDivElement | null>(null)\n  const elementSize = useElementSize(element)\n  const width = useMemo(() => elementSize?.border.width ?? window.innerWidth, [elementSize])\n\n  const max = useMemo(() => findMaxBreakpoints(media, width), [media, width])\n  const min = useMemo(() => findMinBreakpoints(media, width), [media, width])\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      forwardedRef.current = el\n      setElement(el)\n    },\n    [forwardedRef]\n  )\n\n  return (\n    <div\n      data-ui=\"ElementQuery\"\n      {...restProps}\n      data-eq-max={max.length ? max.join(' ') : undefined}\n      data-eq-min={min.length ? min.join(' ') : undefined}\n      ref={setRef}\n    >\n      {children}\n    </div>\n  )\n})\n","import React from 'react'\nimport {Code} from '../primitives/code'\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport interface ErrorBoundaryProps {\n  onCatch: (params: {error: Error; info: React.ErrorInfo}) => void\n}\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport interface ErrorBoundaryState {\n  error: Error | null\n}\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  state: ErrorBoundaryState = {error: null}\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI.\n    return {error}\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo): void {\n    this.props.onCatch({error, info})\n  }\n\n  render(): React.ReactNode {\n    const {error} = this.state\n\n    if (error) {\n      const message = typeof error?.message === 'string' ? error.message : 'Error'\n\n      return <Code>{message}</Code>\n    }\n\n    return this.props.children\n  }\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {LayerContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/layer')\n\nglobalScope[key] = globalScope[key] || createContext<LayerContextValue | null>(null)\n\nexport const LayerContext: React.Context<LayerContextValue | null> = globalScope[key]\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {LayerContext} from './layerContext'\nimport {LayerContextValue} from './types'\n\n/**\n * @public\n */\nexport function useLayer(): LayerContextValue {\n  const value = useContext(LayerContext)\n\n  if (!value) {\n    throw new Error('useLayer(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useLayer(): the context value is not compatible')\n  }\n\n  return value\n}\n","import React, {useCallback, useContext, useEffect, useMemo, useState} from 'react'\nimport {useMediaIndex, useArrayProp} from '../../hooks'\nimport {LayerContext} from './layerContext'\nimport {LayerContextValue} from './types'\n\n/**\n * @public\n */\nexport interface LayerProviderProps {\n  children?: React.ReactNode\n  zOffset?: number | number[]\n}\n\n/**\n * @public\n */\nexport function LayerProvider(props: LayerProviderProps): React.ReactElement {\n  const {children, zOffset: zOffsetProp = 0} = props\n  const parent = useContext(LayerContext)\n  const zOffset = useArrayProp(zOffsetProp)\n  const maxMediaIndex = zOffset.length - 1\n  const mediaIndex = Math.min(useMediaIndex(), maxMediaIndex)\n  const zIndex = parent ? parent.zIndex + zOffset[mediaIndex] : zOffset[mediaIndex]\n  const [size, setSize] = useState(0)\n\n  const registerChild = useCallback(() => {\n    setSize((v) => v + 1)\n\n    return () => setSize((v) => v - 1)\n  }, [])\n\n  const parentRegisterChild = parent?.registerChild\n\n  useEffect(() => {\n    if (!parentRegisterChild) return\n\n    return parentRegisterChild()\n  }, [parentRegisterChild])\n\n  const value: LayerContextValue = useMemo(\n    () => ({version: 0.0, isTopLayer: size === 0, registerChild, size, zIndex}),\n    [size, registerChild, zIndex]\n  )\n\n  return <LayerContext.Provider value={value}>{children}</LayerContext.Provider>\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {LayerProvider} from './layerProvider'\nimport {useLayer} from './useLayer'\n\n/**\n * @public\n */\nexport interface LayerProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  zOffset?: number | number[]\n}\n\ninterface LayerChildrenProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n}\n\nconst Root = styled.div`\n  position: relative;\n`\n\nconst LayerChildren = forwardRef(function LayerChildren(\n  props: LayerChildrenProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {children, style = EMPTY_RECORD, ...restProps} = props\n  const {zIndex} = useLayer()\n\n  return (\n    <Root {...restProps} data-ui=\"Layer\" ref={ref} style={{...style, zIndex}}>\n      {children}\n    </Root>\n  )\n})\n\n/**\n * @public\n */\nexport const Layer = forwardRef(function Layer(\n  props: LayerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {children, zOffset = 1, ...restProps} = props\n\n  return (\n    <LayerProvider zOffset={zOffset}>\n      <LayerChildren {...restProps} ref={ref}>\n        {children}\n      </LayerChildren>\n    </LayerProvider>\n  )\n})\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {PortalContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/portal')\nconst elementKey = Symbol.for('@sanity/ui/context/portal/element')\n\nglobalScope[elementKey] = null\n\nexport const defaultContextValue: PortalContextValue = {\n  version: 0.0,\n  boundaryElement: null,\n  get element() {\n    if (typeof window === 'undefined') {\n      return null\n    }\n\n    if (globalScope[elementKey]) {\n      return globalScope[elementKey]\n    }\n\n    globalScope[elementKey] = document.createElement('div')\n    globalScope[elementKey].setAttribute('data-portal', '')\n\n    document.body.appendChild(globalScope[elementKey])\n\n    return globalScope[elementKey]\n  },\n}\n\nglobalScope[key] = globalScope[key] || createContext<PortalContextValue>(defaultContextValue)\n\nexport const PortalContext: React.Context<PortalContextValue> = globalScope[key]\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {PortalContext} from './portalContext'\nimport {PortalContextValue} from './types'\n\n/**\n * @public\n */\nexport function usePortal(): PortalContextValue {\n  const value = useContext(PortalContext)\n\n  if (!value) {\n    throw new Error('usePortal(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('usePortal(): the context value is not compatible')\n  }\n\n  return value\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {usePortal} from './usePortal'\n\n/**\n * @public\n */\nexport interface PortalProps {\n  children: React.ReactNode\n  /**\n   * @beta This API might change. DO NOT USE IN PRODUCTION.\n   */\n  __unstable_name?: string\n}\n\n/**\n * @public\n */\nexport function Portal(props: PortalProps): React.ReactPortal | null {\n  const {children, __unstable_name: name} = props\n  const portal = usePortal()\n  const portalElement =\n    (name ? portal.elements && portal.elements[name] : portal.element) || portal.elements?.default\n\n  if (!portalElement) {\n    return null\n  }\n\n  return ReactDOM.createPortal(children, portalElement)\n}\n","import {useRef} from 'react'\n\n/**\n * This is a React hook to make sure that a record identity is the same on every render. Uses strict\n * equality comparison (eg by identity), and only goes one level deep.\n *\n * @internal\n */\ntype Comparable = Record<string | number | symbol, unknown> | undefined | null\n\nexport function useUnique<ValueType extends Comparable = Comparable>(value: ValueType): ValueType {\n  const valueRef = useRef<ValueType>(value)\n\n  if (!_isEqual(valueRef.current, value)) {\n    valueRef.current = value\n  }\n\n  return valueRef.current\n}\n\nfunction _isEqual(objA: Comparable, objB: Comparable): boolean {\n  if (!objA || !objB) {\n    return objA === objB\n  }\n\n  const keysA = Object.keys(objA)\n  const keysB = Object.keys(objB)\n\n  if (keysA.length !== keysB.length) {\n    return false\n  }\n\n  return keysA.every((key) => objA[key] === objB[key])\n}\n","import React, {useMemo} from 'react'\nimport {useUnique} from '../../hooks/_internal'\nimport {PortalContext} from './portalContext'\nimport {PortalContextValue} from './types'\n\n/**\n * @public\n */\nexport interface PortalProviderProps {\n  /**\n   * @deprecated Use `<BoundaryElementProvider element={...} />` instead\n   */\n  boundaryElement?: HTMLElement | null\n  children: React.ReactNode\n  element?: HTMLElement | null\n  /**\n   * @beta\n   */\n  __unstable_elements?: Record<string, HTMLElement | null | undefined>\n}\n\nconst __BROWSER__ = typeof window !== 'undefined'\n\n/**\n * @public\n */\nexport function PortalProvider(props: PortalProviderProps): React.ReactElement {\n  const {boundaryElement, children, element, __unstable_elements: elementsProp} = props\n  const elements = useUnique(elementsProp)\n\n  const value: PortalContextValue = useMemo(() => {\n    return {\n      version: 0.0,\n      boundaryElement: boundaryElement || null,\n      element: element || (__BROWSER__ && document.body) || null,\n      elements,\n    }\n  }, [boundaryElement, element, elements])\n\n  return <PortalContext.Provider value={value}>{children}</PortalContext.Provider>\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\n\n/**\n * @public\n */\nexport interface SrOnlyProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  children?: React.ReactNode\n}\n\nconst Root = styled.div`\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const SrOnly = forwardRef(function SrOnly(\n  props: SrOnlyProps & Omit<React.HTMLProps<HTMLDivElement>, 'aria-hidden' | 'as'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {as, children} = props\n\n  return (\n    <Root aria-hidden as={as} data-ui=\"SrOnly\" ref={ref}>\n      {children}\n    </Root>\n  )\n})\n","/**\n * @internal\n */\nexport function _raf(fn: () => void): () => void {\n  const frameId = requestAnimationFrame(fn)\n\n  return () => {\n    cancelAnimationFrame(frameId)\n  }\n}\n\n/**\n * @internal\n */\nexport function _raf2(fn: () => void): () => void {\n  let innerDispose: (() => void) | null = null\n\n  const outerDispose = _raf(() => {\n    innerDispose = _raf(fn)\n  })\n\n  return () => {\n    if (innerDispose) innerDispose()\n\n    outerDispose()\n  }\n}\n","/**\n * @internal\n */\nexport function _isEnterToClickElement(element: HTMLElement): boolean {\n  return isHTMLAnchorElement(element) || isHTMLButtonElement(element)\n}\n\n/**\n * @internal\n */\nexport function isHTMLElement(node: unknown): node is HTMLElement {\n  return node instanceof Node && node.nodeType === Node.ELEMENT_NODE\n}\n\n/**\n * @internal\n */\nexport function isHTMLAnchorElement(element: unknown): element is HTMLAnchorElement {\n  return isHTMLElement(element) && element.nodeName === 'A'\n}\n\n/**\n * @internal\n */\nexport function isHTMLInputElement(element: unknown): element is HTMLInputElement {\n  return isHTMLElement(element) && element.nodeName === 'INPUT'\n}\n\n/**\n * @internal\n */\nexport function isHTMLButtonElement(element: unknown): element is HTMLButtonElement {\n  return isHTMLElement(element) && element.nodeName === 'BUTTON'\n}\n\n/**\n * @internal\n */\nexport function isHTMLSelectElement(element: unknown): element is HTMLSelectElement {\n  return isHTMLElement(element) && element.nodeName === 'SELECT'\n}\n\n/**\n * @internal\n */\nexport function isHTMLTextAreaElement(element: unknown): element is HTMLTextAreaElement {\n  return isHTMLElement(element) && element.nodeName === 'TEXTAREA'\n}\n","import {\n  isHTMLElement,\n  isHTMLAnchorElement,\n  isHTMLInputElement,\n  isHTMLButtonElement,\n  isHTMLSelectElement,\n  isHTMLTextAreaElement,\n} from './element'\n\n// export const globalFocusState = {\n//   IgnoreUtilFocusChanges: false,\n// }\n\n/**\n * @internal\n */\nexport function _hasFocus(element: HTMLElement): boolean {\n  return Boolean(document.activeElement) && element.contains(document.activeElement)\n}\n\n/**\n * @internal\n */\nexport function isFocusable(element: HTMLElement): boolean {\n  if (\n    element.tabIndex > 0 ||\n    (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)\n  ) {\n    return true\n  }\n\n  if (isHTMLAnchorElement(element)) {\n    return Boolean(element.href) && element.rel !== 'ignore'\n  }\n\n  if (isHTMLInputElement(element)) {\n    return element.type !== 'hidden' && element.type !== 'file' && !element.disabled\n  }\n\n  if (\n    isHTMLButtonElement(element) ||\n    isHTMLSelectElement(element) ||\n    isHTMLTextAreaElement(element)\n  ) {\n    return !element.disabled\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function attemptFocus(element: HTMLElement): boolean {\n  if (!isFocusable(element)) {\n    return false\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = true\n\n  try {\n    element.focus()\n  } catch (_) {\n    // ignore\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = false\n\n  return document.activeElement === element\n}\n\n/**\n * @internal\n */\nexport function focusFirstDescendant(element: HTMLElement): boolean {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function focusLastDescendant(element: HTMLElement): boolean {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n","/**\n * @internal\n */\nexport function _isScrollable(el: Node): boolean {\n  if (!(el instanceof Element)) return false\n\n  const style = window.getComputedStyle(el)\n\n  return (\n    style.overflowX.includes('auto') ||\n    style.overflowX.includes('scroll') ||\n    style.overflowY.includes('auto') ||\n    style.overflowY.includes('scroll')\n  )\n}\n","import React, {forwardRef, useEffect, useMemo, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {_isScrollable} from '../../helpers'\nimport {useForwardedRef} from '../../hooks'\nimport {_elementSizeObserver} from '../../observers'\nimport {StackProps} from '../../primitives'\nimport {useTheme} from '../../theme'\n\n/**\n * @beta\n */\nexport interface VirtualListChangeOpts {\n  fromIndex: number\n  gap: number\n  itemHeight: number\n  scrollHeight: number\n  scrollTop: number\n  toIndex: number\n}\n\n/**\n * @beta\n */\nexport interface VirtualListProps<Item = any> {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  gap?: number\n  getItemKey?: (item: Item, itemIndex: number) => string\n  items?: Item[]\n  onChange?: (opts: VirtualListChangeOpts) => void\n  renderItem?: (item: Item) => React.ReactNode\n}\n\nconst Root = styled.div`\n  position: relative;\n`\n\nconst ItemWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n`\n\n/**\n * @beta\n */\nexport const VirtualList = forwardRef(function VirtualList(\n  props: VirtualListProps &\n    StackProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'onChange' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n): React.ReactElement {\n  const {as = 'div', gap = 0, getItemKey, items = [], onChange, renderItem, ...restProps} = props\n  const {space} = useTheme().sanity\n  const forwardedRef = useForwardedRef(ref)\n  const wrapperRef = useRef<HTMLDivElement | null>(null)\n  const [scrollTop, setScrollTop] = useState(0)\n  const [scrollHeight, setScrollHeight] = useState(0)\n  const [itemHeight, setItemHeight] = useState(-1)\n\n  useEffect(() => {\n    if (!wrapperRef.current) return\n\n    const firstElement = wrapperRef.current.firstChild\n\n    if (firstElement instanceof HTMLElement) {\n      setItemHeight(firstElement.offsetHeight)\n    }\n  }, [renderItem])\n\n  useEffect(() => {\n    if (!forwardedRef.current) return\n\n    let _scrollEl = forwardedRef.current.parentNode\n\n    while (_scrollEl && !_isScrollable(_scrollEl)) {\n      _scrollEl = _scrollEl.parentNode\n    }\n\n    if (_scrollEl) {\n      const scrollEl = _scrollEl\n\n      if (!(scrollEl instanceof HTMLElement)) return\n\n      const handleScroll = () => {\n        setScrollTop(scrollEl.scrollTop)\n      }\n\n      scrollEl.addEventListener('scroll', handleScroll, {passive: true})\n\n      const disposeElementSizeListener = _elementSizeObserver.subscribe(\n        scrollEl,\n        (scrollElementSize) => {\n          setScrollHeight(scrollElementSize.content.height)\n        }\n      )\n\n      handleScroll()\n\n      return () => {\n        scrollEl.removeEventListener('scroll', handleScroll)\n        disposeElementSizeListener()\n      }\n    }\n\n    const handleScroll = () => {\n      setScrollTop(window.scrollY)\n    }\n\n    const handleResize = () => {\n      setScrollHeight(window.innerHeight)\n    }\n\n    window.addEventListener('scroll', handleScroll, {passive: true})\n    window.addEventListener('resize', handleResize)\n\n    setScrollHeight(window.innerHeight)\n\n    handleScroll()\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll)\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [forwardedRef])\n\n  const len = items.length\n  const height = itemHeight ? len * (itemHeight + space[gap]) - space[gap] : 0\n  const fromIndex = height ? Math.max(Math.floor((scrollTop / height) * len) - 2, 0) : 0\n  const toIndex = height ? Math.ceil(((scrollTop + scrollHeight) / height) * len) + 1 : 0\n\n  useEffect(() => {\n    if (!onChange) return\n    onChange({fromIndex, gap: space[gap], itemHeight, scrollHeight, scrollTop, toIndex})\n  }, [fromIndex, gap, itemHeight, onChange, scrollHeight, scrollTop, space, toIndex])\n\n  const children = useMemo(() => {\n    if (!renderItem || items.length === 0) return null\n\n    if (itemHeight === -1) {\n      return [<ItemWrapper key={0}>{renderItem(items[0])}</ItemWrapper>]\n    }\n\n    return items.slice(fromIndex, toIndex).map((item, _itemIndex) => {\n      const itemIndex = fromIndex + _itemIndex\n      const node = renderItem(item)\n      const key = getItemKey ? getItemKey(item, itemIndex) : itemIndex\n\n      return (\n        <ItemWrapper key={key} style={{top: itemIndex * (itemHeight + space[gap])}}>\n          {node}\n        </ItemWrapper>\n      )\n    })\n  }, [fromIndex, gap, getItemKey, itemHeight, items, renderItem, space, toIndex])\n\n  const wrapperStyle = useMemo(() => ({height}), [height])\n\n  return (\n    <Root as={as} data-ui=\"VirtualList\" {...restProps} ref={forwardedRef}>\n      <div ref={wrapperRef} style={wrapperStyle}>\n        {children}\n      </div>\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.div`\n  position: absolute;\n  pointer-events: none;\n  width: 27px;\n  height: 27px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    display: block;\n    transform-origin: 13.5px 13.5px;\n  }\n\n  [data-popper-placement^='top'] > div > & {\n    bottom: -27px;\n  }\n\n  [data-popper-placement^='right'] > div > & {\n    left: -27px;\n\n    & > svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  [data-popper-placement^='left'] > div > & {\n    right: -27px;\n\n    & > svg {\n      transform: rotate(-90deg);\n    }\n  }\n\n  [data-popper-placement^='bottom'] > div > & {\n    top: -27px;\n\n    & > svg {\n      transform: rotate(180deg);\n    }\n  }\n`\n\nconst BorderPath = styled.path`\n  fill: var(--card-shadow-outline-color);\n`\n\nconst ShapePath = styled.path`\n  fill: var(--card-bg-color);\n`\n\nexport const PopoverArrow = forwardRef(function PopoverArrow(\n  props: Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  return (\n    <Root data-ui=\"PopoverArrow\" {...props} ref={ref}>\n      <svg\n        width=\"27\"\n        height=\"11\"\n        viewBox=\"0 0 27 11\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <BorderPath d=\"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z\" />\n        <ShapePath d=\"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z\" />\n      </svg>\n    </Root>\n  )\n})\n","import maxSizeModifier from 'popper-max-size-modifier'\nimport {Modifier} from 'react-popper'\nimport {PopoverModifiersProps} from './types'\n\n/*\n\nThe order of popper phases:\n\n- beforeRead\n- read\n- afterRead\n- beforeMain\n- main\n- afterMain\n- beforeWrite\n- write\n- afterWrite\n\n*/\n\nexport function getPopoverModifiers(props: PopoverModifiersProps): Modifier<any, any>[] {\n  const {\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  } = props\n\n  // NOTE: For later viewers:\n  // Prior to adding this change, the popover would get `maxWidth: 0` the 2nd time it\n  // was opened, when used with `constrainSize`. I was looking for a way to \"reset\"\n  // the size of the popover as measured by Popper.js, and this seems to be a workaround.\n  if (!open) {\n    return []\n  }\n\n  const detectOverflowOptions = {\n    altAxis: !constrainSize,\n    boundary: boundaryElement || undefined,\n    padding: 8,\n    tether,\n    tetherOffset,\n  }\n\n  return [\n    constrainSize && {\n      ...maxSizeModifier,\n      options: detectOverflowOptions,\n    },\n    constrainSize && {\n      name: 'applyMaxSize',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['maxSize'],\n      fn({state}: any) {\n        const {width, height} = state.modifiersData.maxSize\n\n        state.styles.popper = {\n          ...state.styles.popper,\n          maxWidth: `${width}px`,\n          maxHeight: `${height}px`,\n        }\n      },\n    },\n    arrow && {\n      name: 'arrow',\n      options: {\n        element: arrowElement,\n        padding: 4,\n      },\n    },\n    (constrainSize || preventOverflow) && {\n      name: 'preventOverflow',\n      options: detectOverflowOptions,\n    },\n    {\n      name: 'offset',\n      options: {\n        offset: [skidding, distance],\n      },\n    },\n    margins && {\n      name: 'margins',\n      enabled: true,\n      phase: 'beforeRead',\n      fn: ({state}: any) => {\n        const {rects} = state\n\n        if (rects.reference) {\n          rects.reference.x += margins[3]\n          rects.reference.y += margins[1]\n          rects.reference.width -= margins[1] + margins[3]\n          rects.reference.height -= margins[0] + margins[2]\n        }\n      },\n    },\n    {\n      name: 'flip',\n      options: {\n        allowedAutoPlacements,\n        boundary: boundaryElement || undefined,\n        fallbackPlacements,\n        padding: 8,\n      },\n    },\n    matchReferenceWidth && {\n      name: 'matchWidth',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn({state}: any) {\n        const {width} = state.rects.reference\n\n        state.styles.popper.width = `${width}px`\n      },\n      effect: ({state}: any) => {\n        const refElement = state.elements.reference\n\n        if (refElement instanceof HTMLElement) {\n          state.elements.popper.style.width = `${\n            refElement.offsetWidth - (margins ? margins[1] + margins[3] : 0)\n          }px`\n        }\n      },\n    },\n  ].filter(Boolean) as Modifier<any, any>[]\n}\n","import {useMemo} from 'react'\nimport {Modifier} from 'react-popper'\n\nimport {getPopoverModifiers} from './getPopoverModifiers'\nimport {PopoverModifiersProps} from './types'\n\nexport function usePopoverModifiers(props: PopoverModifiersProps): Modifier<any, any>[] {\n  const {\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  } = props\n\n  return useMemo(() => {\n    return getPopoverModifiers({\n      allowedAutoPlacements,\n      arrow,\n      arrowElement,\n      boundaryElement,\n      constrainSize,\n      distance,\n      fallbackPlacements,\n      margins,\n      matchReferenceWidth,\n      open,\n      preventOverflow,\n      skidding,\n      tether,\n      tetherOffset,\n    })\n  }, [\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  ])\n}\n","import React, {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport {usePopper} from 'react-popper'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp, useForwardedRef} from '../../hooks'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {CardTone, Placement, PopoverMargins} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement, usePortal} from '../../utils'\nimport {Card} from '../card'\nimport {ResponsiveWidthStyleProps} from '../container'\nimport {responsiveContainerWidthStyle} from '../container/styles'\nimport {ResponsiveRadiusProps, ResponsiveShadowProps, ResponsiveWidthProps} from '../types'\nimport {PopoverArrow} from './arrow'\nimport {usePopoverModifiers} from './modifiers'\n\n/**\n * @public\n */\nexport interface PopoverProps\n  extends Omit<LayerProps, 'as'>,\n    ResponsiveRadiusProps,\n    ResponsiveShadowProps,\n    ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_margins?: PopoverMargins\n  allowedAutoPlacements?: Placement[]\n  arrow?: boolean\n  boundaryElement?: HTMLElement | null\n  children?: React.ReactElement\n  constrainSize?: boolean\n  content?: React.ReactNode\n  disabled?: boolean\n  fallbackPlacements?: Placement[]\n  open?: boolean\n  padding?: number | number[]\n  placement?: Placement\n  portal?: boolean | string\n  preventOverflow?: boolean\n  referenceElement?: HTMLElement | null\n  matchReferenceWidth?: boolean\n  scheme?: ThemeColorSchemeKey\n  tether?: boolean\n  tetherOffset?: number | ((...args: any[]) => number)\n  tone?: CardTone\n}\n\nconst Root = styled(Layer)<{$preventOverflow?: boolean}>(\n  ({$preventOverflow}) => css`\n    pointer-events: none;\n    display: flex;\n    flex-direction: column;\n    max-width: calc(100% - 16px);\n\n    & > * {\n      min-height: 0;\n    }\n\n    /* Hide the popover when the reference element is out of bounds */\n    ${$preventOverflow &&\n    css`\n      &[data-popper-reference-hidden='true'] {\n        display: none;\n      }\n    `}\n  `\n)\n\nconst PopoverCard = styled(Card)<\n  ResponsiveWidthStyleProps & {\n    $constrainSize?: boolean\n    $preventOverflow?: boolean\n    $width: (number | 'auto')[]\n  }\n>(\n  ({$constrainSize}) => css`\n    flex: 1;\n    max-height: ${$constrainSize && '100%'};\n    pointer-events: all;\n\n    && {\n      display: flex;\n    }\n\n    flex-direction: column;\n\n    & > * {\n      min-height: 0;\n    }\n\n    ${responsiveContainerWidthStyle}\n  `\n)\n\n/**\n * @public\n */\nexport const Popover = forwardRef(function Popover(\n  props: PopoverProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content' | 'width'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const boundaryElementContext = useBoundaryElement()\n  const theme = useTheme()\n  const {\n    __unstable_margins: margins,\n    allowedAutoPlacements,\n    arrow = true,\n    boundaryElement: boundaryElementProp = boundaryElementContext.element,\n    children: child,\n    content,\n    constrainSize,\n    disabled,\n    fallbackPlacements,\n    open = false,\n    padding,\n    placement = 'bottom',\n    portal: portalProp = false,\n    preventOverflow,\n    radius = 3,\n    referenceElement: referenceElementProp,\n    matchReferenceWidth,\n    shadow = 3,\n    scheme,\n    style = EMPTY_RECORD,\n    tether,\n    tetherOffset,\n    tone = 'inherit',\n    width: widthProp = 0,\n    zOffset = theme.sanity.layer?.popover.zOffset,\n    ...restProps\n  } = props\n  const forwardedRef = useForwardedRef(ref)\n  const portal = usePortal()\n  const [referenceElement, setReferenceElement] = useState<HTMLElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLElement | null>(null)\n  const popperReferenceElement = referenceElementProp || referenceElement\n  const width = useArrayProp(matchReferenceWidth ? 'auto' : widthProp)\n\n  const modifiers = usePopoverModifiers({\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement: boundaryElementProp || portal.boundaryElement,\n    constrainSize,\n    distance: arrow ? 4 : 0,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding: 0,\n    tether,\n    tetherOffset,\n  })\n\n  const popper = usePopper(popperReferenceElement, popperElement, {\n    placement,\n    modifiers,\n  })\n\n  const {attributes, forceUpdate, styles} = popper\n\n  const setRef = useCallback(\n    (el: HTMLElement | null) => {\n      const childRef = (child as any).ref\n\n      setReferenceElement(el)\n\n      if (typeof childRef === 'function') {\n        childRef(el)\n      } else if (childRef) {\n        childRef.current = el\n      }\n    },\n    [child]\n  )\n\n  const setRootRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      setPopperElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef]\n  )\n\n  const popoverStyle = useMemo(() => ({...style, ...styles.popper}), [style, styles])\n\n  const updateTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    if (updateTimeoutRef.current) {\n      clearTimeout(updateTimeoutRef.current)\n      updateTimeoutRef.current = null\n    }\n\n    updateTimeoutRef.current = setTimeout(() => {\n      if (forceUpdate) {\n        try {\n          forceUpdate()\n        } catch (_) {\n          // ignore caught error\n        }\n      }\n    }, 0)\n  }, [content, forceUpdate, open, popperReferenceElement])\n\n  if (disabled) {\n    return child || <></>\n  }\n\n  const node = (\n    <Root\n      data-ui=\"Popover\"\n      {...restProps}\n      $preventOverflow={preventOverflow}\n      ref={setRootRef}\n      style={popoverStyle}\n      zOffset={zOffset}\n      {...attributes.popper}\n    >\n      <PopoverCard\n        $constrainSize={constrainSize}\n        $width={width}\n        data-ui=\"PopoverCard\"\n        padding={padding}\n        radius={radius}\n        scheme={scheme}\n        shadow={shadow}\n        tone={tone}\n      >\n        {arrow && <PopoverArrow ref={setArrowElement} style={styles.arrow} />}\n        {content}\n      </PopoverCard>\n    </Root>\n  )\n\n  return (\n    <>\n      {child && !referenceElementProp ? cloneElement(child, {ref: setRef}) : child || <></>}\n\n      {open && (\n        <>\n          {portalProp && (\n            <Portal __unstable_name={typeof portalProp === 'string' ? portalProp : undefined}>\n              {node}\n            </Portal>\n          )}\n\n          {!portalProp && node}\n        </>\n      )}\n    </>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\n\nexport function radioBaseStyle(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n\n    &[data-read-only] {\n      outline: 1px solid red;\n    }\n  `\n}\n\nexport function inputElementStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n  const dist = (input.radio.size - input.radio.markSize) / 2\n\n  return css`\n    appearance: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n    border-radius: ${rem(input.radio.size / 2)};\n    border: none;\n\n    /* enabled */\n    & + span {\n      display: block;\n      position: relative;\n      height: ${rem(input.radio.size)};\n      width: ${rem(input.radio.size)};\n      border-radius: ${rem(input.radio.size / 2)};\n      background: ${color.default.enabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: ${rem(dist)};\n        left: ${rem(dist)};\n        height: ${rem(input.radio.markSize)};\n        width: ${rem(input.radio.markSize)};\n        border-radius: ${rem(input.radio.markSize / 2)};\n        background: ${color.default.enabled.fg};\n        opacity: 0;\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n    }\n\n    &:checked + span::after {\n      opacity: 1;\n    }\n\n    /* read only */\n    &[data-read-only] + span {\n      box-shadow: 0 0 0 1px ${color.default.readOnly.border};\n      background: ${color.default.readOnly.bg};\n\n      &::after {\n        background: ${color.default.readOnly.fg};\n      }\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled + span {\n      box-shadow: 0 0 0 1px ${color.default.disabled.border};\n      background: ${color.default.disabled.bg};\n\n      &::after {\n        background: ${color.default.disabled.fg};\n      }\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {radioBaseStyle, inputElementStyle} from './styles'\n\n/**\n * @public\n */\nexport interface RadioProps {\n  customValidity?: string\n}\n\nconst Root = styled.div(radioBaseStyle)\nconst Input = styled.input(inputElementStyle)\n\n/**\n * @public\n */\nexport const Radio = forwardRef(function Radio(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & RadioProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>\n) {\n  const {className, disabled, style, customValidity, readOnly, ...restProps} = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root className={className} data-ui=\"Radio\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        disabled={disabled || readOnly}\n        readOnly={readOnly}\n        ref={ref}\n        type=\"radio\"\n      />\n      <span />\n    </Root>\n  )\n})\n","import {css, CSSObject, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {\n  focusRingBorderStyle,\n  focusRingStyle,\n  responsiveInputPaddingIconRightStyle,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n} from '../../styles/internal'\nimport {ThemeFontSize} from '../../theme'\n\nfunction rootStyle(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n    width: stretch;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\nfunction inputBaseStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const font = theme.sanity.fonts.text\n\n  return css`\n    -webkit-font-smoothing: antialiased;\n    appearance: none;\n    border: 0;\n    font-family: ${font.family};\n    color: inherit;\n    width: 100%;\n    outline: none;\n    margin: 0;\n\n    &:disabled {\n      opacity: 1;\n    }\n  `\n}\n\nfunction inputColorStyle(props: ThemeProps) {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n\n  return css`\n    /* enabled */\n    background-color: ${color.default.enabled.bg};\n    color: ${color.default.enabled.fg};\n    box-shadow: ${focusRingBorderStyle({\n      color: color.default.enabled.border,\n      width: input.border.width,\n    })};\n\n    /* hovered */\n    @media (hover: hover) {\n      &:not(:disabled):hover {\n        background-color: ${color.default.hovered.bg};\n        color: ${color.default.hovered.fg};\n        box-shadow: ${focusRingBorderStyle({\n          color: color.default.hovered.border,\n          width: input.border.width,\n        })};\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    /* read-only */\n    &[data-read-only] {\n      background-color: ${color.default.readOnly.bg};\n      color: ${color.default.readOnly.fg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.readOnly.border,\n        width: input.border.width,\n      })};\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled {\n      background-color: ${color.default.disabled.bg};\n      color: ${color.default.disabled.fg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.disabled.border,\n        width: input.border.width,\n      })};\n    }\n  `\n}\n\nfunction textSize(size: ThemeFontSize) {\n  return {fontSize: rem(size.fontSize), lineHeight: rem(size.lineHeight)}\n}\n\nfunction inputTextSizeStyle(props: {$fontSize: number[]} & ThemeProps) {\n  const {theme, $fontSize} = props\n  const {sizes} = theme.sanity.fonts.text\n\n  return _responsive(theme.sanity.media, $fontSize, (sizeIndex) =>\n    textSize(sizes[sizeIndex] || sizes[2])\n  )\n}\n\nfunction inputStyle(): Array<\n  | ((\n      props: ResponsiveRadiusStyleProps & {\n        $fontSize: number[]\n        $padding: number[]\n        $space: number[]\n      } & ThemeProps\n    ) => CSSObject[])\n  | ((props: ThemeProps) => FlattenSimpleInterpolation)\n> {\n  return [\n    responsiveRadiusStyle,\n    inputBaseStyle,\n    inputColorStyle,\n    inputTextSizeStyle,\n    responsiveInputPaddingIconRightStyle,\n  ]\n}\n\nfunction iconBoxStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const color = theme.sanity.color.input\n\n  return css`\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n\n    /* enabled */\n    --card-fg-color: ${color.default.enabled.fg};\n\n    /* hover */\n    @media (hover: hover) {\n      select:not(disabled):not(:read-only):hover + && {\n        --card-fg-color: ${color.default.hovered.fg};\n      }\n    }\n\n    /* disabled */\n    select:disabled + && {\n      --card-fg-color: ${color.default.disabled.fg};\n    }\n\n    /* read-only */\n    select[data-read-only] + && {\n      --card-fg-color: ${color.default.readOnly.fg};\n    }\n  `\n}\n\nexport const selectStyle = {\n  root: rootStyle,\n  input: inputStyle,\n  iconBox: iconBoxStyle,\n}\n","import {SelectIcon} from '@sanity/icons'\nimport React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity, useArrayProp} from '../../hooks'\nimport {Box} from '../box'\nimport {Text} from '../text'\nimport {selectStyle} from './styles'\n\n/**\n * @public\n */\nexport interface SelectProps {\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n  space?: number | number[]\n  customValidity?: string\n}\n\nconst Root = styled.div(selectStyle.root)\n\nconst Input = styled.select<{\n  $fontSize: number[]\n  $padding: number[]\n  $radius: number[]\n  $space: number[]\n}>(selectStyle.input)\n\nconst IconBox = styled(Box)(selectStyle.iconBox)\n\n/**\n * @public\n */\nexport const Select = forwardRef(function Select(\n  props: SelectProps & Omit<React.HTMLProps<HTMLSelectElement>, 'as'>,\n  forwardedRef: React.ForwardedRef<HTMLSelectElement>\n) {\n  const {\n    children,\n    customValidity,\n    disabled,\n    fontSize = 2,\n    padding = 3,\n    radius = 1,\n    readOnly,\n    space = 3,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root data-ui=\"Select\">\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        data-ui=\"Select\"\n        {...restProps}\n        $fontSize={useArrayProp(fontSize)}\n        $padding={useArrayProp(padding)}\n        $radius={useArrayProp(radius)}\n        $space={useArrayProp(space)}\n        disabled={disabled || readOnly}\n        ref={ref}\n      >\n        {children}\n      </Input>\n\n      <IconBox padding={padding}>\n        <Text size={fontSize}>\n          <SelectIcon />\n        </Text>\n      </IconBox>\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {rem, _responsive, ThemeProps} from '../../styles'\n\nexport interface ResponsiveStackSpaceStyleProps {\n  $space: number[]\n}\n\nconst BASE_STYLE: CSSObject = {\n  '&&:not([hidden])': {\n    display: 'grid',\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n  gridTemplateColumns: 'minmax(0, 1fr)',\n  gridAutoRows: 'min-content',\n}\n\nexport function stackBaseStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveStackSpaceStyle(\n  props: ResponsiveStackSpaceStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$space, (spaceIndex) => ({\n    gridGap: rem(space[spaceIndex]),\n  }))\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps} from '../box'\nimport {stackBaseStyle, responsiveStackSpaceStyle, ResponsiveStackSpaceStyleProps} from './styles'\n\n/**\n * @public\n */\nexport interface StackProps extends BoxProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  space?: number | number[]\n}\n\nconst Root = styled(Box)<ResponsiveStackSpaceStyleProps>(stackBaseStyle, responsiveStackSpaceStyle)\n\n/**\n * @public\n */\nexport const Stack = forwardRef(function Stack(\n  props: StackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {as, space, ...restProps} = props\n\n  return (\n    <Root\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Stack\"\n      {...restProps}\n      $space={useArrayProp(space)}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingStyle} from '../../styles/internal'\n\n/* Root */\nexport function switchBaseStyles(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\n/* Input */\nexport function switchInputStyles(): FlattenSimpleInterpolation {\n  // Visually hide the input element while keeping it interactive\n  return css`\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    padding: 0;\n    margin: 0;\n\n    /* Place the input element above the representation element */\n    z-index: 1;\n  `\n}\n\n/* Representation */\nexport function switchRepresentationStyles(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.button.default\n\n  return css`\n    --switch-bg-color: ${color.default.enabled.bg};\n    --switch-fg-color: ${color.default.enabled.fg};\n    --switch-box-shadow: none;\n\n    &:not([hidden]) {\n      display: block;\n    }\n    position: relative;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n\n    /* Make sure it’s not possible to interact with the wrapper element */\n    pointer-events: none;\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1;\n      box-shadow: var(--switch-box-shadow);\n      border-radius: inherit;\n    }\n\n    /* Focus styles */\n    input:focus + && {\n      --switch-box-shadow: ${focusRingStyle({focusRing})};\n    }\n\n    input:focus:not(:focus-visible) + && {\n      --switch-box-shadow: none;\n    }\n\n    input:checked + && {\n      --switch-bg-color: ${color.positive.enabled.bg};\n      --switch-fg-color: ${color.positive.enabled.fg};\n    }\n\n    @media (hover: hover) {\n      input:not(:disabled):hover + && {\n        --switch-bg-color: ${color.default.hovered.bg};\n        --switch-fg-color: ${color.default.hovered.fg};\n      }\n\n      input:not(:disabled):checked:hover + && {\n        --switch-bg-color: ${color.positive.hovered.bg};\n        --switch-fg-color: ${color.positive.hovered.fg};\n      }\n    }\n\n    input:not([data-read-only]):disabled + && {\n      --switch-bg-color: ${color.default.disabled.bg};\n      --switch-fg-color: ${color.default.disabled.fg};\n    }\n  `\n}\n\n/* Track */\nexport function switchTrackStyles(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const {input} = theme.sanity\n\n  return css`\n    &:not([hidden]) {\n      display: block;\n    }\n    background-color: var(--switch-bg-color);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n  `\n}\n\n/* Thumb */\nexport function switchThumbStyles(\n  props: {$checked?: boolean; $indeterminate?: boolean} & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$indeterminate, theme} = props\n  const {input} = theme.sanity\n  const trackWidth = input.switch.width\n  const trackHeight = input.switch.height\n  const trackPadding = input.switch.padding\n  const size = trackHeight - input.switch.padding * 2\n  const checkedOffset = trackWidth - trackPadding * 2 - size\n  const indeterminateOffset = trackWidth / 2 - size / 2 - trackPadding\n  const checked = $indeterminate !== true && props.$checked === true\n\n  return css`\n    &:not([hidden]) {\n      display: block;\n    }\n    position: absolute;\n    left: ${rem(trackPadding)};\n    top: ${rem(trackPadding)};\n    height: ${rem(size)};\n    width: ${rem(size)};\n    border-radius: ${rem(size / 2)};\n    transition-property: transform;\n    transition-duration: ${input.switch.transitionDurationMs}ms;\n    transition-timing-function: ${input.switch.transitionTimingFunction};\n    background: var(--switch-fg-color);\n    transform: translate3d(0, 0, 0);\n\n    ${checked &&\n    css`\n      transform: translate3d(${checkedOffset}px, 0, 0);\n    `}\n\n    ${$indeterminate &&\n    css`\n      transform: translate3d(${indeterminateOffset}px, 0, 0);\n    `}\n  `\n}\n","import React, {forwardRef, useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef} from '../../hooks'\nimport {\n  switchBaseStyles,\n  switchRepresentationStyles,\n  switchThumbStyles,\n  switchTrackStyles,\n  switchInputStyles,\n} from './styles'\n\n/**\n * @public\n */\nexport interface SwitchProps {\n  indeterminate?: boolean\n}\n\nconst Root = styled.span(switchBaseStyles)\nconst Input = styled.input(switchInputStyles)\nconst Representation = styled.span(switchRepresentationStyles)\nconst Track = styled.span(switchTrackStyles)\nconst Thumb = styled.span<{$checked?: boolean; $indeterminate?: boolean}>(switchThumbStyles)\n\n/**\n * @public\n */\nexport const Switch = forwardRef(function Switch(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & SwitchProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>\n) {\n  const {checked, className, disabled, indeterminate, readOnly, style, ...restProps} = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useEffect(() => {\n    if (ref.current) {\n      // Set the indeterminate state\n      ref.current.indeterminate = indeterminate || false\n    }\n  }, [indeterminate, ref])\n\n  return (\n    <Root className={className} data-ui=\"Switch\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        checked={indeterminate !== true && checked}\n        disabled={disabled || readOnly}\n        type=\"checkbox\"\n        ref={ref}\n      />\n      <Representation aria-hidden data-name=\"representation\">\n        <Track />\n        <Thumb $checked={checked} $indeterminate={indeterminate} />\n      </Representation>\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity, useArrayProp} from '../../hooks'\nimport {\n  responsiveInputPaddingStyle,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  TextInputResponsivePaddingStyleProps,\n  TextInputInputStyleProps,\n  TextInputRepresentationStyleProps,\n  textInputRootStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n  textInputRepresentationStyle,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey, useRootTheme} from '../../theme'\nimport {ResponsiveRadiusProps} from '../types'\n\n/**\n * @public\n */\nexport interface TextAreaProps extends ResponsiveRadiusProps {\n  border?: boolean\n  customValidity?: string\n  fontSize?: number | number[]\n  padding?: number | number[]\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.span(textInputRootStyle)\n\nconst InputRoot = styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`\n\nconst Input = styled.textarea<TextInputResponsivePaddingStyleProps & TextInputInputStyleProps>(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle\n)\n\nconst Presentation = styled.div<ResponsiveRadiusStyleProps & TextInputRepresentationStyleProps>(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle\n)\n\n/**\n * @public\n */\nexport const TextArea = forwardRef(function TextArea(\n  props: TextAreaProps & Omit<React.HTMLProps<HTMLTextAreaElement>, 'as'>,\n  forwardedRef: React.ForwardedRef<HTMLTextAreaElement>\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled = false,\n    fontSize = 2,\n    padding = 3,\n    radius = 1,\n    weight,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const rootTheme = useRootTheme()\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root data-ui=\"TextArea\">\n      <InputRoot>\n        <Input\n          data-as=\"textarea\"\n          data-scheme={rootTheme.scheme}\n          data-tone={rootTheme.tone}\n          {...restProps}\n          $fontSize={useArrayProp(fontSize)}\n          $padding={useArrayProp(padding)}\n          $scheme={rootTheme.scheme}\n          $space={useArrayProp(0)}\n          $tone={rootTheme.tone}\n          $weight={weight}\n          disabled={disabled}\n          ref={ref}\n        />\n        <Presentation\n          $border={border}\n          $radius={useArrayProp(radius)}\n          $scheme={rootTheme.scheme}\n          $tone={rootTheme.tone}\n          data-scheme={rootTheme.scheme}\n          data-tone={rootTheme.tone}\n        />\n      </InputRoot>\n    </Root>\n  )\n})\n","import {CloseIcon} from '@sanity/icons'\nimport React, {createElement, forwardRef, isValidElement, useCallback, useMemo} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp, useForwardedRef, useCustomValidity} from '../../hooks'\nimport {\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  responsiveInputPaddingStyle,\n  TextInputInputStyleProps,\n  TextInputRepresentationStyleProps,\n  TextInputResponsivePaddingStyleProps,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n  textInputRepresentationStyle,\n  textInputRootStyle,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey, useRootTheme} from '../../theme'\nimport {Box} from '../box'\nimport {Button, ButtonProps} from '../button'\nimport {Card} from '../card'\nimport {Text} from '../text'\n\n/**\n * @public\n */\nexport type TextInputClearButtonProps = Omit<ButtonProps, 'as'> &\n  Omit<React.HTMLProps<HTMLButtonElement>, 'as' | 'onClick' | 'onMouseDown' | 'ref'>\n\n/**\n * @public\n */\nexport type TextInputType =\n  | 'date'\n  | 'datetime-local'\n  | 'email'\n  | 'url'\n  | 'month'\n  | 'number'\n  | 'password'\n  | 'tel'\n  | 'time'\n  | 'text'\n  | 'week'\n\n/**\n * @public\n */\nexport interface TextInputProps {\n  border?: boolean\n  /**\n   * @beta\n   */\n  clearButton?: boolean | TextInputClearButtonProps\n  customValidity?: string\n  fontSize?: number | number[]\n  icon?: React.ComponentType | React.ReactNode\n  iconRight?: React.ComponentType | React.ReactNode\n  /**\n   * @beta\n   */\n  onClear?: () => void\n  padding?: number | number[]\n  prefix?: React.ReactNode\n  radius?: number | number[]\n  space?: number | number[]\n  suffix?: React.ReactNode\n  type?: TextInputType\n  weight?: ThemeFontWeightKey\n}\n\nconst CLEAR_BUTTON_BOX_STYLE: React.CSSProperties = {zIndex: 2}\n\nconst Root = styled(Card).attrs({forwardedAs: 'span'})(textInputRootStyle)\n\nconst InputRoot = styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`\n\nconst Prefix = styled(Card).attrs({forwardedAs: 'span'})`\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`\n\nconst Suffix = styled(Card).attrs({forwardedAs: 'span'})`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`\n\nconst Input = styled.input<TextInputResponsivePaddingStyleProps & TextInputInputStyleProps>(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle\n)\n\nconst Presentation = styled.span<ResponsiveRadiusStyleProps & TextInputRepresentationStyleProps>(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle\n)\n\nconst LeftBox = styled(Box)`\n  position: absolute;\n  top: 0;\n  left: 0;\n`\n\nconst RightBox = styled(Box)`\n  position: absolute;\n  top: 0;\n  right: 0;\n`\n\nconst RightCard = styled(Card)`\n  background-color: transparent;\n  position: absolute;\n  top: 0;\n  right: 0;\n`\n\n/**\n * @public\n */\nexport const TextInput = forwardRef(function TextInput(\n  props: TextInputProps & Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'prefix' | 'type'>,\n  forwardedRef: React.Ref<HTMLInputElement>\n) {\n  const {\n    border = true,\n    clearButton,\n    disabled = false,\n    fontSize: fontSizeProp = 2,\n    icon,\n    iconRight,\n    onClear,\n    padding: paddingProp = 3,\n    prefix,\n    radius: radiusProp = 1,\n    readOnly,\n    space: spaceProp = 3,\n    suffix,\n    customValidity,\n    type = 'text',\n    weight,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const rootTheme = useRootTheme()\n\n  const fontSize = useArrayProp(fontSizeProp)\n  const padding = useArrayProp(paddingProp)\n  const radius = useArrayProp(radiusProp)\n  const space = useArrayProp(spaceProp)\n\n  // Transient properties\n  const $hasClearButton = Boolean(clearButton)\n  const $hasIcon = Boolean(icon)\n  const $hasIconRight = Boolean(iconRight)\n  const $hasSuffix = Boolean(suffix)\n  const $hasPrefix = Boolean(prefix)\n\n  useCustomValidity(ref, customValidity)\n\n  // Prevent the clear button from taking the focus away from the input\n  const handleClearMouseDown = useCallback((event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault()\n    event.stopPropagation()\n  }, [])\n\n  const handleClearClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (onClear) onClear()\n\n      // Focus the input, in case focus has been lost when clicking the clear button\n      ref.current?.focus()\n    },\n    [onClear, ref]\n  )\n\n  // Render prefix (memoized)\n  const prefixNode = useMemo(\n    () =>\n      prefix && (\n        <Prefix borderTop borderLeft borderBottom radius={radius} sizing=\"border\" tone=\"inherit\">\n          <span>{prefix}</span>\n        </Prefix>\n      ),\n    [prefix, radius]\n  )\n\n  // Render presentation (memoized)\n  const presentationNode = useMemo(\n    () => (\n      <Presentation\n        $border={border}\n        $hasPrefix={$hasPrefix}\n        $hasSuffix={$hasSuffix}\n        $radius={radius}\n        $scheme={rootTheme.scheme}\n        $tone={rootTheme.tone}\n        data-scheme={rootTheme.scheme}\n        data-tone={rootTheme.tone}\n      >\n        {icon && (\n          <LeftBox padding={padding}>\n            <Text size={fontSize}>\n              {isValidElement(icon) && icon}\n              {isValidElementType(icon) && createElement(icon)}\n            </Text>\n          </LeftBox>\n        )}\n\n        {!$hasClearButton && iconRight && (\n          <RightBox padding={padding}>\n            <Text size={fontSize}>\n              {isValidElement(iconRight) && iconRight}\n              {isValidElementType(iconRight) && createElement(iconRight)}\n            </Text>\n          </RightBox>\n        )}\n      </Presentation>\n    ),\n    [\n      border,\n      fontSize,\n      icon,\n      iconRight,\n      padding,\n      radius,\n      rootTheme,\n      $hasClearButton,\n      $hasPrefix,\n      $hasSuffix,\n    ]\n  )\n\n  // Render clear button (memoized)\n  const clearButtonBoxPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 1\n        if (v === 2) return 1\n\n        return v - 2\n      }),\n    [padding]\n  )\n  const clearButtonPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 0\n        if (v === 2) return 1\n\n        return v - 1\n      }),\n    [padding]\n  )\n  const clearButtonProps: TextInputClearButtonProps = useMemo(\n    () => (typeof clearButton === 'object' ? clearButton : EMPTY_RECORD),\n    [clearButton]\n  )\n  const clearButtonNode = useMemo(\n    () =>\n      !disabled &&\n      !readOnly &&\n      clearButton && (\n        <RightCard\n          forwardedAs=\"span\"\n          padding={clearButtonBoxPadding}\n          style={CLEAR_BUTTON_BOX_STYLE}\n          tone={customValidity ? 'critical' : 'inherit'}\n        >\n          <Button\n            data-qa=\"clear-button\"\n            fontSize={fontSize}\n            icon={CloseIcon}\n            mode=\"bleed\"\n            padding={clearButtonPadding}\n            radius={radius}\n            {...clearButtonProps}\n            onClick={handleClearClick}\n            onMouseDown={handleClearMouseDown}\n          />\n        </RightCard>\n      ),\n    [\n      clearButton,\n      clearButtonBoxPadding,\n      clearButtonPadding,\n      clearButtonProps,\n      customValidity,\n      disabled,\n      fontSize,\n      handleClearClick,\n      handleClearMouseDown,\n      radius,\n      readOnly,\n    ]\n  )\n\n  // Render suffix (memoized)\n  const suffixNode = useMemo(\n    () =>\n      suffix && (\n        <Suffix borderTop borderRight borderBottom radius={radius} sizing=\"border\" tone=\"inherit\">\n          <span>{suffix}</span>\n        </Suffix>\n      ),\n    [radius, suffix]\n  )\n\n  return (\n    <Root data-ui=\"TextInput\" tone={rootTheme.tone}>\n      {prefixNode}\n\n      <InputRoot>\n        <Input\n          data-as=\"input\"\n          data-scheme={rootTheme.scheme}\n          data-tone={rootTheme.tone}\n          {...restProps}\n          $fontSize={fontSize}\n          $iconLeft={$hasIcon}\n          $iconRight={$hasIconRight || $hasClearButton}\n          $padding={padding}\n          $scheme={rootTheme.scheme}\n          $space={space}\n          $tone={rootTheme.tone}\n          $weight={weight}\n          disabled={disabled}\n          readOnly={readOnly}\n          ref={ref}\n          type={type}\n        />\n\n        {presentationNode}\n        {clearButtonNode}\n      </InputRoot>\n\n      {suffixNode}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.div`\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    &:not([hidden]) {\n      display: block;\n    }\n    transform-origin: 7.5px 7.5px;\n  }\n\n  [data-popper-placement^='top'] > div > & {\n    bottom: -15px;\n  }\n\n  [data-popper-placement^='right'] > div > & {\n    left: -15px;\n\n    & > svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  [data-popper-placement^='left'] > div > & {\n    right: -15px;\n\n    & > svg {\n      transform: rotate(-90deg);\n    }\n  }\n\n  [data-popper-placement^='bottom'] > div > & {\n    top: -15px;\n\n    & > svg {\n      transform: rotate(180deg);\n    }\n  }\n`\n\nconst Border = styled.path`\n  fill: var(--card-shadow-outline-color);\n`\n\nconst Shape = styled.path`\n  fill: var(--card-bg-color);\n`\n\ninterface TooltipArrowProps {}\n\nexport const TooltipArrow = forwardRef(function TooltipArrow(\n  props: TooltipArrowProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {...restProps} = props\n\n  return (\n    <Root {...restProps} ref={ref}>\n      <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\">\n        <Border d=\"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z\" />\n        <Shape d=\"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z\" />\n      </svg>\n    </Root>\n  )\n})\n","import React, {cloneElement, forwardRef, useCallback, useEffect, useRef, useState} from 'react'\nimport {usePopper} from 'react-popper'\nimport styled from 'styled-components'\nimport {useArrayProp, useForwardedRef} from '../../hooks'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {Placement} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement} from '../../utils'\nimport {Card} from '../card'\nimport {TooltipArrow} from './tooltipArrow'\n\n/**\n * @public\n */\nexport interface TooltipProps extends Omit<LayerProps, 'as'> {\n  allowedAutoPlacements?: Placement[]\n  boundaryElement?: HTMLElement | null\n  children?: React.ReactElement\n  content?: React.ReactNode\n  disabled?: boolean\n  fallbackPlacements?: Placement[]\n  placement?: Placement\n  portal?: boolean | string\n  scheme?: ThemeColorSchemeKey\n}\n\nconst Root = styled(Layer)`\n  pointer-events: none;\n`\n\n/**\n * @public\n */\nexport const Tooltip = forwardRef(function Tooltip(\n  props: TooltipProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const boundaryElementContext = useBoundaryElement()\n  const theme = useTheme()\n  const {\n    allowedAutoPlacements,\n    boundaryElement = boundaryElementContext?.element,\n    children,\n    content,\n    disabled,\n    fallbackPlacements: fallbackPlacementsProp,\n    placement = 'bottom',\n    portal,\n    scheme,\n    zOffset = theme.sanity.layer?.tooltip.zOffset,\n    ...restProps\n  } = props\n  const fallbackPlacements = useArrayProp(fallbackPlacementsProp)\n  const forwardedRef = useForwardedRef(ref)\n  const [referenceElement, setReferenceElement] = useState<HTMLElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n  const popper = usePopper(referenceElement, popperElement, {\n    placement,\n    modifiers: [\n      {\n        name: 'arrow',\n        options: {\n          element: arrowElement,\n          padding: 4,\n        },\n      },\n      {\n        name: 'preventOverflow',\n        options: {\n          altAxis: true,\n          boundary: boundaryElement || undefined,\n          padding: 4,\n        },\n      },\n      {\n        name: 'offset',\n        options: {offset: [0, 3]},\n      },\n      {\n        name: 'flip',\n        options: {\n          allowedAutoPlacements,\n          fallbackPlacements,\n        },\n      },\n    ],\n  })\n  const {forceUpdate} = popper\n  const [isOpen, setIsOpen] = useState(false)\n  const handleBlur = useCallback(() => setIsOpen(false), [])\n  const handleFocus = useCallback(() => setIsOpen(true), [])\n  const handleMouseEnter = useCallback(() => setIsOpen(true), [])\n  const handleMouseLeave = useCallback(() => setIsOpen(false), [])\n\n  // Detect whether the mouse is moving outside of the reference element. This is sometimes\n  // necessary, because the tooltip might not always close as it should (e.g. when clicking\n  // the reference element triggers a CPU-heavy operation.)\n  useEffect(() => {\n    if (!isOpen) return\n\n    function handleWindowMouseMove(event: MouseEvent) {\n      if (!referenceElement) return\n\n      const isHoveringReference =\n        referenceElement === event.target ||\n        (event.target instanceof Node && referenceElement.contains(event.target))\n\n      if (!isHoveringReference) {\n        setIsOpen(false)\n        window.removeEventListener('mousemove', handleWindowMouseMove)\n      }\n    }\n\n    window.addEventListener('mousemove', handleWindowMouseMove)\n\n    return () => {\n      window.removeEventListener('mousemove', handleWindowMouseMove)\n    }\n  }, [isOpen, referenceElement])\n\n  const updateTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    if (updateTimeoutRef.current) {\n      clearTimeout(updateTimeoutRef.current)\n      updateTimeoutRef.current = null\n    }\n\n    updateTimeoutRef.current = setTimeout(() => {\n      if (forceUpdate) {\n        try {\n          forceUpdate()\n        } catch (_) {\n          // ignore caught error\n        }\n      }\n    }, 0)\n  }, [forceUpdate, content])\n\n  // Close when `disabled` changes to `true`\n  useEffect(() => {\n    if (disabled) setIsOpen(false)\n  }, [disabled])\n\n  // Close when `content` changes to falsy\n  useEffect(() => {\n    if (!content) setIsOpen(false)\n  }, [content])\n\n  const setRef = (el: HTMLDivElement | null) => {\n    setPopperElement(el)\n    forwardedRef.current = el\n  }\n\n  if (!children) return <></>\n\n  if (disabled) return children\n\n  const referenceProps = {\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: setReferenceElement,\n  }\n\n  const referenceNode = cloneElement(children, referenceProps)\n\n  const popperNode = (\n    <Root\n      data-ui=\"Tooltip\"\n      {...restProps}\n      {...popper.attributes.popper}\n      ref={setRef}\n      style={popper.styles.popper}\n      zOffset={zOffset}\n    >\n      <Card radius={2} scheme={scheme} shadow={3}>\n        {content}\n        <TooltipArrow ref={setArrowElement} style={popper.styles.arrow} />\n      </Card>\n    </Root>\n  )\n\n  return (\n    <>\n      {referenceNode}\n\n      {isOpen && (\n        <>\n          {portal && (\n            <Portal __unstable_name={typeof portal === 'string' ? portal : undefined}>\n              {popperNode}\n            </Portal>\n          )}\n\n          {!portal && popperNode}\n        </>\n      )}\n    </>\n  )\n})\n","import {SpinnerIcon} from '@sanity/icons'\nimport styled, {keyframes} from 'styled-components'\nimport {Box, Popover} from '../../primitives'\n\n/**\n * @internal\n */\nexport const Root = styled.div`\n  line-height: 0;\n`\n\n/**\n * @internal\n */\nexport const ListBox = styled(Box)`\n  & > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n`\n\n/**\n * @internal\n */\nexport const ResultsPopover = styled(Popover)`\n  & > div {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  &[data-popper-reference-hidden='true'] {\n    display: none;\n  }\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\n/**\n * @internal\n */\nexport const AnimatedSpinnerIcon = styled(SpinnerIcon)`\n  animation: ${rotate} 500ms linear infinite;\n`\n","import React, {useCallback} from 'react'\nimport {_isEnterToClickElement} from '../../helpers'\n\nexport interface AutocompleteOptionProps {\n  children: React.ReactNode\n  id: string\n  onSelect: (v: string) => void\n  selected: boolean\n  value: string\n}\n\nexport function AutocompleteOption(props: AutocompleteOptionProps): React.ReactElement {\n  const {children, id, onSelect, selected, value} = props\n\n  const handleClick = useCallback(() => {\n    // Calling the `onSelect` in a timeout is a fix to\n    // allow the `click` event to propagate in some cases\n    setTimeout(() => {\n      onSelect(value)\n    }, 0)\n  }, [onSelect, value])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLLIElement>) => {\n      if (event.key === 'Enter' && !_isEnterToClickElement(event.currentTarget)) {\n        handleClick()\n      }\n    },\n    [handleClick]\n  )\n\n  return (\n    <li\n      aria-selected={selected}\n      data-ui=\"AutocompleteOption\"\n      id={id}\n      role=\"option\"\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n    >\n      {children}\n    </li>\n  )\n}\n","import {AutocompleteMsg, AutocompleteState} from './types'\n\n/**\n * @internal\n */\nexport function autocompleteReducer(\n  state: AutocompleteState,\n  msg: AutocompleteMsg\n): AutocompleteState {\n  if (msg.type === 'input/change') {\n    return {...state, activeValue: null, focused: true, query: msg.query}\n  }\n\n  if (msg.type === 'input/focus') {\n    return {...state, focused: true}\n  }\n\n  if (msg.type === 'root/blur') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/clear') {\n    return {...state, activeValue: null, query: null, value: null}\n  }\n\n  if (msg.type === 'root/escape') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/open') {\n    return {...state, query: state.query || msg.query}\n  }\n\n  if (msg.type === 'root/setActiveValue') {\n    return {...state, activeValue: msg.value, listFocused: msg.listFocused || state.listFocused}\n  }\n\n  if (msg.type === 'root/setListFocused') {\n    // prevent unnecessary re-render\n    if (state.listFocused === msg.listFocused) return state\n\n    return {...state, listFocused: msg.listFocused}\n  }\n\n  if (msg.type === 'value/change') {\n    return {...state, activeValue: msg.value, query: null, value: msg.value}\n  }\n\n  return state\n}\n","import {Placement, PopoverMargins} from '../../types'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_LISTBOX_IGNORE_KEYS = [\n  'Control',\n  'Shift',\n  'Alt',\n  'Enter',\n  'Home',\n  'End',\n  'PageUp',\n  'PageDown',\n  'Meta',\n  'Tab',\n  'CapsLock',\n]\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_MARGINS: PopoverMargins = [0, 1, 1, 1]\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_PLACEMENT: Placement = 'bottom-start'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS: Placement[] = ['top-start']\n","import {ChevronDownIcon} from '@sanity/icons'\nimport React, {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from 'react'\nimport {EMPTY_ARRAY, EMPTY_RECORD} from '../../constants'\nimport {_hasFocus, _raf, focusFirstDescendant} from '../../helpers'\nimport {useForwardedRef, useArrayProp} from '../../hooks'\nimport {Box, BoxProps, Button, Card, PopoverProps, Stack, Text, TextInput} from '../../primitives'\nimport {AnimatedSpinnerIcon, ListBox, ResultsPopover, Root} from './autocomplete.styles'\nimport {AutocompleteOption} from './autocompleteOption'\nimport {autocompleteReducer} from './autocompleteReducer'\nimport {\n  AUTOCOMPLETE_LISTBOX_IGNORE_KEYS,\n  AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS,\n  AUTOCOMPLETE_POPOVER_MARGINS,\n  AUTOCOMPLETE_POPOVER_PLACEMENT,\n} from './constants'\nimport {AutocompleteOpenButtonProps, BaseAutocompleteOption} from './types'\n\n/**\n * @public\n */\nexport interface AutocompleteProps<Option extends BaseAutocompleteOption = BaseAutocompleteOption> {\n  border?: boolean\n  customValidity?: string\n  filterOption?: (query: string, option: Option) => boolean\n  fontSize?: number | number[]\n  icon?: React.ComponentType | React.ReactNode\n  id: string\n  /**\n   * @beta\n   */\n  listBox?: BoxProps\n  loading?: boolean\n  onChange?: (value: string) => void\n  onQueryChange?: (query: string | null) => void\n  onSelect?: (value: string) => void\n  /**\n   * @beta\n   */\n  openButton?: boolean | AutocompleteOpenButtonProps\n  options?: Option[]\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'onMouseEnter' | 'onMouseLeave' | 'open'> &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content' | 'ref' | 'width'>\n  prefix?: React.ReactNode\n  radius?: number | number[]\n  /**\n   * @beta\n   */\n  relatedElements?: HTMLElement[]\n  renderOption?: (option: Option) => React.ReactElement\n  /**\n   * @beta\n   */\n  renderPopover?: (\n    props: {\n      content: React.ReactElement | null\n      hidden: boolean\n      inputElement: HTMLInputElement | null\n      onMouseEnter: () => void\n      onMouseLeave: () => void\n    },\n    ref: React.Ref<HTMLDivElement>\n  ) => React.ReactNode\n  renderValue?: (value: string, option?: Option) => string\n  suffix?: React.ReactNode\n  value?: string\n}\n\nconst defaultRenderValue = (value: string, option?: BaseAutocompleteOption) =>\n  option ? option.value : value\n\nconst defaultFilterOption = (query: string, option: BaseAutocompleteOption) =>\n  option.value.toLowerCase().indexOf(query.toLowerCase()) > -1\n\nconst InnerAutocomplete = forwardRef(function InnerAutocomplete<\n  Option extends BaseAutocompleteOption\n>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      React.HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    >,\n  ref: React.Ref<HTMLInputElement>\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled,\n    filterOption: filterOptionProp,\n    fontSize = 2,\n    icon,\n    id,\n    listBox = {},\n    loading,\n    onBlur,\n    onChange,\n    onFocus,\n    onQueryChange,\n    onSelect,\n    openButton,\n    options: optionsProp,\n    padding: paddingProp = 3,\n    popover = {},\n    prefix,\n    radius = 3,\n    readOnly,\n    relatedElements,\n    renderOption: renderOptionProp,\n    renderPopover,\n    renderValue = defaultRenderValue,\n    suffix,\n    value: valueProp,\n    ...restProps\n  } = props\n\n  const [state, dispatch] = useReducer(autocompleteReducer, {\n    activeValue: valueProp || null,\n    focused: false,\n    listFocused: false,\n    query: null,\n    value: valueProp || null,\n  })\n\n  const {activeValue, focused, listFocused, query, value} = state\n\n  const defaultRenderOption = useCallback(\n    ({value}: BaseAutocompleteOption) => (\n      <Card data-as=\"button\" padding={paddingProp} radius={2} tone=\"inherit\">\n        <Text size={fontSize} textOverflow=\"ellipsis\">\n          {value}\n        </Text>\n      </Card>\n    ),\n    [fontSize, paddingProp]\n  )\n\n  const renderOption =\n    typeof renderOptionProp === 'function' ? renderOptionProp : defaultRenderOption\n  const filterOption =\n    typeof filterOptionProp === 'function' ? filterOptionProp : defaultFilterOption\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const [resultsPopoverElement, setResultsPopoverElement] = useState<HTMLDivElement | null>(null)\n  const inputElementRef = useRef<HTMLInputElement | null>(null)\n  const listBoxElementRef = useRef<HTMLDivElement | null>(null)\n  const focusedElementRef = useRef<HTMLElement | null>(null)\n  const valueRef = useRef(value)\n  const valuePropRef = useRef(valueProp)\n  const forwardedRef = useForwardedRef(ref)\n  const popoverMouseWithinRef = useRef(false)\n  const listBoxId = `${id}-listbox`\n  const options = Array.isArray(optionsProp) ? optionsProp : EMPTY_ARRAY\n  const padding = useArrayProp(paddingProp)\n  const currentOption = useMemo(\n    () => (value !== null ? options.find((o) => o.value === value) : undefined),\n    [options, value]\n  )\n  const filteredOptions = useMemo(\n    () => options.filter((option) => (query ? filterOption(query, option) : true)),\n    [filterOption, options, query]\n  )\n  const filteredOptionsLen = filteredOptions.length\n  const activeItemId = activeValue ? `${id}-option-${activeValue}` : undefined\n  const expanded = (query !== null && loading) || (focused && query !== null)\n\n  const handleRootBlur = useCallback(\n    (event: React.FocusEvent<HTMLInputElement>) => {\n      setTimeout(() => {\n        // NOTE: This is a workaround for a bug that may happen in Chrome (clicking the scrollbar\n        // closes the results in certain situations):\n        // - Do not handle blur if the mouse is within the popover\n        if (popoverMouseWithinRef.current) {\n          return\n        }\n\n        const elements: HTMLElement[] = (relatedElements || []).concat(\n          rootElement ? [rootElement] : [],\n          resultsPopoverElement ? [resultsPopoverElement] : []\n        )\n\n        let focusInside = false\n\n        if (document.activeElement) {\n          for (const e of elements) {\n            if (e === document.activeElement || e.contains(document.activeElement)) {\n              focusInside = true\n              break\n            }\n          }\n        }\n\n        if (focusInside === false) {\n          dispatch({type: 'root/blur'})\n          popoverMouseWithinRef.current = false\n          if (onQueryChange) onQueryChange(null)\n          if (onBlur) onBlur(event)\n        }\n      }, 0)\n    },\n    [onBlur, onQueryChange, relatedElements, resultsPopoverElement, rootElement]\n  )\n\n  const handleRootFocus = useCallback((event: React.FocusEvent) => {\n    const listBoxElement = listBoxElementRef.current\n    const focusedElement = event.target instanceof HTMLElement ? event.target : null\n\n    focusedElementRef.current = focusedElement\n\n    const nextListFocused = Boolean(\n      listBoxElement && focusedElement && listBoxElement.contains(focusedElement)\n    )\n\n    dispatch({type: 'root/setListFocused', listFocused: nextListFocused})\n  }, [])\n\n  const handleOptionSelect = useCallback(\n    (v: string) => {\n      dispatch({type: 'value/change', value: v})\n\n      popoverMouseWithinRef.current = false\n\n      if (onSelect) onSelect(v)\n\n      valueRef.current = v\n\n      if (onChange) onChange(v)\n      if (onQueryChange) onQueryChange(null)\n\n      inputElementRef.current?.focus()\n    },\n    [onChange, onSelect, onQueryChange]\n  )\n\n  const handleRootKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption = filteredOptions[(activeIndex + 1) % filteredOptionsLen]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption =\n          filteredOptions[\n            activeIndex === -1\n              ? filteredOptionsLen - 1\n              : (filteredOptionsLen + activeIndex - 1) % filteredOptionsLen\n          ]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'Escape') {\n        dispatch({type: 'root/escape'})\n        popoverMouseWithinRef.current = false\n        if (onQueryChange) onQueryChange(null)\n        inputElementRef.current?.focus()\n\n        return\n      }\n\n      const target = event.target as Node\n      const listEl = listBoxElementRef.current\n\n      if (\n        (listEl === target || listEl?.contains(target)) &&\n        !AUTOCOMPLETE_LISTBOX_IGNORE_KEYS.includes(event.key)\n      ) {\n        inputElementRef.current?.focus()\n\n        return\n      }\n    },\n    [activeValue, filteredOptions, filteredOptionsLen, onQueryChange]\n  )\n\n  const handleInputChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const nextQuery = event.currentTarget.value\n\n      dispatch({type: 'input/change', query: nextQuery})\n\n      if (onQueryChange) onQueryChange(nextQuery)\n    },\n    [onQueryChange]\n  )\n\n  const handleInputFocus = useCallback(\n    (event: React.FocusEvent<HTMLInputElement>) => {\n      if (!focused) {\n        dispatch({type: 'input/focus'})\n\n        if (onFocus) onFocus(event)\n      }\n    },\n    [focused, onFocus]\n  )\n\n  const handlePopoverMouseEnter = useCallback(() => {\n    popoverMouseWithinRef.current = true\n  }, [])\n\n  const handlePopoverMouseLeave = useCallback(() => {\n    popoverMouseWithinRef.current = false\n  }, [])\n\n  const handleClearButtonClick = useCallback(() => {\n    dispatch({type: 'root/clear'})\n    valueRef.current = ''\n    if (onChange) onChange('')\n    if (onQueryChange) onQueryChange(null)\n    inputElementRef.current?.focus()\n  }, [onChange, onQueryChange])\n\n  const handleClearButtonFocus = useCallback(() => {\n    dispatch({type: 'input/focus'})\n  }, [])\n\n  // Change the value when `value` prop changes\n  useEffect(() => {\n    if (valueProp !== valuePropRef.current) {\n      valuePropRef.current = valueProp\n\n      if (valueProp !== undefined) {\n        dispatch({type: 'value/change', value: valueProp})\n        valueRef.current = valueProp\n      }\n\n      return\n    }\n\n    if (valueProp !== value) {\n      dispatch({type: 'value/change', value: valueProp || null})\n    }\n  }, [valueProp, value])\n\n  // Reset active item when closing\n  useEffect(() => {\n    if (!focused) {\n      if (valueRef.current) {\n        dispatch({type: 'root/setActiveValue', value: valueRef.current})\n      }\n    }\n  }, [focused])\n\n  // Focus the selected item\n  useEffect(() => {\n    const listElement = listBoxElementRef.current\n\n    if (!listElement) return\n\n    const activeOption = filteredOptions.find((o) => o.value === activeValue)\n\n    if (activeOption) {\n      const activeIndex = filteredOptions.indexOf(activeOption)\n      const activeItemElement = listElement.childNodes[activeIndex] as HTMLLIElement | undefined\n\n      if (activeItemElement) {\n        if (_hasFocus(activeItemElement)) {\n          // already focused\n          return\n        }\n\n        focusFirstDescendant(activeItemElement)\n      }\n    }\n  }, [activeValue, filteredOptions])\n\n  const setRef = useCallback(\n    (el: HTMLInputElement | null) => {\n      inputElementRef.current = el\n      forwardedRef.current = el\n    },\n    [forwardedRef]\n  )\n\n  const clearButton = useMemo(() => {\n    if (!loading && !disabled && value) {\n      return {\n        'aria-label': 'Clear',\n        onFocus: handleClearButtonFocus,\n      }\n    }\n\n    return undefined\n  }, [disabled, handleClearButtonFocus, loading, value])\n\n  const openButtonBoxPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 1\n        if (v === 2) return 1\n\n        return v - 2\n      }),\n    [padding]\n  )\n  const openButtonPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 0\n        if (v === 2) return 1\n\n        return v - 1\n      }),\n    [padding]\n  )\n  const openButtonProps: AutocompleteOpenButtonProps = useMemo(\n    () => (typeof openButton === 'object' ? openButton : EMPTY_RECORD),\n    [openButton]\n  )\n\n  const handleOpenClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      dispatch({\n        type: 'root/open',\n        query: value ? renderValue(value, currentOption) : '',\n      })\n\n      if (openButtonProps.onClick) openButtonProps.onClick(event)\n\n      _raf(() => inputElementRef.current?.focus())\n    },\n    [currentOption, openButtonProps, renderValue, value]\n  )\n\n  const openButtonNode = useMemo(\n    () =>\n      !disabled && !readOnly && openButton ? (\n        <Box aria-hidden={expanded} padding={openButtonBoxPadding}>\n          <Button\n            aria-label=\"Open\"\n            disabled={expanded}\n            fontSize={fontSize}\n            icon={ChevronDownIcon}\n            mode=\"bleed\"\n            padding={openButtonPadding}\n            {...openButtonProps}\n            onClick={handleOpenClick}\n          />\n        </Box>\n      ) : undefined,\n    [\n      disabled,\n      expanded,\n      fontSize,\n      handleOpenClick,\n      openButton,\n      openButtonBoxPadding,\n      openButtonPadding,\n      openButtonProps,\n      readOnly,\n    ]\n  )\n\n  const inputValue = useMemo(() => {\n    if (query === null) {\n      if (value !== null) {\n        return renderValue(value, currentOption)\n      }\n\n      return ''\n    }\n\n    return query\n  }, [currentOption, query, renderValue, value])\n\n  const input = (\n    <TextInput\n      {...restProps}\n      aria-activedescendant={activeItemId}\n      aria-autocomplete=\"list\"\n      aria-expanded={expanded}\n      aria-owns={listBoxId}\n      autoCapitalize=\"off\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      border={border}\n      clearButton={clearButton}\n      customValidity={customValidity}\n      disabled={disabled}\n      fontSize={fontSize}\n      icon={icon}\n      iconRight={loading && AnimatedSpinnerIcon}\n      id={id}\n      inputMode=\"search\"\n      onChange={handleInputChange}\n      onClear={handleClearButtonClick}\n      onFocus={handleInputFocus}\n      padding={padding}\n      prefix={prefix}\n      radius={radius}\n      readOnly={readOnly}\n      ref={setRef}\n      role=\"combobox\"\n      spellCheck={false}\n      suffix={suffix || openButtonNode}\n      value={inputValue}\n    />\n  )\n\n  const handleListBoxKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      // If the focus is currently in the list, move focus to the input element\n      if (event.key === 'Tab') {\n        if (listFocused) inputElementRef.current?.focus()\n      }\n    },\n    [listFocused]\n  )\n\n  const content = useMemo(() => {\n    if (filteredOptions.length === 0) return null\n\n    return (\n      <ListBox\n        data-ui=\"AutoComplete__results\"\n        onKeyDown={handleListBoxKeyDown}\n        padding={1}\n        {...listBox}\n        tabIndex={-1}\n      >\n        <Stack\n          as=\"ul\"\n          aria-multiselectable={false}\n          data-ui=\"AutoComplete__resultsList\"\n          id={listBoxId}\n          ref={listBoxElementRef}\n          role=\"listbox\"\n          space={1}\n        >\n          {filteredOptions.map((option) => {\n            const active =\n              activeValue !== null ? option.value === activeValue : currentOption === option\n\n            return (\n              <AutocompleteOption\n                id={`${id}-option-${option.value}`}\n                key={option.value}\n                onSelect={handleOptionSelect}\n                selected={active}\n                value={option.value}\n              >\n                {cloneElement(renderOption(option), {\n                  disabled: loading,\n                  selected: active,\n                  tabIndex: listFocused && active ? 0 : -1,\n                })}\n              </AutocompleteOption>\n            )\n          })}\n        </Stack>\n      </ListBox>\n    )\n  }, [\n    activeValue,\n    currentOption,\n    filteredOptions,\n    handleOptionSelect,\n    handleListBoxKeyDown,\n    id,\n    listBox,\n    listBoxId,\n    listFocused,\n    loading,\n    renderOption,\n  ])\n\n  const results = useMemo(() => {\n    if (renderPopover) {\n      return renderPopover(\n        {\n          content,\n          hidden: !expanded,\n          inputElement: inputElementRef.current,\n          onMouseEnter: handlePopoverMouseEnter,\n          onMouseLeave: handlePopoverMouseLeave,\n        },\n        setResultsPopoverElement\n      )\n    }\n\n    if (filteredOptionsLen === 0) {\n      return null\n    }\n\n    return (\n      <ResultsPopover\n        __unstable_margins={AUTOCOMPLETE_POPOVER_MARGINS}\n        arrow={false}\n        constrainSize\n        content={content}\n        fallbackPlacements={AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS}\n        matchReferenceWidth\n        onMouseEnter={handlePopoverMouseEnter}\n        onMouseLeave={handlePopoverMouseLeave}\n        open={expanded}\n        placement={AUTOCOMPLETE_POPOVER_PLACEMENT}\n        portal\n        radius={radius}\n        ref={setResultsPopoverElement}\n        referenceElement={inputElementRef.current}\n        {...popover}\n      />\n    )\n  }, [\n    content,\n    expanded,\n    filteredOptionsLen,\n    handlePopoverMouseEnter,\n    handlePopoverMouseLeave,\n    popover,\n    radius,\n    renderPopover,\n  ])\n\n  return (\n    <Root\n      data-ui=\"Autocomplete\"\n      onBlur={handleRootBlur}\n      onFocus={handleRootFocus}\n      onKeyDown={handleRootKeyDown}\n      ref={setRootElement}\n    >\n      {input}\n      {results}\n    </Root>\n  )\n})\n\n/**\n * @public\n */\nexport const Autocomplete = InnerAutocomplete as <Option extends BaseAutocompleteOption>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      React.HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    > & {\n      ref?: React.Ref<HTMLInputElement>\n    }\n) => React.ReactElement\n","import styled from 'styled-components'\nimport {Button} from '../../primitives'\n\nexport const Root = styled.ol`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  list-style: none;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 0;\n`\n\nexport const ExpandButton = styled(Button)`\n  appearance: none;\n  margin: -4px;\n`\n","import React, {\n  Children,\n  forwardRef,\n  Fragment,\n  isValidElement,\n  useCallback,\n  useMemo,\n  useState,\n} from 'react'\nimport {useArrayProp, useClickOutside} from '../../hooks'\nimport {Box, Popover, Stack, Text} from '../../primitives'\nimport {ExpandButton, Root} from './breadcrumbs.styles'\n\n/**\n * @beta\n */\nexport interface BreadcrumbsProps {\n  maxLength?: number\n  separator?: React.ReactNode\n  space?: number | number[]\n}\n\n/**\n * @beta\n */\nexport const Breadcrumbs = forwardRef(function Breadcrumbs(\n  props: BreadcrumbsProps & Omit<React.HTMLProps<HTMLOListElement>, 'as' | 'ref' | 'type'>,\n  ref: React.ForwardedRef<HTMLOListElement>\n) {\n  const {children, maxLength, separator, space: spaceRaw = 2, ...restProps} = props\n  const space = useArrayProp(spaceRaw)\n  const [open, setOpen] = useState(false)\n  const [expandElement, setExpandElement] = useState<HTMLButtonElement | null>(null)\n  const [popoverElement, setPopoverElement] = useState<HTMLDivElement | null>(null)\n\n  const collapse = useCallback(() => setOpen(false), [])\n  const expand = useCallback(() => setOpen(true), [])\n\n  useClickOutside(collapse, [expandElement, popoverElement])\n\n  const rawItems = useMemo(\n    () =>\n      Children.toArray(children).filter((child) => {\n        return isValidElement(child)\n      }),\n    [children]\n  )\n\n  const items = useMemo(() => {\n    const len = rawItems.length\n\n    if (maxLength && len > maxLength) {\n      const beforeLength = Math.ceil(maxLength / 2)\n      const afterLength = Math.floor(maxLength / 2)\n\n      return [\n        ...rawItems.slice(0, beforeLength - 1),\n        <Popover\n          constrainSize\n          content={\n            <Stack as=\"ol\" overflow=\"auto\" padding={space} space={space}>\n              {rawItems.slice(beforeLength - 1, len - afterLength)}\n            </Stack>\n          }\n          key=\"button\"\n          open={open}\n          placement=\"top\"\n          portal\n          ref={setPopoverElement}\n        >\n          <ExpandButton\n            fontSize={1}\n            mode=\"bleed\"\n            onClick={open ? collapse : expand}\n            padding={1}\n            ref={setExpandElement}\n            selected={open}\n            text=\"…\"\n          />\n        </Popover>,\n        ...rawItems.slice(len - afterLength),\n      ]\n    }\n\n    return rawItems\n  }, [collapse, expand, maxLength, open, rawItems, space])\n\n  return (\n    <Root data-ui=\"Breadcrumbs\" {...restProps} ref={ref}>\n      {items.map((item, itemIndex) => (\n        <Fragment key={itemIndex}>\n          {itemIndex > 0 && (\n            <Box aria-hidden as=\"li\" paddingX={space}>\n              {separator || <Text muted>/</Text>}\n            </Box>\n          )}\n          <Box as=\"li\">{item}</Box>\n        </Fragment>\n      ))}\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {_responsive, ThemeProps} from '../../styles'\nimport {DialogPosition} from '../../types'\n\n/**\n * @internal\n */\nexport interface ResponsiveDialogPositionStyleProps {\n  $position: DialogPosition[]\n}\n\nexport function dialogStyle({theme}: ThemeProps): CSSObject {\n  const color = theme.sanity.color.base\n\n  return {\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    outline: 'none',\n    background: color.shadow.umbra,\n  }\n}\n\nexport function responsiveDialogPositionStyle(\n  props: ResponsiveDialogPositionStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$position, (position) => ({'&&': {position}}))\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {DialogPosition} from '../../types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogContextValue {\n  version: 0.0\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\nconst key = Symbol.for('@sanity/ui/context/dialog')\n\nglobalScope[key] = globalScope[key] || createContext<DialogContextValue>({version: 0.0})\n\n/**\n * @internal\n */\nexport const DialogContext: React.Context<DialogContextValue> = globalScope[key]\n","import {useContext} from 'react'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useDialog(): DialogContextValue {\n  return useContext(DialogContext)\n}\n","import {CloseIcon} from '@sanity/icons'\nimport React, {forwardRef, useCallback, useEffect, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {focusFirstDescendant, focusLastDescendant} from '../../helpers'\nimport {useArrayProp, useClickOutside, useForwardedRef, useGlobalKeyDown} from '../../hooks'\nimport {Box, Button, Card, Container, Flex, Text} from '../../primitives'\nimport {ResponsivePaddingProps, ResponsiveWidthProps} from '../../primitives/types'\nimport {responsivePaddingStyle, ResponsivePaddingStyleProps} from '../../styles/internal'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {DialogPosition} from '../../types'\nimport {Layer, Portal, useLayer} from '../../utils'\nimport {\n  dialogStyle,\n  responsiveDialogPositionStyle,\n  ResponsiveDialogPositionStyleProps,\n} from './styles'\nimport {useDialog} from './useDialog'\n\n/**\n * @public\n */\nexport interface DialogProps extends ResponsivePaddingProps, ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus?: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton?: boolean\n  cardRadius?: number | number[]\n  cardShadow?: number | number[]\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer?: React.ReactNode\n  header?: React.ReactNode\n  id: string\n  onClickOutside?: () => void\n  onClose?: () => void\n  portal?: string\n  position?: DialogPosition | DialogPosition[]\n  scheme?: ThemeColorSchemeKey\n  zOffset?: number | number[]\n}\n\ninterface DialogCardProps extends ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton: boolean\n  children: React.ReactNode\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer: React.ReactNode\n  header: React.ReactNode\n  id: string\n  onClickOutside?: () => void\n  onClose?: () => void\n  radius: number | number[]\n  scheme?: ThemeColorSchemeKey\n  shadow: number | number[]\n}\n\nconst Root = styled(Layer)<ResponsiveDialogPositionStyleProps & ResponsivePaddingStyleProps>(\n  responsivePaddingStyle,\n  dialogStyle,\n  responsiveDialogPositionStyle\n)\n\nconst DialogContainer = styled(Container)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\n\nconst DialogCardRoot = styled(Card)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  min-height: 0;\n  max-height: 100%;\n  overflow: hidden;\n`\n\nconst DialogLayout = styled(Flex)`\n  flex: 1;\n  min-height: 0;\n  width: 100%;\n`\n\nconst DialogHeader = styled(Card)`\n  position: relative;\n  z-index: 2;\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -1px;\n    border-bottom: 1px solid var(--card-hairline-soft-color);\n  }\n`\n\nconst DialogContent = styled(Box)`\n  position: relative;\n  z-index: 1;\n  overflow: auto;\n  outline: none;\n`\n\nconst DialogFooter = styled(Box)`\n  position: relative;\n  z-index: 3;\n  border-top: 1px solid var(--card-hairline-soft-color);\n`\n\nconst DialogCard = forwardRef(function DialogCard(\n  props: DialogCardProps,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    __unstable_autoFocus: autoFocus,\n    __unstable_hideCloseButton: hideCloseButton,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    radius: radiusProp,\n    scheme,\n    shadow: shadowProp,\n    width: widthProp,\n  } = props\n  const radius = useArrayProp(radiusProp)\n  const shadow = useArrayProp(shadowProp)\n  const width = useArrayProp(widthProp)\n  const forwardedRef = useForwardedRef(ref)\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const localContentRef = useRef<HTMLDivElement | null>(null)\n  const layer = useLayer()\n  const {isTopLayer} = layer\n  const labelId = `${id}_label`\n  const showCloseButton = Boolean(onClose) && hideCloseButton === false\n  const showHeader = Boolean(header) || showCloseButton\n\n  useEffect(() => {\n    if (!autoFocus) return\n\n    // On mount: focus the first interactive element in the contents\n    if (forwardedRef.current) {\n      focusFirstDescendant(forwardedRef.current)\n    }\n  }, [autoFocus, forwardedRef])\n\n  useGlobalKeyDown(\n    useCallback(\n      (event: KeyboardEvent) => {\n        if (!isTopLayer || !onClose) return\n\n        if (event.key === 'Escape') {\n          event.preventDefault()\n          event.stopPropagation()\n          onClose()\n        }\n      },\n      [isTopLayer, onClose]\n    )\n  )\n\n  useClickOutside(\n    useCallback(() => {\n      if (!isTopLayer || !onClickOutside) return\n\n      onClickOutside()\n    }, [isTopLayer, onClickOutside]),\n    [rootElement]\n  )\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      setRootElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef]\n  )\n\n  const setContentRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      localContentRef.current = el\n      if (typeof contentRef === 'function') contentRef(el)\n      else if (contentRef) contentRef.current = el\n    },\n    [contentRef]\n  )\n\n  return (\n    <DialogContainer data-ui=\"DialogCard\" width={width}>\n      <DialogCardRoot radius={radius} ref={setRef} scheme={scheme} shadow={shadow}>\n        <DialogLayout direction=\"column\">\n          {showHeader && (\n            <DialogHeader>\n              <Flex>\n                <Box flex={1} padding={4}>\n                  {header && (\n                    <Text id={labelId} weight=\"semibold\">\n                      {header}\n                    </Text>\n                  )}\n                </Box>\n                {showCloseButton && (\n                  <Box padding={2}>\n                    <Button\n                      aria-label=\"Close dialog\"\n                      disabled={!onClose}\n                      icon={CloseIcon}\n                      mode=\"bleed\"\n                      onClick={onClose}\n                      padding={3}\n                    />\n                  </Box>\n                )}\n              </Flex>\n            </DialogHeader>\n          )}\n\n          <DialogContent flex={1} ref={setContentRef} tabIndex={-1}>\n            {children}\n          </DialogContent>\n\n          {footer && <DialogFooter>{footer}</DialogFooter>}\n        </DialogLayout>\n      </DialogCardRoot>\n    </DialogContainer>\n  )\n})\n\n/**\n * @public\n */\nexport const Dialog = forwardRef(function Dialog(\n  props: DialogProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'id' | 'width'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const dialog = useDialog()\n  const theme = useTheme()\n  const {\n    __unstable_autoFocus: autoFocus = true,\n    __unstable_hideCloseButton: hideCloseButton = false,\n    cardRadius: cardRadiusProp = 3,\n    cardShadow = 4,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    padding: paddingProp = 4,\n    portal,\n    position: positionProp = dialog.position || 'fixed',\n    scheme,\n    width: widthProp = 0,\n    zOffset: zOffsetProp = dialog.zOffset || theme.sanity.layer?.dialog.zOffset,\n    ...restProps\n  } = props\n  const cardRadius = useArrayProp(cardRadiusProp)\n  const padding = useArrayProp(paddingProp)\n  const position = useArrayProp(positionProp)\n  const width = useArrayProp(widthProp)\n  const zOffset = useArrayProp(zOffsetProp)\n  const preDivRef = useRef<HTMLDivElement | null>(null)\n  const postDivRef = useRef<HTMLDivElement | null>(null)\n  const cardRef = useRef<HTMLDivElement | null>(null)\n\n  const handleFocus = useCallback((event: React.FocusEvent<HTMLDivElement>) => {\n    const target = event.target\n    const cardElement = cardRef.current\n\n    if (!cardElement) {\n      return\n    }\n\n    if (target === preDivRef.current) {\n      focusLastDescendant(cardElement)\n\n      return\n    }\n\n    if (target === postDivRef.current) {\n      focusFirstDescendant(cardElement)\n\n      return\n    }\n  }, [])\n\n  const labelId = `${id}_label`\n\n  return (\n    <Portal __unstable_name={portal}>\n      <Root\n        {...restProps}\n        $padding={padding}\n        $position={position}\n        aria-labelledby={labelId}\n        aria-modal\n        data-ui=\"Dialog\"\n        id={id}\n        onFocus={handleFocus}\n        ref={ref}\n        role=\"dialog\"\n        zOffset={zOffset}\n      >\n        <div ref={preDivRef} tabIndex={0} />\n        <DialogCard\n          __unstable_autoFocus={autoFocus}\n          __unstable_hideCloseButton={hideCloseButton}\n          contentRef={contentRef}\n          footer={footer}\n          header={header}\n          id={id}\n          onClickOutside={onClickOutside}\n          onClose={onClose}\n          radius={cardRadius}\n          ref={cardRef}\n          scheme={scheme}\n          shadow={cardShadow}\n          width={width}\n        >\n          {children}\n        </DialogCard>\n        <div ref={postDivRef} tabIndex={0} />\n      </Root>\n    </Portal>\n  )\n})\n","import React, {useMemo} from 'react'\nimport {DialogPosition} from '../../types'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogProviderProps {\n  children?: React.ReactNode\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function DialogProvider(props: DialogProviderProps): React.ReactElement {\n  const {children, position, zOffset} = props\n\n  const contextValue: DialogContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      position,\n      zOffset,\n    }),\n    [position, zOffset]\n  )\n\n  return <DialogContext.Provider value={contextValue}>{children}</DialogContext.Provider>\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Inline, KBD} from '../../primitives'\n\n/**\n * @public\n */\nexport interface HotkeysProps {\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n  space?: number | number[]\n  keys?: string[]\n}\n\nconst Root = styled.kbd`\n  &:not([hidden]) {\n    display: block;\n  }\n  font: inherit;\n`\n\nconst Key = styled(KBD)`\n  &:not([hidden]) {\n    display: block;\n  }\n`\n\n/**\n * @public\n */\nexport const Hotkeys = forwardRef(function Hotkeys(\n  props: HotkeysProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'ref' | 'size'>,\n  ref: React.Ref<HTMLElement>\n) {\n  const {fontSize, keys, padding, radius, space: spaceProp = 1, ...restProps} = props\n  const space = useArrayProp(spaceProp)\n\n  if (!keys || keys.length === 0) {\n    return <></>\n  }\n\n  return (\n    <Root data-ui=\"Hotkeys\" {...restProps} ref={ref}>\n      <Inline as=\"span\" space={space}>\n        {keys.map((key, i) => (\n          <Key fontSize={fontSize} key={i} padding={padding} radius={radius}>\n            {key}\n          </Key>\n        ))}\n      </Inline>\n    </Root>\n  )\n})\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\n\nexport interface MenuContextValue {\n  version: 0.0\n  activeElement: HTMLElement | null\n  activeIndex: number\n  mount: (element: HTMLElement | null, selected?: boolean) => () => void\n  onClickOutside?: (event: MouseEvent) => void\n  onEscape?: () => void\n  onItemClick?: () => void\n  onItemMouseEnter?: (event: React.MouseEvent<HTMLElement>) => void\n  onItemMouseLeave?: (event: React.MouseEvent<HTMLElement>) => void\n  registerElement?: (el: HTMLElement) => () => void\n\n  /**\n   * @deprecated Use `onItemMouseEnter` instead\n   */\n  onMouseEnter: (event: React.MouseEvent<HTMLElement>) => void\n\n  /**\n   * @deprecated Use `onItemMouseLeave` instead\n   */\n  onMouseLeave: (event: React.MouseEvent<HTMLElement>) => void\n}\n\nconst key = Symbol.for('@sanity/ui/context/menu')\n\nglobalScope[key] = globalScope[key] || createContext<MenuContextValue | null>(null)\n\nexport const MenuContext: React.Context<MenuContextValue | null> = globalScope[key]\n","import {isHTMLAnchorElement, isHTMLButtonElement} from '../../helpers'\n\n/**\n * @internal\n */\nfunction _isFocusable(element: HTMLElement) {\n  return (\n    (isHTMLAnchorElement(element) && element.getAttribute('data-disabled') !== 'true') ||\n    (isHTMLButtonElement(element) && !element.disabled)\n  )\n}\n\n/**\n * @internal\n */\nexport function _getFocusableElements(elements: HTMLElement[]): HTMLElement[] {\n  return elements.filter(_isFocusable)\n}\n\n/**\n * @internal\n */\nexport function _getDOMPath(rootElement: HTMLElement, el: HTMLElement): number[] {\n  const path: number[] = []\n\n  let e = el\n\n  while (e !== rootElement) {\n    const parentElement = e.parentElement\n\n    if (!parentElement) return path\n\n    const children = Array.from(parentElement.childNodes)\n    const index = children.indexOf(e)\n\n    path.unshift(index)\n\n    if (parentElement === rootElement) {\n      return path\n    }\n\n    e = parentElement\n  }\n\n  return path\n}\n\nconst EMPTY_PATH: number[] = []\n\n/**\n * @internal\n */\nexport function _sortElements(rootElement: HTMLElement | null, elements: HTMLElement[]): void {\n  if (!rootElement) return\n\n  const map = new WeakMap<HTMLElement, number[]>()\n\n  for (const el of elements) {\n    map.set(el, _getDOMPath(rootElement, el))\n  }\n\n  const _sort = (a: HTMLElement, b: HTMLElement) => {\n    const _a = map.get(a) || EMPTY_PATH\n    const _b = map.get(b) || EMPTY_PATH\n\n    const len = Math.max(_a.length, _b.length)\n\n    // Loop until there are different indexes\n    for (let i = 0; i < len; i += 1) {\n      const aIndex = _a[i] || -1\n      const bIndex = _b[i] || -1\n\n      if (aIndex !== bIndex) {\n        return aIndex - bIndex\n      }\n    }\n\n    return 0\n  }\n\n  elements.sort(_sort)\n}\n","import {useCallback, useEffect, useRef, useState} from 'react'\nimport {_getFocusableElements, _sortElements} from './helpers'\n\n/**\n * @internal\n */\nexport interface MenuController {\n  activeElement: HTMLElement | null\n  activeIndex: number\n  handleItemMouseEnter: (event: React.MouseEvent<HTMLElement>) => void\n  handleItemMouseLeave: () => void\n  handleKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => void\n  mount: (element: HTMLElement | null, selected?: boolean) => () => void\n  rootElement: HTMLDivElement | null\n  setRootElement: (el: HTMLDivElement | null) => void\n}\n\n/**\n * This controller is responsible for controlling UI menu state.\n *\n * @internal\n */\nexport function useMenuController(props: {\n  onKeyDown?: React.KeyboardEventHandler\n  originElement?: HTMLElement | null\n  shouldFocus: 'first' | 'last' | null\n}): MenuController {\n  const {onKeyDown, originElement, shouldFocus} = props\n  const elementsRef = useRef<HTMLElement[]>([])\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const [activeIndex, _setActiveIndex] = useState(-1)\n  const activeIndexRef = useRef(activeIndex)\n  const activeElement = elementsRef.current[activeIndex] || null\n  const mounted = Boolean(rootElement)\n\n  const setActiveIndex = useCallback((nextActiveIndex) => {\n    _setActiveIndex(nextActiveIndex)\n    activeIndexRef.current = nextActiveIndex\n  }, [])\n\n  const mount = useCallback(\n    (element: HTMLElement | null, selected?: boolean): (() => void) => {\n      if (!element) return () => undefined\n\n      if (elementsRef.current.indexOf(element) === -1) {\n        elementsRef.current.push(element)\n        _sortElements(rootElement, elementsRef.current)\n      }\n\n      if (selected) {\n        const selectedIndex = elementsRef.current.indexOf(element)\n\n        setActiveIndex(selectedIndex)\n      }\n\n      return () => {\n        const idx = elementsRef.current.indexOf(element)\n\n        if (idx > -1) {\n          elementsRef.current.splice(idx, 1)\n        }\n      }\n    },\n    [rootElement, setActiveIndex]\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      // Move focus to the element that opened the menu before handling the `Tab` press\n      if (event.key === 'Tab') {\n        if (originElement) {\n          originElement.focus()\n        }\n\n        return\n      }\n\n      // Move focus to the first focusable menuitem\n      if (event.key === 'Home') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const el = focusableElements[0]\n\n        if (!el) return\n\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      // Move focus to the last focusable menuitem\n      if (event.key === 'End') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const el = focusableElements[focusableElements.length - 1]\n\n        if (!el) return\n\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const focusableLen = focusableElements.length\n\n        if (focusableLen === 0) return\n\n        const focusedElement = elementsRef.current[activeIndexRef.current]\n\n        let focusedIndex = focusableElements.indexOf(focusedElement)\n\n        focusedIndex = (focusedIndex - 1 + focusableLen) % focusableLen\n\n        const el = focusableElements[focusedIndex]\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const focusableLen = focusableElements.length\n\n        if (focusableLen === 0) return\n\n        const focusedElement = elementsRef.current[activeIndexRef.current]\n\n        let focusedIndex = focusableElements.indexOf(focusedElement)\n\n        focusedIndex = (focusedIndex + 1) % focusableLen\n\n        const el = focusableElements[focusedIndex]\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      if (onKeyDown) {\n        onKeyDown(event)\n      }\n    },\n    [onKeyDown, originElement, setActiveIndex]\n  )\n\n  const handleItemMouseEnter = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      const element = event.currentTarget\n      const currentIndex = elementsRef.current.indexOf(element)\n\n      setActiveIndex(currentIndex)\n    },\n    [setActiveIndex]\n  )\n\n  const handleItemMouseLeave = useCallback(() => {\n    rootElement?.focus()\n    setActiveIndex(-1)\n  }, [rootElement, setActiveIndex])\n\n  // Set focus on the currently active element\n  useEffect(() => {\n    if (!mounted) return\n\n    const rafId = window.requestAnimationFrame(() => {\n      const _activeIndex = activeIndexRef.current\n\n      if (_activeIndex === -1) {\n        if (shouldFocus === 'first') {\n          const focusableElements = _getFocusableElements(elementsRef.current)\n          const el = focusableElements[0]\n\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el)\n\n            setActiveIndex(currentIndex)\n            activeIndexRef.current = currentIndex\n          }\n        }\n\n        if (shouldFocus === 'last') {\n          const focusableElements = _getFocusableElements(elementsRef.current)\n          const el = focusableElements[focusableElements.length - 1]\n\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el)\n\n            setActiveIndex(currentIndex)\n            activeIndexRef.current = currentIndex\n          }\n        }\n\n        return\n      }\n\n      const element = elementsRef.current[_activeIndex] || null\n\n      element?.focus()\n    })\n\n    return () => {\n      window.cancelAnimationFrame(rafId)\n    }\n  }, [activeIndex, mounted, setActiveIndex, shouldFocus])\n\n  return {\n    activeElement,\n    activeIndex,\n    handleItemMouseEnter,\n    handleItemMouseLeave,\n    handleKeyDown,\n    mount,\n    rootElement,\n    setRootElement,\n  }\n}\n","import React, {forwardRef, useCallback, useEffect, useMemo} from 'react'\nimport styled from 'styled-components'\nimport {useClickOutside, useForwardedRef, useGlobalKeyDown} from '../../hooks'\nimport {Box, Stack} from '../../primitives'\nimport {ResponsivePaddingProps} from '../../primitives/types'\nimport {useLayer} from '../../utils'\nimport {MenuContext, MenuContextValue} from './menuContext'\nimport {useMenuController} from './useMenuController'\n\n/**\n * @public\n */\nexport interface MenuProps extends ResponsivePaddingProps {\n  /**\n   * @deprecated Use `shouldFocus=\"first\"` instead.\n   */\n  focusFirst?: boolean\n  /**\n   * @deprecated Use `shouldFocus=\"last\"` instead.\n   */\n  focusLast?: boolean\n  onClickOutside?: (event: MouseEvent) => void\n  onEscape?: () => void\n  onItemClick?: () => void\n  onItemSelect?: (index: number) => void\n  originElement?: HTMLElement | null\n  registerElement?: (el: HTMLElement) => () => void\n  shouldFocus?: 'first' | 'last' | null\n  space?: number | number[]\n}\n\nconst Root = styled(Box)`\n  outline: none;\n  overflow: auto;\n`\n\n/**\n * @public\n */\nexport const Menu = forwardRef(function Menu(\n  props: MenuProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'role' | 'tabIndex'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    children,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusFirst,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusLast,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemSelect,\n    onKeyDown,\n    originElement,\n    padding = 1,\n    registerElement,\n    shouldFocus = (props.focusFirst && 'first') || (props.focusLast && 'last') || null,\n    space = 1,\n    ...restProps\n  } = props\n\n  const forwardedRef = useForwardedRef(ref)\n\n  const {isTopLayer} = useLayer()\n\n  const {\n    activeElement,\n    activeIndex,\n    handleItemMouseEnter,\n    handleItemMouseLeave,\n    handleKeyDown,\n    mount,\n    rootElement,\n    setRootElement,\n  } = useMenuController({onKeyDown, originElement, shouldFocus})\n\n  const handleRefChange = useCallback(\n    (el: HTMLDivElement | null) => {\n      setRootElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef, setRootElement]\n  )\n\n  // Trigger `onItemSelect` when active index changes\n  useEffect(() => {\n    if (onItemSelect) onItemSelect(activeIndex)\n  }, [activeIndex, onItemSelect])\n\n  // Close menu when clicking outside\n  useClickOutside(\n    useCallback(\n      (event) => isTopLayer && onClickOutside && onClickOutside(event),\n      [isTopLayer, onClickOutside]\n    ),\n    [rootElement]\n  )\n\n  // Close menu when pressing Escape\n  useGlobalKeyDown(\n    useCallback(\n      (event) => {\n        if (!isTopLayer) return\n\n        if (event.key === 'Escape') {\n          event.stopPropagation()\n          if (onEscape) onEscape()\n        }\n      },\n      [isTopLayer, onEscape]\n    )\n  )\n\n  // Register root element (for nested menus)\n  useEffect(() => {\n    if (!rootElement || !registerElement) return\n\n    return registerElement(rootElement)\n  }, [registerElement, rootElement])\n\n  const value: MenuContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      activeElement,\n      activeIndex,\n      mount,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      onItemMouseEnter: handleItemMouseEnter,\n      onItemMouseLeave: handleItemMouseLeave,\n      registerElement,\n\n      // deprecated\n      onMouseEnter: handleItemMouseEnter,\n      onMouseLeave: handleItemMouseLeave,\n    }),\n    [\n      activeElement,\n      activeIndex,\n      mount,\n      handleItemMouseEnter,\n      handleItemMouseLeave,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      registerElement,\n    ]\n  )\n\n  return (\n    <MenuContext.Provider value={value}>\n      <Root\n        data-ui=\"Menu\"\n        {...restProps}\n        onKeyDown={handleKeyDown}\n        padding={padding}\n        ref={handleRefChange}\n        role=\"menu\"\n        tabIndex={-1}\n      >\n        <Stack space={space}>{children}</Stack>\n      </Root>\n    </MenuContext.Provider>\n  )\n})\n","import React, {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n  useRef,\n} from 'react'\nimport {isElement} from 'react-is'\nimport {Popover, PopoverProps} from '../../primitives'\nimport {ThemeColorSchemeKey} from '../../theme'\nimport {Placement} from '../../types'\nimport {MenuProps} from './menu'\n\n/**\n * @public\n */\nexport interface MenuButtonProps {\n  /**\n   * @beta Do not use in production.\n   */\n  __unstable_disableRestoreFocusOnClose?: boolean\n  /**\n   * @deprecated Use `popover={{boundaryElement: element}}` instead.\n   */\n  boundaryElement?: HTMLElement\n  button: React.ReactElement\n  id: string\n  menu?: React.ReactElement\n  onClose?: () => void\n  /**\n   * @deprecated Use `popover={{placement: 'top'}}` instead.\n   */\n  placement?: Placement\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  /**\n   * @deprecated Use `popover={{scheme: 'dark'}}` instead.\n   */\n  popoverScheme?: ThemeColorSchemeKey\n  /**\n   * @deprecated Use `popover={{radius: 2}}` instead.\n   */\n  popoverRadius?: number | number[]\n  /**\n   * @beta Do not use in production.\n   * @deprecated Use `popover={{portal: true}}` instead.\n   */\n  portal?: boolean\n  /**\n   * @deprecated Use `popover={{preventOverflow: true}}` instead.\n   */\n  preventOverflow?: boolean\n}\n\n/**\n * @public\n */\nexport const MenuButton = forwardRef(function MenuButton(\n  props: MenuButtonProps,\n  ref: React.ForwardedRef<HTMLButtonElement | null>\n) {\n  const {\n    __unstable_disableRestoreFocusOnClose: disableRestoreFocusOnClose = false,\n    boundaryElement: deprecated_boundaryElement,\n    button: buttonProp,\n    id,\n    menu: menuProp,\n    onClose,\n    placement: deprecated_placement,\n    popoverScheme: deprecated_popoverScheme,\n    portal: deprecated_portal = true,\n    popover,\n    popoverRadius: deprecated_popoverRadius,\n    preventOverflow: deprecated_preventOverflow,\n  } = props\n  const [open, setOpen] = useState(false)\n  const [shouldFocus, setShouldFocus] = useState<'first' | 'last' | null>(null)\n  const [buttonElement, setButtonElement] = useState<HTMLButtonElement | null>(null)\n  const [menuElements, setChildMenuElements] = useState<HTMLElement[]>([])\n  const openRef = useRef<boolean>(open)\n\n  useEffect(() => {\n    if (onClose && !open && openRef.current) {\n      onClose()\n    }\n  }, [onClose, open])\n\n  useEffect(() => {\n    openRef.current = open\n  }, [open])\n\n  const handleButtonClick = useCallback(() => {\n    setOpen((v) => !v)\n    setShouldFocus(null)\n  }, [])\n\n  const handleButtonKeyDown = useCallback((event: React.KeyboardEvent<HTMLButtonElement>) => {\n    // On `ArrowDown`, `Enter` and `Space`\n    // - Opens menu and moves focus to first menuitem\n    if (event.key === 'ArrowDown' || event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('first')\n\n      return\n    }\n\n    // On `ArrowUp`\n    // - \tOpens menu and moves focus to last menuitem\n    if (event.key === 'ArrowUp') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('last')\n\n      return\n    }\n  }, [])\n\n  const handleMenuClickOutside = useCallback(\n    (event: MouseEvent) => {\n      const target = event.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (buttonElement && (target === buttonElement || buttonElement.contains(target))) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [buttonElement, menuElements]\n  )\n\n  const handleMenuEscape = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const handleBlur = useCallback(\n    (event: React.FocusEvent<HTMLButtonElement>) => {\n      const target = event.relatedTarget\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (el === target || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [menuElements]\n  )\n\n  const handleItemClick = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const registerElement = useCallback((el: HTMLElement) => {\n    setChildMenuElements((els) => els.concat([el]))\n\n    return () => {\n      setChildMenuElements((els) => {\n        return els.filter((_el) => _el !== el)\n      })\n    }\n  }, [])\n\n  const menuProps: MenuProps = useMemo(\n    () => ({\n      'aria-labelledby': id,\n      onBlurCapture: handleBlur,\n      onClickOutside: handleMenuClickOutside,\n      onEscape: handleMenuEscape,\n      onItemClick: handleItemClick,\n      originElement: buttonElement,\n      registerElement,\n      shouldFocus,\n    }),\n    [\n      buttonElement,\n      handleMenuClickOutside,\n      handleMenuEscape,\n      handleItemClick,\n      id,\n      handleBlur,\n      registerElement,\n      shouldFocus,\n    ]\n  )\n\n  const menu = isElement(menuProp) ? cloneElement(menuProp, menuProps) : null\n\n  const setButtonRef = useCallback(\n    (el: HTMLButtonElement | null) => {\n      if (typeof ref === 'function') {\n        ref(el)\n      } else if (ref) {\n        ref.current = el\n      }\n\n      setButtonElement(el)\n    },\n    [ref]\n  )\n\n  const button = useMemo(\n    () =>\n      isElement(buttonProp)\n        ? cloneElement(buttonProp, {\n            'data-ui': 'MenuButton',\n            id,\n            onClick: handleButtonClick,\n            onKeyDown: handleButtonKeyDown,\n            'aria-haspopup': true,\n            'aria-expanded': open,\n            ref: setButtonRef,\n            selected: open,\n          })\n        : null,\n    [buttonProp, handleButtonClick, handleButtonKeyDown, id, open, setButtonRef]\n  )\n\n  const popoverProps: PopoverProps = useMemo(() => {\n    return {\n      boundaryElement: deprecated_boundaryElement,\n      placement: deprecated_placement,\n      portal: deprecated_portal,\n      radius: deprecated_popoverRadius,\n      preventOverflow: deprecated_preventOverflow,\n      scheme: deprecated_popoverScheme,\n      ...(popover || {}),\n    }\n  }, [\n    deprecated_boundaryElement,\n    deprecated_preventOverflow,\n    deprecated_placement,\n    popover,\n    deprecated_popoverRadius,\n    deprecated_portal,\n    deprecated_popoverScheme,\n  ])\n\n  return (\n    <Popover {...popoverProps} content={menu} data-ui=\"MenuButton__popover\" open={open}>\n      {button || <></>}\n    </Popover>\n  )\n})\n","import styled, {StyledComponent} from 'styled-components'\nimport {Theme} from '../../theme'\n\n/**\n * @public\n */\nexport const MenuDivider: StyledComponent<'hr', Theme> = styled.hr`\n  height: 1px;\n  border: 0;\n  background: var(--card-hairline-soft-color);\n  margin: 0;\n`\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {SelectableTone} from '../../types/selectable'\n\n/**\n * @internal\n */\nexport interface SelectableStyleProps {\n  $tone: SelectableTone\n}\n\nexport function selectableBaseStyle(): FlattenSimpleInterpolation {\n  return css`\n    background-color: inherit;\n    color: inherit;\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n\nexport function selectableColorStyle(\n  props: SelectableStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$tone, theme} = props\n  const {base, muted, selectable} = theme.sanity.color\n  // @todo: remove use of `muted` here\n  const tone = selectable ? selectable[$tone] || selectable.default : muted[$tone] || muted.default\n\n  return css`\n    ${_colorVarsStyle(base, tone.enabled)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n    outline: none;\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      &:disabled {\n        ${_colorVarsStyle(base, tone.disabled)}\n      }\n\n      &:not(:disabled) {\n        &[aria-pressed='true'] {\n          ${_colorVarsStyle(base, tone.pressed)}\n        }\n\n        &[data-selected],\n        &[aria-selected='true'] > & {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, tone.hovered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      &[data-disabled] {\n        ${_colorVarsStyle(base, tone.disabled)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, tone.pressed)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, tone.hovered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    ${theme.sanity.styles?.card?.root}\n  `\n}\n","import styled from 'styled-components'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/radius'\nimport {Box} from '../box'\nimport {selectableBaseStyle, selectableColorStyle, SelectableStyleProps} from './style'\n\n/**\n * @internal\n */\nexport const Selectable = styled(Box)<SelectableStyleProps & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  selectableBaseStyle,\n  selectableColorStyle\n)\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {MenuContext, MenuContextValue} from './menuContext'\n\nexport function useMenu(): MenuContextValue {\n  const value = useContext(MenuContext)\n\n  if (!value) {\n    throw new Error('useMenu(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useMenu(): the context value is not compatible')\n  }\n\n  return value\n}\n","import {ChevronRightIcon} from '@sanity/icons'\nimport React, {createElement, isValidElement, useCallback, useEffect, useRef, useState} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useArrayProp} from '../../hooks'\nimport {Box, Flex, Popover, PopoverProps, Text} from '../../primitives'\nimport {Selectable} from '../../primitives/_selectable'\nimport {SelectableTone} from '../../types/selectable'\nimport {Menu} from './menu'\nimport {useMenu} from './useMenu'\n\n/**\n * @public\n */\nexport interface MenuGroupProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  icon?: React.ComponentType | React.ReactNode\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  radius?: number | number[]\n  space?: number | number[]\n  text: React.ReactNode\n  tone?: SelectableTone\n}\n\n/**\n * @public\n */\nexport function MenuGroup(\n  props: MenuGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'tabIndex'>\n): React.ReactElement {\n  const {\n    as = 'button',\n    children,\n    fontSize,\n    icon,\n    onClick,\n    padding = 3,\n    popover,\n    radius = 2,\n    space = 3,\n    text,\n    tone = 'default',\n    ...restProps\n  } = props\n  const menu = useMenu()\n  const {\n    activeElement,\n    mount,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemMouseEnter = menu.onMouseEnter,\n    registerElement,\n  } = menu\n  const [rootElement, setRootElement] = useState<HTMLButtonElement | null>(null)\n  const [open, setOpen] = useState(false)\n  const shouldFocusRef = useRef<'first' | 'last' | null>(null)\n  const active = Boolean(activeElement) && activeElement === rootElement\n  const [withinMenu, setWithinMenu] = useState(false)\n\n  const handleMouseEnter = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      setWithinMenu(false)\n      onItemMouseEnter(event)\n      setOpen(true)\n    },\n    [onItemMouseEnter]\n  )\n\n  const handleMenuKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        event.stopPropagation()\n\n        setOpen(false)\n\n        requestAnimationFrame(() => {\n          rootElement?.focus()\n        })\n      }\n    },\n    [rootElement]\n  )\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLDivElement>) => {\n      if (onClick) onClick(event)\n\n      shouldFocusRef.current = 'first'\n\n      setOpen(true)\n\n      requestAnimationFrame(() => {\n        shouldFocusRef.current = null\n      })\n    },\n    [onClick]\n  )\n\n  const handleChildItemClick = useCallback(() => {\n    setOpen(false)\n    if (onItemClick) onItemClick()\n  }, [onItemClick])\n\n  const handleMenuMouseEnter = useCallback(() => setWithinMenu(true), [])\n\n  // Register the menu item element\n  useEffect(() => mount(rootElement), [mount, rootElement])\n\n  // Close child menu when a sibling item becomes active\n  useEffect(() => {\n    if (!active) setOpen(false)\n  }, [active])\n\n  // Update state when child menu is no longer open\n  useEffect(() => {\n    if (!open) setWithinMenu(false)\n  }, [open])\n\n  const childMenu = (\n    <Menu\n      onClickOutside={onClickOutside}\n      onEscape={onEscape}\n      onItemClick={handleChildItemClick}\n      onKeyDown={handleMenuKeyDown}\n      onMouseEnter={handleMenuMouseEnter}\n      registerElement={registerElement}\n      shouldFocus={shouldFocusRef.current}\n    >\n      {children}\n    </Menu>\n  )\n\n  const handleKeyDown = useCallback((event: React.KeyboardEvent<HTMLDivElement>) => {\n    const target = event.currentTarget\n\n    if (document.activeElement !== target) {\n      return\n    }\n\n    if (event.key === 'ArrowRight') {\n      shouldFocusRef.current = 'first'\n\n      setOpen(true)\n      setWithinMenu(true)\n\n      requestAnimationFrame(() => {\n        shouldFocusRef.current = null\n      })\n\n      return\n    }\n  }, [])\n\n  return (\n    <Popover {...popover} content={childMenu} data-ui=\"MenuGroup__popover\" open={open}>\n      <Selectable\n        data-as={as}\n        data-ui=\"MenuGroup\"\n        forwardedAs={as}\n        {...restProps}\n        aria-pressed={as === 'button' ? withinMenu : undefined}\n        data-pressed={as !== 'button' ? withinMenu : undefined}\n        data-selected={!withinMenu && active ? '' : undefined}\n        $radius={useArrayProp(radius)}\n        $tone={tone}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        onMouseEnter={handleMouseEnter}\n        ref={setRootElement}\n        tabIndex={-1}\n        type={as === 'button' ? 'button' : undefined}\n      >\n        <Box padding={padding}>\n          <Flex>\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            <Box flex={1} marginLeft={icon ? space : undefined}>\n              <Text size={fontSize} textOverflow=\"ellipsis\">\n                {text}\n              </Text>\n            </Box>\n\n            <Box marginLeft={space}>\n              <Text size={fontSize}>\n                <ChevronRightIcon />\n              </Text>\n            </Box>\n          </Flex>\n        </Box>\n      </Selectable>\n    </Popover>\n  )\n}\n","import React, {\n  createElement,\n  forwardRef,\n  isValidElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useArrayProp, useForwardedRef} from '../../hooks'\nimport {Box, Flex, Text} from '../../primitives'\nimport {Selectable} from '../../primitives/_selectable'\nimport {ResponsivePaddingProps, ResponsiveRadiusProps} from '../../primitives/types'\nimport {SelectableTone} from '../../types/selectable'\nimport {Hotkeys} from '../hotkeys'\nimport {useMenu} from './useMenu'\n\n/**\n * @public\n */\nexport interface MenuItemProps extends ResponsivePaddingProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  hotkeys?: string[]\n  icon?: React.ComponentType | React.ReactNode\n  iconRight?: React.ComponentType | React.ReactNode\n  pressed?: boolean\n  selected?: boolean\n  space?: number | number[]\n  text?: React.ReactNode\n  tone?: SelectableTone\n}\n\n/**\n * @public\n */\nexport const MenuItem = forwardRef(function MenuItem(\n  props: MenuItemProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'selected' | 'tabIndex'>,\n  forwardedRef: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    as = 'button',\n    children,\n    disabled,\n    fontSize = 2,\n    hotkeys,\n    icon,\n    iconRight,\n    onClick,\n    padding = 3,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    pressed,\n    radius = 2,\n    selected: selectedProp,\n    space = 3,\n    text,\n    tone = 'default',\n    ...restProps\n  } = props\n  const menu = useMenu()\n  const {\n    activeElement,\n    mount,\n    onItemClick,\n    onItemMouseEnter = menu.onMouseEnter,\n    onItemMouseLeave = menu.onMouseLeave,\n  } = menu\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const active = Boolean(activeElement) && activeElement === rootElement\n\n  useEffect(() => mount(rootElement, selectedProp), [mount, rootElement, selectedProp])\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLDivElement>) => {\n      if (disabled) return\n      if (onClick) onClick(event)\n      if (onItemClick) onItemClick()\n    },\n    [disabled, onClick, onItemClick]\n  )\n\n  const paddingProps = useMemo(\n    () => ({\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft,\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingRight, paddingBottom, paddingLeft]\n  )\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      ref.current = el\n      setRootElement(el)\n    },\n    [ref]\n  )\n\n  return (\n    <Selectable\n      data-ui=\"MenuItem\"\n      {...restProps}\n      aria-pressed={as === 'button' && pressed}\n      data-pressed={as !== 'button' && pressed ? '' : undefined}\n      data-selected={active ? '' : undefined}\n      data-disabled={disabled ? '' : undefined}\n      forwardedAs={as}\n      $radius={useArrayProp(radius)}\n      $padding={useArrayProp(0)}\n      $tone={tone}\n      disabled={disabled}\n      onClick={handleClick}\n      onMouseEnter={onItemMouseEnter}\n      onMouseLeave={onItemMouseLeave}\n      ref={setRef}\n      role=\"menuitem\"\n      tabIndex={-1}\n      type={as === 'button' ? 'button' : undefined}\n    >\n      {(icon || text || iconRight) && (\n        <Box as=\"span\" {...paddingProps}>\n          <Flex as=\"span\">\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            {text && (\n              <Box\n                flex={1}\n                marginLeft={icon ? space : undefined}\n                marginRight={iconRight ? space : undefined}\n              >\n                <Text size={fontSize} textOverflow=\"ellipsis\">\n                  {text}\n                </Text>\n              </Box>\n            )}\n\n            {hotkeys && (\n              <Box marginLeft={space} style={{marginTop: -4, marginBottom: -4}}>\n                <Hotkeys fontSize={fontSize} keys={hotkeys} />\n              </Box>\n            )}\n\n            {iconRight && (\n              <Text size={fontSize}>\n                {isValidElement(iconRight) && iconRight}\n                {isValidElementType(iconRight) && createElement(iconRight)}\n              </Text>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {children && (\n        <Box as=\"span\" {...paddingProps}>\n          {children}\n        </Box>\n      )}\n    </Selectable>\n  )\n})\n","import {css, keyframes} from 'styled-components'\n\nconst keyframe = keyframes`\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n`\n\nconst animation = css`\n  background-image: linear-gradient(\n    to right,\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-to),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from)\n  );\n  background-position: 100%;\n  background-size: 200% 100%;\n  background-attachment: fixed;\n  animation-name: ${keyframe};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  animation-duration: 2000ms;\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const skeletonStyle = css<{$animated: boolean; $visible: boolean}>`\n  opacity: ${({$visible}) => ($visible ? 1 : 0)};\n  transition: opacity 200ms ease-in;\n\n  @media screen and (prefers-reduced-motion: no-preference) {\n    ${({$animated}) =>\n      $animated\n        ? animation\n        : css`\n            background-color: var(--card-skeleton-color-from);\n          `}\n  }\n\n  @media screen and (prefers-reduced-motion: reduce) {\n    background-color: var(--card-skeleton-color-from);\n  }\n`\n","import React, {forwardRef, useEffect, useState} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box} from '../../primitives'\nimport {BoxProps, ResponsiveRadiusProps} from '../../primitives'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {skeletonStyle} from './styles'\n\nconst Root = styled(Box)<{$animated: boolean; $visible: boolean} & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  skeletonStyle\n)\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface SkeletonProps extends ResponsiveRadiusProps, Omit<BoxProps, 'children'> {\n  animated?: boolean\n  delay?: number\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Skeleton = forwardRef(function Skeleton(\n  props: SkeletonProps & React.HTMLProps<HTMLDivElement>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {animated = false, delay, radius, ...restProps} = props\n  const [visible, setVisible] = useState<boolean>(delay ? false : true)\n\n  useEffect(() => {\n    if (!delay) {\n      return setVisible(true)\n    }\n\n    const timeout = setTimeout(() => {\n      setVisible(true)\n    }, delay)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [delay])\n\n  return (\n    <Root\n      {...restProps}\n      $animated={animated}\n      $radius={useArrayProp(radius)}\n      $visible={visible}\n      ref={ref}\n    />\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {_responsive} from '../../styles'\nimport {Theme, ThemeFontKey} from '../../theme'\nimport {Skeleton, SkeletonProps} from './skeleton'\n\nconst Root = styled(Skeleton)<{$size: number[]; $style: ThemeFontKey}>(\n  ({$size, $style, theme}: {$size: number[]; $style: ThemeFontKey; theme: Theme}) => {\n    const {media} = theme.sanity\n    const font = theme.sanity.fonts[$style]\n\n    const styles = _responsive(media, $size, (sizeIndex) => {\n      const fontSize = font.sizes[sizeIndex]\n      const capHeight = fontSize.lineHeight - fontSize.ascenderHeight - fontSize.descenderHeight\n\n      return {height: capHeight}\n    })\n\n    return styles\n  }\n)\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TextSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface LabelSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface HeadingSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface CodeSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TextSkeleton = forwardRef(function TextSkeleton(\n  props: TextSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"text\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const LabelSkeleton = forwardRef(function TextSkeleton(\n  props: LabelSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"label\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const HeadingSkeleton = forwardRef(function TextSkeleton(\n  props: HeadingSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"heading\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const CodeSkeleton = forwardRef(function TextSkeleton(\n  props: CodeSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"code\" />\n})\n","import React, {forwardRef, useCallback, useEffect, useRef} from 'react'\nimport {useForwardedRef} from '../../hooks'\nimport {Button} from '../../primitives'\nimport {ButtonTone} from '../../types'\n\n/**\n * @public\n */\nexport interface TabProps {\n  /**\n   * The `id` of the correlating `TabPanel` component.\n   */\n  'aria-controls': string\n  id: string\n  icon?: React.ComponentType | React.ReactNode\n  focused?: boolean\n  fontSize?: number | number[]\n  label?: React.ReactNode\n  padding?: number | number[]\n  selected?: boolean\n  tone?: ButtonTone\n}\n\n/**\n * @public\n */\nexport const Tab = forwardRef(function Tab(\n  props: TabProps &\n    Omit<React.HTMLProps<HTMLButtonElement>, 'aria-controls' | 'as' | 'id' | 'label' | 'type'>,\n  forwardedRef: React.ForwardedRef<HTMLButtonElement>\n) {\n  const {\n    icon,\n    id,\n    focused,\n    fontSize,\n    label,\n    onClick,\n    onFocus,\n    padding = 2,\n    selected,\n    ...restProps\n  } = props\n  const elementRef = useRef<HTMLButtonElement | null>(null)\n  const focusedRef = useRef(false)\n\n  const handleBlur = useCallback(() => {\n    focusedRef.current = false\n  }, [])\n\n  const handleFocus = useCallback(\n    (event: React.FocusEvent<HTMLButtonElement>) => {\n      focusedRef.current = true\n      if (onFocus) onFocus(event)\n    },\n    [onFocus]\n  )\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useEffect(() => {\n    if (focused && !focusedRef.current) {\n      if (elementRef.current) elementRef.current.focus()\n      focusedRef.current = true\n    }\n  }, [focused])\n\n  const setRef = (el: HTMLButtonElement | null) => {\n    elementRef.current = el\n    ref.current = el\n  }\n\n  return (\n    <Button\n      data-ui=\"Tab\"\n      {...restProps}\n      aria-selected={selected ? 'true' : 'false'}\n      fontSize={fontSize}\n      icon={icon}\n      id={id}\n      mode=\"bleed\"\n      onClick={onClick}\n      onBlur={handleBlur}\n      onFocus={handleFocus}\n      padding={padding}\n      ref={setRef}\n      role=\"tab\"\n      selected={selected}\n      tabIndex={selected ? 0 : -1}\n      text={label}\n      type=\"button\"\n    />\n  )\n})\n","import React, {cloneElement, forwardRef, useCallback, useMemo, useState} from 'react'\nimport {Inline, InlineProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabListProps extends Omit<InlineProps, 'as' | 'height'> {\n  children: Array<React.ReactElement | null | undefined | false>\n}\n\nfunction _isReactElement(node: unknown): node is React.ReactElement {\n  return Boolean(node)\n}\n\n/**\n * @public\n */\nexport const TabList = forwardRef(function TabList(\n  props: TabListProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref\n) {\n  const {children: childrenProp, ...restProps} = props\n  const [focusedIndex, setFocusedIndex] = useState(-1)\n\n  const children = useMemo(() => childrenProp.filter(_isReactElement), [childrenProp])\n\n  const tabs = children.map((child, childIndex) =>\n    cloneElement(child, {\n      focused: focusedIndex === childIndex,\n      key: childIndex,\n      onFocus: () => handleTabFocus(childIndex),\n    })\n  )\n\n  const numTabs = tabs.length\n\n  const handleTabFocus = useCallback((tabIdx: number) => {\n    setFocusedIndex(tabIdx)\n  }, [])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        setFocusedIndex((prevIndex) => (prevIndex + numTabs - 1) % numTabs)\n      }\n\n      if (event.key === 'ArrowRight') {\n        setFocusedIndex((prevIndex) => (prevIndex + 1) % numTabs)\n      }\n    },\n    [numTabs]\n  )\n\n  return (\n    <Inline data-ui=\"TabList\" {...restProps} onKeyDown={handleKeyDown} ref={ref} role=\"tablist\">\n      {tabs}\n    </Inline>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport {Box, BoxProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabPanelProps extends BoxProps {\n  /**\n   * The `id` of the correlating `Tab` component.\n   */\n  'aria-labelledby': string\n  id: string\n}\n\n/**\n * @public\n */\nexport const TabPanel = forwardRef(function TabPanel(\n  props: TabPanelProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'aria-labelledby' | 'id' | 'role'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {flex, ...restProps} = props\n\n  return (\n    <Box\n      data-ui=\"TabPanel\"\n      {...restProps}\n      flex={flex}\n      ref={ref}\n      role=\"tabpanel\"\n      tabIndex={props.tabIndex === undefined ? 0 : props.tabIndex}\n    >\n      {props.children}\n    </Box>\n  )\n})\n","import {CloseIcon} from '@sanity/icons'\nimport React from 'react'\nimport styled from 'styled-components'\nimport {Box, Button, Card, Flex, Stack, Text} from '../../primitives'\nimport {ThemeColorToneKey} from '../../theme'\n\n/**\n * @public\n */\nexport interface ToastProps {\n  closable?: boolean\n  description?: React.ReactNode\n  onClose?: () => void\n  title?: React.ReactNode\n  status?: 'error' | 'warning' | 'success' | 'info'\n}\n\nconst STATUS_CARD_TONE: {[key: string]: ThemeColorToneKey} = {\n  error: 'critical',\n  warning: 'caution',\n  success: 'positive',\n  info: 'primary',\n}\n\nconst ROLES = {\n  error: 'alert',\n  warning: 'alert',\n  success: 'alert',\n  info: 'alert',\n}\n\nconst Root = styled(Card)`\n  pointer-events: all;\n`\n\nconst TextBox = styled(Flex)`\n  overflow-x: auto;\n`\n\n/**\n * @public\n */\nexport function Toast(\n  props: ToastProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'title'>\n): React.ReactElement {\n  const {closable, description, onClose, title, status, ...restProps} = props\n  const cardTone = status ? STATUS_CARD_TONE[status] : 'default'\n  const role = status ? ROLES[status] : 'status'\n\n  return (\n    <Root\n      data-ui=\"Toast\"\n      role={role}\n      {...restProps}\n      marginTop={3}\n      radius={2}\n      shadow={2}\n      tone={cardTone}\n    >\n      <Flex align=\"flex-start\">\n        <TextBox flex={1} padding={3}>\n          <Stack space={3}>\n            {title && <Text weight=\"semibold\">{title}</Text>}\n            {description && (\n              <Text muted size={1}>\n                {description}\n              </Text>\n            )}\n          </Stack>\n        </TextBox>\n\n        {closable && (\n          <Box padding={1}>\n            <Button\n              as=\"button\"\n              icon={CloseIcon}\n              mode=\"bleed\"\n              padding={2}\n              onClick={onClose}\n              style={{verticalAlign: 'top'}}\n            />\n          </Box>\n        )}\n      </Flex>\n    </Root>\n  )\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {ToastContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/toast')\n\nglobalScope[key] = globalScope[key] || createContext<ToastContextValue | null>(null)\n\nexport const ToastContext: React.Context<ToastContextValue | null> = globalScope[key]\n","import {AnimatePresence, motion} from 'framer-motion'\nimport React, {useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {Box} from '../../primitives'\nimport {Layer} from '../../utils'\nimport {Toast} from './toast'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue, ToastParams} from './types'\n\ninterface ToastState {\n  toasts: {\n    dismiss: () => void\n    id: string\n    params: ToastParams\n  }[]\n}\n\n/**\n * @public\n */\nexport interface ToastProviderProps {\n  children?: React.ReactNode\n  padding?: number | number[]\n  paddingX?: number | number[]\n  paddingY?: number | number[]\n  zOffset?: number | number[]\n}\n\nconst Root = styled(Layer)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n`\n\nconst ToastContainer = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  max-width: 420px;\n  width: 100%;\n`\n\nlet toastId = 0\n\n/**\n * @public\n */\nexport function ToastProvider(props: ToastProviderProps): React.ReactElement {\n  const {children, padding = 4, paddingX, paddingY, zOffset} = props\n  const [state, setState] = useState<ToastState>({toasts: []})\n  const toastsRef = useRef<{[key: string]: {timeoutId: NodeJS.Timeout}}>({})\n\n  const push = useCallback((params: ToastParams) => {\n    const id = params.id || String(toastId++)\n    const duration = params.duration || 5000\n\n    const dismiss = () => {\n      const timeoutId = toastsRef.current[id]?.timeoutId\n\n      setState((prevState) => {\n        const idx = prevState.toasts.findIndex((t) => t.id === id)\n\n        if (idx > -1) {\n          const toasts = prevState.toasts.slice(0)\n\n          toasts.splice(idx, 1)\n\n          return {...prevState, toasts}\n        }\n\n        return prevState\n      })\n\n      if (timeoutId !== undefined) {\n        clearTimeout(timeoutId)\n        delete toastsRef.current[id]\n      }\n    }\n\n    setState((prevState) => {\n      return {\n        ...prevState,\n        toasts: prevState.toasts\n          .filter((t) => t.id !== id)\n          .concat([\n            {\n              dismiss,\n              id,\n              params: {...params, duration},\n            },\n          ]),\n      }\n    })\n\n    if (toastsRef.current[id]) {\n      clearTimeout(toastsRef.current[id].timeoutId)\n      delete toastsRef.current[id]\n    }\n\n    toastsRef.current[id] = {timeoutId: setTimeout(dismiss, duration)}\n\n    return id\n  }, [])\n\n  // clear timeouts on unmount\n  useEffect(\n    () => () => {\n      for (const {timeoutId} of Object.values(toastsRef.current)) {\n        clearTimeout(timeoutId)\n      }\n\n      toastsRef.current = {}\n    },\n    []\n  )\n\n  const value: ToastContextValue = useMemo(() => ({version: 0.0, push}), [push])\n\n  return (\n    <ToastContext.Provider value={value}>\n      {children}\n\n      <Root data-ui=\"ToastProvider\" zOffset={zOffset}>\n        <ToastContainer>\n          <Box padding={padding} paddingX={paddingX} paddingY={paddingY}>\n            <AnimatePresence initial={false}>\n              {state.toasts.map(({dismiss, id, params}) => (\n                <motion.div\n                  animate={{opacity: 1, y: 0, scale: 1}}\n                  exit={{opacity: 0, scale: 0.5, transition: {duration: 0.2}}}\n                  initial={{opacity: 0, y: 32, scale: 0.25}}\n                  key={id}\n                  layout=\"position\"\n                  transition={{type: 'spring', damping: 30, stiffness: 400}}\n                >\n                  <Toast\n                    closable={params.closable}\n                    description={params.description}\n                    onClose={dismiss}\n                    status={params.status}\n                    title={params.title}\n                  />\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </Box>\n        </ToastContainer>\n      </Root>\n    </ToastContext.Provider>\n  )\n}\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue} from './types'\n\n/**\n * @public\n */\nexport function useToast(): ToastContextValue {\n  const value = useContext(ToastContext)\n\n  if (!value) {\n    throw new Error('useToast(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useToast(): the context value is not compatible')\n  }\n\n  return value\n}\n","import {TreeState} from './types'\n\nexport function _findPrevItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(0, idx)\n  const len = els.length\n\n  for (let i = len - 1; i >= 0; i -= 1) {\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _findNextItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(idx)\n  const len = itemElements.length\n\n  for (let i = 1; i < len; i += 1) {\n    if (!els[i]) {\n      continue\n    }\n\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _focusItemElement(el: HTMLElement): void {\n  if (el.getAttribute('role') === 'treeitem') {\n    el.focus()\n  }\n\n  if (el.getAttribute('role') === 'none') {\n    const firstChild = el.firstChild\n\n    if (firstChild && firstChild instanceof HTMLElement) {\n      firstChild.focus()\n    }\n  }\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {TreeContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/tree')\n\nglobalScope[key] = globalScope[key] || createContext<TreeContextValue | null>(null)\n\n/**\n * @internal\n */\nexport const TreeContext: React.Context<TreeContextValue | null> = globalScope[key]\n","import React, {forwardRef, memo, useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport {useForwardedRef} from '../../hooks'\nimport {Stack} from '../../primitives'\nimport {_findNextItemElement, _findPrevItemElement, _focusItemElement} from './helpers'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue, TreeState} from './types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TreeProps {\n  space?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Tree = memo(\n  forwardRef(function Tree(\n    props: TreeProps &\n      Omit<React.HTMLProps<HTMLDivElement>, 'align' | 'as' | 'height' | 'ref' | 'role' | 'wrap'>,\n    ref: React.ForwardedRef<HTMLDivElement>\n  ): React.ReactElement {\n    const {children, space = 1, ...restProps} = props\n    const forwardedRef = useForwardedRef(ref)\n    const [focusedElement, setFocusedElement] = useState<HTMLElement | null>(null)\n    const focusedElementRef = useRef(focusedElement)\n    const path: string[] = useMemo(() => [], [])\n    const [itemElements, setItemElements] = useState<HTMLElement[]>([])\n    const [state, setState] = useState<TreeState>({})\n    const stateRef = useRef(state)\n\n    useEffect(() => {\n      focusedElementRef.current = focusedElement\n    }, [focusedElement])\n\n    useEffect(() => {\n      stateRef.current = state\n    }, [state])\n\n    const registerItem = useCallback(\n      (element: HTMLElement, path: string, expanded: boolean, selected: boolean) => {\n        setState((s) => ({...s, [path]: {element, expanded}}))\n\n        if (selected) {\n          setFocusedElement(element)\n        }\n\n        return () => {\n          setState((s) => {\n            const newState = {...s}\n\n            delete newState[path]\n\n            return newState\n          })\n        }\n      },\n      []\n    )\n\n    const setExpanded = useCallback((path: string, expanded: boolean) => {\n      setState((s) => {\n        const itemState = s[path]\n\n        if (!itemState) return s\n\n        return {...s, [path]: {...itemState, expanded}}\n      })\n    }, [])\n\n    const contextValue: TreeContextValue = useMemo(\n      () => ({\n        version: 0.0,\n        focusedElement: focusedElement || itemElements[0] || null,\n        level: 0,\n        path,\n        registerItem,\n        setExpanded,\n        setFocusedElement,\n        space,\n        state,\n      }),\n      [focusedElement, itemElements, path, registerItem, setExpanded, space, state]\n    )\n\n    const handleKeyDown = useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (!focusedElementRef.current) return\n\n        if (event.key === 'ArrowDown') {\n          event.preventDefault()\n\n          const nextEl = _findNextItemElement(\n            stateRef.current,\n            itemElements,\n            focusedElementRef.current\n          )\n\n          if (nextEl) {\n            _focusItemElement(nextEl)\n            setFocusedElement(nextEl)\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowUp') {\n          event.preventDefault()\n\n          const prevEl = _findPrevItemElement(\n            stateRef.current,\n            itemElements,\n            focusedElementRef.current\n          )\n\n          if (prevEl) {\n            _focusItemElement(prevEl)\n            setFocusedElement(prevEl)\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowLeft') {\n          event.preventDefault()\n\n          const itemKey = focusedElementRef.current.getAttribute('data-tree-key')\n\n          if (!itemKey) return\n\n          const itemState = stateRef.current[itemKey]\n\n          if (!itemState) return\n\n          if (itemState.expanded) {\n            setState((s) => {\n              const itemState = s[itemKey]\n\n              if (!itemState) return s\n\n              return {...s, [itemKey]: {...itemState, expanded: false}}\n            })\n          } else {\n            const itemPath = itemKey.split('/')\n\n            itemPath.pop()\n\n            const parentKey = itemPath.join('/')\n            const parentState = parentKey && stateRef.current[parentKey]\n\n            if (parentState) {\n              parentState.element.focus()\n              setFocusedElement(parentState.element)\n            }\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowRight') {\n          event.preventDefault()\n\n          const focusedKey = focusedElementRef.current.getAttribute('data-tree-key')\n\n          if (!focusedKey) return\n\n          if (!stateRef.current[focusedKey]?.expanded) {\n            setState((s) => {\n              const itemState = s[focusedKey]\n\n              if (!itemState) return s\n\n              return {...s, [focusedKey]: {...itemState, expanded: true}}\n            })\n          }\n\n          return\n        }\n      },\n      [itemElements]\n    )\n\n    useEffect(() => {\n      if (!forwardedRef.current) return\n      const _itemElements = Array.from(\n        forwardedRef.current.querySelectorAll('[data-ui=\"TreeItem\"]')\n      ) as HTMLElement[]\n\n      setItemElements(_itemElements)\n    }, [children, forwardedRef])\n\n    return (\n      <TreeContext.Provider value={contextValue}>\n        <Stack\n          as=\"ul\"\n          data-ui=\"Tree\"\n          {...restProps}\n          onKeyDown={handleKeyDown}\n          ref={forwardedRef}\n          role=\"tree\"\n          space={space}\n        >\n          {children}\n        </Stack>\n      </TreeContext.Provider>\n    )\n  })\n)\n\nTree.displayName = 'Tree'\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\n\nexport function treeItemRootStyle(): FlattenSimpleInterpolation {\n  return css`\n    &[role='none'] > [role='treeitem'] {\n      outline: none;\n      cursor: default;\n      border-radius: 3px;\n\n      &:focus {\n        position: relative;\n      }\n    }\n\n    &[role='treeitem'] {\n      outline: none;\n\n      & > div {\n        cursor: default;\n        border-radius: 3px;\n      }\n\n      &:focus > div {\n        position: relative;\n      }\n    }\n  `\n}\n\nexport function treeItemRootColorStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const $tone = 'default'\n  const {base, muted, selectable} = theme.sanity.color\n  // @todo: remove use of `muted` here\n  const tone = selectable ? selectable[$tone] || selectable.default : muted[$tone] || muted.default\n\n  return css`\n    /* <div role=\"none\"><a data-ui=\"TreeItem__box\" role=\"treeitem\" tabIndex=\"0\"></div> */\n    &[role='none'] {\n      & > [role='treeitem'] {\n        ${_colorVarsStyle(base, tone.enabled)}\n\n        background-color: var(--card-bg-color);\n        color: var(--treeitem-fg-color);\n      }\n\n      &[data-selected] > [role='treeitem'] {\n        ${_colorVarsStyle(base, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {\n          ${_colorVarsStyle(base, tone.hovered)}\n        }\n\n        & > [role='treeitem']:focus {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n      }\n    }\n\n    /* <div role=\"treeitem\" tabIndex=\"0\"><div data-ui=\"TreeItem__box\"></div> */\n    &[role='treeitem'] {\n      & > [data-ui='TreeItem__box'] {\n        ${_colorVarsStyle(base, tone.enabled)}\n\n        background-color: var(--card-bg-color);\n        color: var(--card-fg-color);\n      }\n\n      &[data-selected] > [data-ui='TreeItem__box'] {\n        ${_colorVarsStyle(base, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {\n          ${_colorVarsStyle(base, tone.hovered)}\n        }\n\n        &:focus > [data-ui='TreeItem__box'] {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n      }\n    }\n  `\n}\n\nexport interface TreeItemBoxStyleProps {\n  $level: number\n}\n\nexport function treeItemBoxStyle(\n  props: TreeItemBoxStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$level, theme} = props\n  const {space} = theme.sanity\n\n  return css`\n    padding-left: ${rem(space[2] * $level)};\n\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n","import {useContext} from 'react'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue} from './types'\n\n/**\n * @beta\n */\nexport function useTree(): TreeContextValue {\n  const tree = useContext(TreeContext)\n\n  if (!tree) {\n    throw new Error('Tree: missing context value')\n  }\n\n  return tree\n}\n","import React, {memo} from 'react'\nimport {Stack} from '../../primitives'\nimport {useTree} from './useTree'\n\nexport interface TreeGroupProps {\n  expanded?: boolean\n}\n\nexport const TreeGroup = memo(function TreeGroup(\n  props: TreeGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'role' | 'wrap'>\n): React.ReactElement {\n  const {children, expanded = false, ...restProps} = props\n  const tree = useTree()\n\n  return (\n    <Stack\n      as=\"ul\"\n      data-ui=\"TreeGroup\"\n      {...restProps}\n      hidden={!expanded}\n      marginTop={tree.space}\n      role=\"group\"\n      space={tree.space}\n    >\n      {children}\n    </Stack>\n  )\n})\n","import {useId} from '@reach/auto-id'\nimport {ToggleArrowRightIcon} from '@sanity/icons'\nimport React, {createElement, memo, useCallback, useEffect, useMemo, useRef} from 'react'\nimport styled from 'styled-components'\nimport {Box, Flex, Text} from '../../primitives'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {\n  treeItemRootStyle,\n  treeItemRootColorStyle,\n  treeItemBoxStyle,\n  TreeItemBoxStyleProps,\n} from './style'\nimport {TreeContext} from './treeContext'\nimport {TreeGroup} from './treeGroup'\nimport {useTree} from './useTree'\n\n/**\n * @beta\n */\nexport interface TreeItemProps {\n  expanded?: boolean\n  fontSize?: number | number[]\n  icon?: React.ComponentType\n  padding?: number | number[]\n  space?: number | number[]\n  text?: React.ReactNode\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = memo(styled.li(treeItemRootStyle, treeItemRootColorStyle))\n\nconst TreeItemBox = styled(Box).attrs({forwardedAs: 'a'})<TreeItemBoxStyleProps>(treeItemBoxStyle)\n\nconst ToggleArrowText = styled(Text)`\n  & > svg {\n    transition: transform 100ms;\n  }\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TreeItem = memo(function TreeItem(\n  props: TreeItemProps & Omit<React.HTMLProps<HTMLLIElement>, 'as' | 'ref' | 'role'>\n): React.ReactElement {\n  const {\n    children,\n    expanded: expandedProp = false,\n    fontSize,\n    href,\n    icon,\n    id: idProp,\n    muted,\n    onClick,\n    padding = 3,\n    selected = false,\n    space = 2,\n    text,\n    weight,\n    ...restProps\n  } = props\n  const rootRef = useRef<HTMLLIElement | null>(null)\n  const treeitemRef = useRef<HTMLDivElement | null>(null)\n  const tree = useTree()\n  const {path, registerItem, setExpanded, setFocusedElement} = tree\n  const id = useId(idProp) || idProp\n  const itemPath = useMemo(() => path.concat([id || '']), [id, path])\n  const itemKey = itemPath.join('/')\n  const itemState = tree.state[itemKey]\n  const focused = tree.focusedElement === rootRef.current\n  const expanded = itemState?.expanded === undefined ? expandedProp : itemState?.expanded || false\n  const tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1\n  const contextValue = useMemo(\n    () => ({...tree, level: tree.level + 1, path: itemPath}),\n    [itemPath, tree]\n  )\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLLIElement>) => {\n      if (onClick) onClick(event)\n\n      const target = event.target\n\n      if (\n        target instanceof HTMLElement &&\n        (target.getAttribute('data-ui') === 'TreeItem__box' ||\n          target.closest('[data-ui=\"TreeItem__box\"]'))\n      ) {\n        event.stopPropagation()\n        setExpanded(itemKey, !expanded)\n        setFocusedElement(rootRef.current)\n      }\n    },\n    [expanded, itemKey, onClick, setExpanded, setFocusedElement]\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      if (focused && event.key === 'Enter') {\n        const el = treeitemRef.current || rootRef.current\n\n        el?.click()\n      }\n    },\n    [focused]\n  )\n\n  useEffect(() => {\n    if (!rootRef.current) return\n\n    return registerItem(rootRef.current, itemPath.join('/'), expanded, selected)\n  }, [expanded, itemPath, registerItem, selected])\n\n  const content = (\n    <Flex padding={padding}>\n      <Box\n        marginRight={space}\n        style={{visibility: icon || children ? 'visible' : 'hidden', pointerEvents: 'none'}}\n      >\n        {icon && (\n          <Text muted={muted} size={fontSize} weight={weight}>\n            {createElement(icon)}\n          </Text>\n        )}\n        {!icon && (\n          <ToggleArrowText muted={muted} size={fontSize} weight={weight}>\n            <ToggleArrowRightIcon style={{transform: expanded ? 'rotate(90deg)' : undefined}} />\n          </ToggleArrowText>\n        )}\n      </Box>\n      <Box flex={1}>\n        <Text muted={muted} size={fontSize} textOverflow=\"ellipsis\" weight={weight}>\n          {text}\n        </Text>\n      </Box>\n    </Flex>\n  )\n\n  if (href) {\n    return (\n      <Root\n        data-selected={selected ? '' : undefined}\n        data-tree-id={id}\n        data-tree-key={itemKey}\n        data-ui=\"TreeItem\"\n        {...restProps}\n        onClick={handleClick}\n        ref={rootRef}\n        role=\"none\"\n      >\n        <TreeItemBox\n          $level={tree.level}\n          aria-expanded={expanded}\n          data-ui=\"TreeItem__box\"\n          href={href}\n          ref={treeitemRef}\n          role=\"treeitem\"\n          tabIndex={tabIndex}\n        >\n          {content}\n        </TreeItemBox>\n\n        <TreeContext.Provider value={contextValue}>\n          {children && <TreeGroup hidden={!expanded}>{children}</TreeGroup>}\n        </TreeContext.Provider>\n      </Root>\n    )\n  }\n\n  return (\n    <Root\n      data-selected={selected ? '' : undefined}\n      data-ui=\"TreeItem\"\n      data-tree-id={id}\n      data-tree-key={itemKey}\n      {...restProps}\n      aria-expanded={expanded}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={rootRef}\n      role=\"treeitem\"\n      tabIndex={tabIndex}\n    >\n      <TreeItemBox $level={tree.level} as=\"div\" data-ui=\"TreeItem__box\">\n        {content}\n      </TreeItemBox>\n\n      <TreeContext.Provider value={contextValue}>\n        {children && <TreeGroup expanded={expanded}>{children}</TreeGroup>}\n      </TreeContext.Provider>\n    </Root>\n  )\n})\n"],"names":["EMPTY_ARRAY","EMPTY_RECORD","_fillCSSObject","keys","value","reduce","style","key","rem","pixelValue","_responsive","media","values","callback","statements","map","statement","mediaIndex","_getArrayProp","val","defaultVal","undefined","Array","isArray","_getResponsiveSpace","theme","props","spaceIndexes","Error","length","sanity","spaceIndex","space","responsiveFont","fontKey","$size","$weight","fonts","family","sizes","weights","fontWeight","regular","defaultSize","base","position","fontFamily","padding","margin","content","display","height","resp","sizeIndex","fontSize","size","ascenderHeight","descenderHeight","iconSize","letterSpacing","lineHeight","negHeight","capHeight","iconOffset","customIconSize","Math","floor","customIconOffset","transform","marginTop","marginBottom","responsiveCodeFontStyle","responsiveHeadingFont","responsiveLabelFont","responsiveTextAlignStyle","$align","textAlign","responsiveTextFont","useArrayProp","__perf_hash__","JSON","stringify","useMemo","_getElements","element","elementsArg","ret","el","push","filter","Boolean","useClickOutside","listener","boundaryElement","setElement","useState","elements","setElements","elementsRef","useRef","useEffect","prevElements","current","nextElements","includes","handleWindowMouseDown","evt","target","Node","contains","window","addEventListener","removeEventListener","_ResizeObserver","ResizeObserver","ResizeObserverPolyfill","_elementSizeObserver","_createElementSizeObserver","_createElementRectValueListener","subscribe","subscriber","resizeObserver","entry","_contentRect","contentRect","border","width","borderBoxSize","inlineSize","blockSize","observe","unobserve","disconnect","disposeCache","WeakMap","subscribersCache","subscribers","get","dispose","has","set","elementRect","sub","idx","indexOf","splice","useElementSize","setSize","useElementRect","elementSize","useGlobalKeyDown","onKeyDown","multiplyChannel","b","s","multiply","r","round","clamp","g","num","max","min","screenChannel","screen","hexToRgb","hex","hexR","slice","hexG","hexB","parseInt","rgbToHex","toString","rgbToHsl","cmin","cmax","delta","h","l","abs","toFixed","hslToRgb","hsl","c","x","m","HEX_CHARS","HSL_RE","isHexChars","str","isHex","parseHsl","res","exec","parseFloat","parseColor","color","startsWith","rgba","a","rgb","createButtonTones","opts","dark","solid","muted","mode","default","button","primary","positive","caution","critical","createButtonModes","ghost","bleed","createCardStates","name","enabled","card","state","disabled","hovered","pressed","selected","black","white","colors","lightest","lighter","light","darker","darkest","transparent","spots","gray","red","orange","yellow","green","cyan","blue","purple","magenta","tones","bg","fg","focusRing","defaultOpts","shadow","outline","umbra","penumbra","ambient","skeleton","from","to","tone","bg2","accent","link","code","input","placeholder","selectable","spot","syntax","atrule","attrName","attrValue","attribute","boolean","builtin","cdata","char","class","className","comment","constant","deleted","doctype","entity","function","hexcode","id","important","inserted","keyword","number","operator","prolog","property","pseudoClass","pseudoElement","punctuation","regex","selector","string","symbol","tag","unit","url","variable","createInputModes","readOnly","invalid","createMutedTones","createSelectableTones","_createSelectableStates","createSolidTones","createSpot","createColorTheme","partialOpts","builders","_createColorScheme","_createColor","_multiply","_screen","hues","NEUTRAL_TONES","tints","skeletonFrom","mix","mix2","defaultTints","isNeutral","mainShade","secondaryShade","medium","semibold","bold","heading","label","text","studioTheme","avatar","distance","textWeight","container","offset","radius","shadows","checkbox","radio","markSize","switch","transitionDurationMs","transitionTimingFunction","DEFAULT_THEME_LAYER","dialog","zOffset","popover","tooltip","getGlobalScope","globalThis","self","global","globalScope","Symbol","for","createContext","ThemeContext","ThemeProvider","parentTheme","useContext","children","scheme","themeProp","rootColor","layer","rootLayer","restTheme","colorScheme","version","React","Provider","StyledThemeProvider","isRecord","useRootTheme","ThemeColorProvider","root","useTheme","useStyledTheme","MEDIA_MANAGER_CACHE","_getMediaQuery","index","_createMediaManager","mediaLen","mediaQuery","mq","matchMedia","getCurrentIndex","matches","disposeFns","handleChange","addListener","removeListener","disposeFn","_getMediaManager","manager","useMediaIndex","setIndex","usePrefersDark","setDark","useIsomorphicEffect","useLayoutEffect","useForwardedRef","ref","innerRef","useCustomValidity","customValidity","setCustomValidity","BORDER_VALUE","responsiveBorderStyle","borderTop","borderRight","borderBottom","borderLeft","$border","$borderTop","$borderRight","$borderBottom","$borderLeft","BASE_STYLE","listStyle","BOX_SIZING","BOX_HEIGHT","stretch","fill","boxStyle","responsiveBoxStyle","responsiveBoxSizingStyle","responsiveBoxHeightStyle","responsiveBoxOverflowStyle","responsiveBoxDisplayStyle","$display","$sizing","sizing","boxSizing","$height","$overflow","overflow","responsiveFlexStyle","responsiveFlexAlignStyle","responsiveFlexGapStyle","responsiveFlexWrapStyle","responsiveFlexJustifyStyle","responsiveFlexDirectionStyle","align","alignItems","$gap","gap","$wrap","wrap","flexWrap","$justify","justify","justifyContent","$direction","direction","flexDirection","minWidth","minHeight","flexItemStyle","responsiveFlexItemStyle","$flex","flex","focusRingBorderStyle","focusRingStyle","focusRingOutsetWidth","focusRingInsetWidth","bgColor","join","GRID_CSS","GRID_AUTO_COLUMS","auto","fr","GRID_AUTO_ROWS","responsiveGridStyle","responsiveGridAutoFlowStyle","responsiveGridAutoRowsStyle","responsiveGridAutoColsStyle","responsiveGridColumnsStyle","responsiveGridRowsStyle","responsiveGridGapStyle","responsiveGridGapXStyle","responsiveGridGapYStyle","$autoFlow","autoFlow","gridAutoFlow","$autoRows","autoRows","gridAutoRows","$autoCols","autoCols","gridAutoColumns","$columns","columns","gridTemplateColumns","$rows","rows","gridTemplateRows","gridGap","$gapX","gapX","columnGap","$gapY","gapY","rowGap","responsiveGridItemStyle","responsiveGridItemRowStyle","responsiveGridItemRowStartStyle","responsiveGridItemRowEndStyle","responsiveGridItemColumnStyle","responsiveGridItemColumnStartStyle","responsiveGridItemColumnEndStyle","GRID_ITEM_ROW","full","GRID_ITEM_COLUMN","$row","row","gridRow","$rowStart","rowStart","gridRowStart","$rowEnd","rowEnd","gridRowEnd","$column","column","gridColumn","$columnStart","columnStart","gridColumnStart","$columnEnd","columnEnd","gridColumnEnd","responsiveInputPaddingStyle","$fontSize","$iconLeft","$iconRight","$padding","$space","spaceScale","len","_padding","_space","_fontSize","i","_","emSize","p","styles","paddingTop","paddingRight","paddingBottom","paddingLeft","responsiveInputPaddingIconRightStyle","ROOT_STYLE","css","textInputRootStyle","textInputBaseStyle","$scheme","$tone","font","textInputFontSizeStyle","textInputRepresentationStyle","$hasPrefix","$hasSuffix","responsiveMarginStyle","$margin","$marginX","$marginY","$marginTop","$marginRight","$marginBottom","$marginLeft","responsivePaddingStyle","$paddingX","$paddingY","$paddingTop","$paddingRight","$paddingBottom","$paddingLeft","responsiveRadiusStyle","$radius","radiusIndex","borderRadius","toBoxShadow","shadowStyle","boxShadow","responsiveShadowStyle","$shadow","textBaseStyle","$accent","$muted","Root","styled","div","SpanWithTextOverflow","span","Text","forwardRef","childrenProp","textOverflow","weight","restProps","avatarStyle","avatarRootStyle","arrow","avatarArrowStyle","bgStroke","avatarBgStrokeStyle","stroke","avatarStrokeStyle","initials","avatarInitialsStyle","zIndex","opacity","transition","left","right","top","bottom","$color","backgroundColor","userSelect","appearance","responsiveAvatarSizeStyle","avatarSize","textTransform","strokeWidth","strokeSasharray","strokeLinecap","Arrow","BgStroke","ellipse","Stroke","Initials","Avatar","as","asProp","colorKey","src","title","onImageLoadError","arrowPosition","arrowPositionProp","animateArrowFrom","status","sizeProp","ReactIs","isValidElementType","_sizeRem","_radius","elementId","useId","setArrowPosition","imageFailed","setImageFailed","imageId","raf","requestAnimationFrame","cancelAnimationFrame","handleImageError","useCallback","initialsSize","viewBox","d","patternContentUnits","href","onError","cx","cy","rx","ry","vectorEffect","_responsiveAvatarCounterSizeStyle","_avatarCounterBaseStyle","AvatarCounter","count","counterSize","childrenToElementArray","childrenArray","node","isElement","isFragment","BASE_STYLES","avatarStackStyle","responsiveAvatarStackSizeStyle","marginLeft","AvatarStack","maxLength","maxLengthProp","child","visibleCount","extraCount","visibleChildren","childIndex","String","cloneElement","Box","marginX","marginY","marginRight","paddingX","paddingY","labelBaseStyle","Label","badgeStyle","$mode","palette","cursor","Badge","Flex","forwardedAs","rotate","keyframes","Spinner","SpinnerIcon","_colorVarsStyle","checkered","buttonBaseStyles","buttonTheme","buttonColorStyles","LoadingBox","Button","icon","iconRight","justifyProp","loading","paddingProp","paddingXProp","paddingYProp","paddingTopProp","paddingBottomProp","paddingLeftProp","paddingRightProp","radiusProp","spaceProp","type","boxProps","isValidElement","createElement","cardStyle","cardBaseStyle","cardColorStyle","$checkered","$focusRing","Card","__unstable_checkered","__unstable_focusRing","toneProp","rootTheme","checkboxBaseStyles","inputElementStyles","Input","Checkbox","forwardedRef","checked","indeterminate","CheckmarkIcon","RemoveIcon","codeSyntaxHighlightingStyle","codeBaseStyle","pre","Code","language","languageProp","registered","Refractor","hasLanguage","inline","containerBaseStyle","responsiveContainerWidthStyle","$width","maxWidth","Container","Grid","headingBaseStyle","Heading","inlineBaseStyle","verticalAlign","inlineSpaceStyle","Inline","kbdStyle","kbd","KBD","BoundaryElementContext","BoundaryElementProvider","DEFAULT_VALUE","useBoundaryElement","findMaxBreakpoints","bp","findMinBreakpoints","ElementQuery","innerWidth","setRef","ErrorBoundary","Component","error","getDerivedStateFromError","componentDidCatch","info","onCatch","render","message","LayerContext","useLayer","LayerProvider","zOffsetProp","parent","maxMediaIndex","registerChild","v","parentRegisterChild","isTopLayer","LayerChildren","Layer","elementKey","defaultContextValue","document","setAttribute","body","appendChild","PortalContext","usePortal","Portal","__unstable_name","portal","portalElement","ReactDOM","createPortal","useUnique","valueRef","_isEqual","objA","objB","keysA","Object","keysB","every","__BROWSER__","PortalProvider","__unstable_elements","elementsProp","SrOnly","_raf","fn","frameId","_raf2","innerDispose","outerDispose","_isEnterToClickElement","isHTMLAnchorElement","isHTMLButtonElement","isHTMLElement","nodeType","ELEMENT_NODE","nodeName","isHTMLInputElement","isHTMLSelectElement","isHTMLTextAreaElement","_hasFocus","activeElement","isFocusable","tabIndex","getAttribute","rel","attemptFocus","focus","focusFirstDescendant","childNodes","focusLastDescendant","_isScrollable","Element","getComputedStyle","overflowX","overflowY","ItemWrapper","VirtualList","getItemKey","items","onChange","renderItem","wrapperRef","scrollTop","setScrollTop","scrollHeight","setScrollHeight","itemHeight","setItemHeight","firstElement","firstChild","HTMLElement","offsetHeight","_scrollEl","parentNode","scrollEl","handleScroll","passive","disposeElementSizeListener","scrollElementSize","scrollY","handleResize","innerHeight","fromIndex","toIndex","ceil","item","_itemIndex","itemIndex","wrapperStyle","BorderPath","path","ShapePath","PopoverArrow","xmlns","getPopoverModifiers","allowedAutoPlacements","arrowElement","constrainSize","fallbackPlacements","margins","matchReferenceWidth","open","preventOverflow","skidding","tether","tetherOffset","detectOverflowOptions","altAxis","boundary","maxSizeModifier","options","phase","requires","modifiersData","maxSize","popper","maxHeight","rects","reference","y","effect","refElement","offsetWidth","usePopoverModifiers","$preventOverflow","PopoverCard","$constrainSize","Popover","boundaryElementContext","__unstable_margins","boundaryElementProp","placement","portalProp","referenceElement","referenceElementProp","widthProp","setReferenceElement","popperElement","setPopperElement","setArrowElement","popperReferenceElement","modifiers","usePopper","attributes","forceUpdate","childRef","setRootRef","popoverStyle","updateTimeoutRef","clearTimeout","setTimeout","radioBaseStyle","inputElementStyle","dist","Radio","rootStyle","inputBaseStyle","inputColorStyle","textSize","inputTextSizeStyle","inputStyle","iconBoxStyle","selectStyle","iconBox","select","IconBox","Select","SelectIcon","stackBaseStyle","responsiveStackSpaceStyle","Stack","switchBaseStyles","switchInputStyles","switchRepresentationStyles","switchTrackStyles","switchThumbStyles","$indeterminate","trackWidth","trackHeight","trackPadding","checkedOffset","indeterminateOffset","$checked","Representation","Track","Thumb","Switch","InputRoot","textarea","Presentation","TextArea","CLEAR_BUTTON_BOX_STYLE","attrs","Prefix","Suffix","LeftBox","RightBox","RightCard","TextInput","clearButton","fontSizeProp","onClear","prefix","suffix","$hasClearButton","$hasIcon","$hasIconRight","handleClearMouseDown","event","preventDefault","stopPropagation","handleClearClick","prefixNode","presentationNode","clearButtonBoxPadding","clearButtonPadding","clearButtonProps","clearButtonNode","CloseIcon","onClick","onMouseDown","suffixNode","Border","Shape","TooltipArrow","Tooltip","fallbackPlacementsProp","isOpen","setIsOpen","handleBlur","handleFocus","handleMouseEnter","handleMouseLeave","handleWindowMouseMove","isHoveringReference","referenceProps","onBlur","onFocus","onMouseEnter","onMouseLeave","referenceNode","popperNode","ListBox","ResultsPopover","AnimatedSpinnerIcon","AutocompleteOption","onSelect","handleClick","handleKeyDown","currentTarget","role","autocompleteReducer","msg","activeValue","focused","query","listFocused","AUTOCOMPLETE_LISTBOX_IGNORE_KEYS","AUTOCOMPLETE_POPOVER_MARGINS","AUTOCOMPLETE_POPOVER_PLACEMENT","AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS","defaultRenderValue","option","defaultFilterOption","toLowerCase","InnerAutocomplete","filterOption","filterOptionProp","listBox","onQueryChange","openButton","optionsProp","relatedElements","renderOption","renderOptionProp","renderPopover","renderValue","valueProp","dispatch","useReducer","defaultRenderOption","rootElement","setRootElement","resultsPopoverElement","setResultsPopoverElement","inputElementRef","listBoxElementRef","focusedElementRef","valuePropRef","popoverMouseWithinRef","listBoxId","currentOption","find","o","filteredOptions","filteredOptionsLen","activeItemId","expanded","handleRootBlur","concat","focusInside","e","handleRootFocus","listBoxElement","focusedElement","nextListFocused","handleOptionSelect","handleRootKeyDown","activeOption","activeIndex","nextActiveOption","listEl","handleInputChange","nextQuery","handleInputFocus","handlePopoverMouseEnter","handlePopoverMouseLeave","handleClearButtonClick","handleClearButtonFocus","listElement","activeItemElement","openButtonBoxPadding","openButtonPadding","openButtonProps","handleOpenClick","openButtonNode","ChevronDownIcon","inputValue","autoCapitalize","autoComplete","autoCorrect","inputMode","spellCheck","handleListBoxKeyDown","active","results","hidden","inputElement","Autocomplete","ol","ExpandButton","Breadcrumbs","separator","spaceRaw","setOpen","expandElement","setExpandElement","popoverElement","setPopoverElement","collapse","expand","rawItems","Children","toArray","beforeLength","afterLength","Fragment","dialogStyle","background","responsiveDialogPositionStyle","$position","DialogContext","useDialog","DialogContainer","DialogCardRoot","DialogLayout","DialogHeader","DialogContent","DialogFooter","DialogCard","__unstable_autoFocus","autoFocus","__unstable_hideCloseButton","hideCloseButton","contentRef","footer","header","onClickOutside","onClose","shadowProp","localContentRef","labelId","showCloseButton","showHeader","setContentRef","Dialog","cardRadius","cardRadiusProp","cardShadow","positionProp","preDivRef","postDivRef","cardRef","cardElement","DialogProvider","contextValue","Key","Hotkeys","MenuContext","_isFocusable","_getFocusableElements","_getDOMPath","parentElement","unshift","EMPTY_PATH","_sortElements","_sort","_a","_b","aIndex","bIndex","sort","useMenuController","originElement","shouldFocus","_setActiveIndex","activeIndexRef","mounted","setActiveIndex","nextActiveIndex","mount","selectedIndex","focusableElements","currentIndex","focusableLen","focusedIndex","handleItemMouseEnter","handleItemMouseLeave","rafId","_activeIndex","Menu","onEscape","onItemClick","onItemSelect","registerElement","focusFirst","focusLast","handleRefChange","onItemMouseEnter","onItemMouseLeave","MenuButton","__unstable_disableRestoreFocusOnClose","disableRestoreFocusOnClose","deprecated_boundaryElement","buttonProp","menu","menuProp","deprecated_placement","popoverScheme","deprecated_popoverScheme","deprecated_portal","popoverRadius","deprecated_popoverRadius","deprecated_preventOverflow","setShouldFocus","buttonElement","setButtonElement","menuElements","setChildMenuElements","openRef","handleButtonClick","handleButtonKeyDown","handleMenuClickOutside","handleMenuEscape","relatedTarget","handleItemClick","els","_el","menuProps","onBlurCapture","setButtonRef","popoverProps","MenuDivider","hr","selectableBaseStyle","selectableColorStyle","Selectable","useMenu","MenuGroup","shouldFocusRef","withinMenu","setWithinMenu","handleMenuKeyDown","handleChildItemClick","handleMenuMouseEnter","childMenu","ChevronRightIcon","MenuItem","hotkeys","selectedProp","paddingProps","keyframe","animation","skeletonStyle","$visible","$animated","Skeleton","animated","delay","visible","setVisible","timeout","$style","TextSkeleton","LabelSkeleton","HeadingSkeleton","CodeSkeleton","Tab","elementRef","focusedRef","_isReactElement","TabList","setFocusedIndex","tabs","handleTabFocus","numTabs","tabIdx","prevIndex","TabPanel","STATUS_CARD_TONE","warning","success","ROLES","TextBox","Toast","closable","description","cardTone","ToastContext","ToastContainer","toastId","ToastProvider","setState","toasts","toastsRef","params","duration","dismiss","timeoutId","prevState","findIndex","t","AnimatePresence","initial","motion","animate","scale","exit","layout","damping","stiffness","useToast","_findPrevItemElement","itemElements","itemKey","segments","split","pop","j","k","_findNextItemElement","_focusItemElement","TreeContext","Tree","memo","setFocusedElement","setItemElements","stateRef","registerItem","newState","setExpanded","itemState","level","nextEl","prevEl","itemPath","parentKey","parentState","focusedKey","_itemElements","querySelectorAll","displayName","treeItemRootStyle","treeItemRootColorStyle","treeItemBoxStyle","$level","useTree","tree","TreeGroup","li","TreeItemBox","ToggleArrowText","TreeItem","expandedProp","idProp","rootRef","treeitemRef","closest","click","visibility","pointerEvents","ToggleArrowRightIcon"],"mappings":"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"}